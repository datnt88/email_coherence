the feature you want cisco calls wccp. 
i am not real sure but i bet your proxy appliance supports this depends on the exact model. 
it will dynamically intercept the traffic from the router. 
of course you can do policy routing based on ports but it is a pain. 
to go cheap your best bet is a older cisco router. 
something like a 2621 has 2 fast ethernet and are well under $100. the wccp feature is in ios 12.2 and later. 
now a 2621 will not pass anywhere near 100m so you may need larger but it is the same software. 
there are linux based routers that can do a lot of this too. 
it is the cheap way to do it if you are the hacker type. 
