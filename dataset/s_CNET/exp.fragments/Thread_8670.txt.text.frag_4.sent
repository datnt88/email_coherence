if you have warranty still, use it. 
if not, remove battery and clean contacts on both, the laptop and battery. 
make sure of no collapsed contacts and retry. 
if you had the battery more than 12-18mos. 
already consider a replacement. 
batteries are fickle items so follow any recovery hints/tips that compaq offers at thier support website. 
there's nothing more to do for the end-user other than take to repair center or such. 
good luck -----willy 
