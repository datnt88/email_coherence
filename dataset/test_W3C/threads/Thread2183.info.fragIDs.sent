<s> I have been brought up the issue of the date string used in the If-modified-since header.  </s>
<s> Current practice is to use the Last-modified header, and given clock skew, it's also the only foolproof way to do IMS requests.  </s>
<s> Could the wording in the spec be changed to reflect that, and eliminate this source of data incorrectness?  </s>
<s> Basically, change the semantics of "If-modified-since" be "In-not-equal-last-modified".  </s>
<s> Netscape servers and proxy were changed to use an equality check, because there were cases, with older software, incorrectly set timezones or machine times and daylight savings times where the dates would be off and stale data would be rendered up-to-date.  </s>
<s> Cheers, Ari Luotonen* * * Opinions my own, not Netscape's * * * Netscape Communications Corp.ari@netscape.com  </s>
<s> 501 East Middlefield Roadhttp://home.netscape.com/people/ari/  </s>
<s> Mountain View, CA 94043, USANetscape Proxy Server Development  </s>
<s> Although I think, if I-M-S were used *only* for cache validation, this might have been a better design that the one that we now have for I-M-S, it may not be the way that all existing clients expect the servers to behave.  </s>
<s> That's why I insisted that the entity-tag mechanism be entirely opaque, and I encourage Netscape to help the installed base move to a caching scheme based on entity-tags.  </s>
<s> And I basically agree with Roy that there may be other reasons to use I-M-S, other than strict cache comparisons.  </s>
<s> (As long as people are clear on why they are using I-M-S in this way!)  </s>
<s> However, as an "advice to implementors" kind of thing, I would suggest that an HTTP client ought to act as if the If-Modified-Since headers that it sends *for cache validation* are going to be interpreted as "If-Modification-date-does-not-match-exactly".  </s>
<s> In other words, an HTTP client ought to be careful to preserve all of the accuracy in the Last-Modified date, rather than (perhaps) playing games based on the official semantics of If-Modified-Since.  </s>
<s> This might also avoid certain potential problems related to time zone changes :-) -Jeff  </s>
<s> No. While exact cache comparison is the most frequent use of IMS, it is not the only use, and sending an IMS value containing the Date (instead of the Last-Modified) field value is normal and accepted practice.  </s>
<s> The server will not adequately support HTTP clients if it does a strict equality check.  </s>
<s> That is the wrong fix.  </s>
<s> The right fix is described under how to deal with last-mod dates which are later than the server's date (the remote filesystem problem) and how to interpret IMS dates which are later than the server's date (the bad clock problem).  </s>
<s> Additional opaque validation can be achieved by using the Etag and If-None-Match header fields.  </s>
<s> ...Roy T. Fielding Department of Information &amp; Computer Science (fielding@ics.uci.edu)  </s>
<s> Yep. ......Roy  </s>
