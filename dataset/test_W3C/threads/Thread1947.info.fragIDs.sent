<s> Hallo, here is the updated version of DRAFT-ALLOCCHIO-GSTN-02.TXT, which includes, as the only difference from the previous one, an "implementer's note" regarding 'pause' and 'tonewait' which was suggested as helpful.  </s>
<s> As mentioned in the first release of the draft, "the intention for this document is to provide a unique syntax for Dial Sequences, including expecially phone numbers as a subset.  </s>
<s> The definitions contained in the draft actually come from existing Draft Standard and Proposed Standard specifications, but were collected here to provide a quick, easy and unique reference document for anybody needing this particualr encoding.  </s>
<s> The original idea comes from the Application Area Directors, and I made the collection and edited the I-D."  </s>
<s> I kindly invite you to provide me your comments and suggestions!  </s>
<s> Thank you all, and regards!  </s>
<s> Claudio Allocchio  </s>
<s> Network Working C. Allocchio Group GARR-Italy INTERNET-DRAFT February 2002 Expires: August 2002 File: draft-allocchio-gstn-02.txt  </s>
<s> Text string notation for Dial Sequences and GSTN / E.164 addresses Status of this Memo This document is an Internet Draft and is in full conformance with all provisions of Section 10 of RFC2026.  </s>
<s> Internet-Drafts are working documents of the Internet Engineering Task Force (IETF), its areas, and its working groups.  </s>
<s> Note that other groups may also distribute working documents as Internet-Drafts.  </s>
<s> Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  </s>
<s> It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."  </s>
<s> The list of current Internet-Drafts can be accessed at The list of Internet-Draft Shadow Directories can be accessed at Copyright Notice Copyright (C) The Internet Society (2001).  </s>
<s> All Rights Reserved.  </s>
<s> Abstract This memo describes the full set of notations needed to represent in a text string a Dial Sequence.  </s>
<s> A Dial Sequence is normally composed by Dual Tone Multi Frequency (DTMF) elements [1] plus separators and the additional "actions" (such as "wait for dialtone", "pause for N secs", etc.) which could be needed to successfully establish the connection with the target service:  </s>
<s> this includes the cases where subaddresses or DTMF menu navigation  </s>
<s> apply.  </s>
<s> Global Switched Telephone Numbers (GSTN) / E.164 addresses (commonly called "telephone numbers") [2] are a subset of a Dial Sequence, and thus use the same set of notations.  </s>
<s> This notation MUST be used in all specifications needing a text string representation of a Dial Sequence (including GSTN / E.164 addresses).  </s>
<s> 1. Introduction Since the very first devices interacting with GSTN services appeared, a need for a unique text string representation of telephone numbers, and more generally DTMF sequences and actions, was forseen.  </s>
<s> This memo describes the full text string representation method.  </s>
<s> The main scope is thus to provide a unique and complete reference for all specification needing this representation.  </s>
<s> Compatibility with existing Standard Track specifications (such as [3] [4] [5] [6]) is also one of the most important issues in this specification.  </s>
<s> 1.1 Terminology and Syntax conventions In this document the formal definitions are described using ABNF syntax, as defined into [7].  </s>
<s> This memo also uses some of the "CORE DEFINITIONS" defined in "APPENDIX A - CORE" of that document.  </s>
<s> The exact meaning of the capitalised words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", "OPTIONAL" is defined in reference [8].  </s>
<s> In this document the following terms are also defined: Dial Sequence: a series of DTMF elements and human or device "actions"; phone-string: a text representation of a Dial Sequence; a text representation of a GSTN address (which includes the E.164 addresses); subaddr-string: a text representation of a GSTN subaddress (which includes ISDN subaddresses [2] and T.33 subaddresses [9]); post-dial: a text representation of a post dialling sequence.  </s>
<s> 2. The "Dial Sequence" definition The possible elements composing a Dial Sequence can vary from a minimum number up to a really large and complex collection: in fact, already the sequences needed to dial a GSTN address, which is a subset of the generic Dial Sequence, well represents this variety and complexity of cases.  </s>
<s> In particular, a Dial Sequence is composed by: - "DTMF elelments": normally available as "keys" on numeric keypads of dialling devices; - "actions": normally performed by the agent (human or device) composing the Dial Sequence; - "separators": used only to improve human readibility of a Dial Sequence.  </s>
<s> 2.1 The "phone-string" definition The text representation of the Dial Sequence elements is defined into the phone-string specification: phone-string = 1*( DTMF / pause / tonewait / written-sep ) DTMF = ( DIGIT / "#" / "*" / "A" / "B" / "C" / "D" ) ; special DTMF codes like "*", "#", "A", "B", ; "C", "D" are defined in [1].  </s>
<s> ; Important Note: these elements only apply for ; alphabetic strings used in DTMF operations.  </s>
<s> ; They are NOT applicable for the alphabetic ; characters that are mapped to digits on phone ; keypads in some countries.  </s>
<s> pause = "p" tonewait = "w" written-sep = ( "-" / "." ) Note: DTMF are the "DTMF elements", pause and tonewait are the "actions" and written-sep is the "separators".  </s>
<s> The "pause" and "tonewait" elements interpretation in phone-string depends on the specific devices and implementation using the specification.  </s>
<s> Thus their exact meaning is not defined here as part of this specification.  </s>
<s> The implementer's note below gives anyhow some recommendations drown from common practice.  </s>
<s> Both "pause" and "tonewait" are case insensitive.  </s>
<s> Implementer's note: - one instance of a "pause" is recommended to be interpreted as a pause of one second between the preceding and succeeding dial string element; - a "tonewait" is recommended to be interpreted as a pause that will last until the calling party hears a dial tone or another indication that more dial string characters may be processed.  </s>
<s> An off-hook indication may also be interpreted as this kind of indication (meaning that the audio channel has been opened to the receiving party); - because these characters are not a part of the GSTN subscriber address (telephone number) per se, any dial string characters that succeed either a "pause" or "tonewait" should be sent using DTMF signalling.  </s>
<s> The use of written-sep elements is allowed in order to improve human readibility of phone-string.  </s>
<s> The written-sep are elements which can be placed between dial elements such as digits etc.  </s>
<s> Any occurences of written-sep elements in a phone-string MUST NOT result in any action.  </s>
<s> Conformant implementations MAY drop or insert written-sep into the phone-string they handle.  </s>
<s> The phone-string definition is used in the following sections to explicitly describe the encoding of some specific subcases where it applies.  </s>
<s> 3. The "gstn-phone" definition In order to access a GSTN address, a human or a device must perform a Dial Sequence.  </s>
<s> Thus also a GSTN address can be represented using the phone-string elements.  </s>
<s> In particual, standard E.164 numeric addresses [2] represent a limited subset of all possible GSTN addresses, while the complete complex case needs a full encoding schema.  </s>
<s> In order to describe this distinction and provide anyhow a complete encoding schema, the following definition of "gstn-phone" is provided: gstn-phone = ( global-phone / local-phone ) 3.1 The "global-phone" definition The purpose of global-phone element is to represent standard E.164 numeric addresses.  </s>
<s> As such it uses a subset of phone-string definition, only.  </s>
<s> The syntax for global-phone element is as follows: global-phone = "+" 1*( DIGIT / written-sep ) Any other dialling schemes MUST NOT use the leading "+" defined here.  </s>
<s> The "+" sign is strictly reserved for the standard "global-phone" syntax, and, even if not specifically part of phone-string definition, is needed to label uniquely a global-phone.  </s>
<s> 3.2 The "local-phone" definition The local-phone element is intended to represent the set of possible cases where the global-phone numbering schema does not apply.  </s>
<s> Given the different and complex conventions currently being used in the GSTN system, the local-phone definition supports a large number of elements.  </s>
<s> The detailed syntax for local-phone elements follows: local-phone = [ exit-code ] dial-number local-phone =/ exit-code [ dial-number ] exit-code = phone-string ; this will include elements such as the digit to ; access outside line, the long distance carrier ; access code, the access password to the service, ; etc... dial-number = phone-string ; this is in many cases composed of different elements ; such as the local phone number, the area code ; (if needed), the international country code ; (if needed), etc... Notes: the "+" character is reserved for use in global-phone and MUST NOT be used in a local-phone string; please note that a local-phone string MUST NOT be a null string, i.e. at least an exit-code, or a dial-number or both MUST be present.  </s>
<s> 4. The "subaddr-string" definition In GSTN service there are cases where a subaddress is required to specify the final destination.  </s>
<s> To specify these subaddresses a Dial Sequence is also used, and thus the "subaddr-string" can be encoded as: subaddr-string = phone-string Note: within actual uses of subaddresses, some specific services can limit the possible set of phone-string elements allowed.  </s>
<s> In particular there are ISDN subaddresses [2] [5], which restrict the phone-string elements to 1*( DIGIT / written-sep ) and service [4] which restrict phone-string elements to 1*( DIGIT ). 5. The "post-dial" definition In some cases, after the connection with the destination GSTN device has been established, a further dialling sequence is required to access further services.  </s>
<s> A typical example is an automated menu- driven service using DTMF sequences.  </s>
<s> These cases may be represented using "post-dial" definition below: post-dial = phone-string 6. Examples In order to clarify the specification we present here a limited set of examples.  </s>
<s> Please note that all the examples are for illustration purpouses, only.  </s>
<s> A GSTN address in Italy, dialled from U.S.A., using local-phone, without written-sep: 01139040226338 A GSTN address address in Germany, using global-phone and written-sep ".": A GSTN address in U.S.A. using global-phone and written-sep "-": A post-dial sequence, pausing, dialling 1, waiting for dial tone, dialling 7005393, waiting again for dial tone and dialling 373; note the use of four "p" elements (pppp) to specify a longer initial pause: pppp1w7005393w373 A Dial Sequence in Italy (long distance call), using local-phone, with exit-code "9", long distant access "0", area code "40", pause "p" and written-sep ".": 9p040p22.63.38 A Dial Sequence using exit-code "0", a wait for dial tone, local-phone for an International "800" toll-free number dialled from Beglium (international prefix "00"), and a post-dial sequence to access a voice mailbox with userID "334422" and Personal Identification Number (PIN) code "1234": 0w00800-39380023pp334422p1234 7. Conclusions This proposal creates a full standard text encoding for Dial Sequences, including GSTN / E.164 addresses, and thus provides a unique common representation method both for standard protocols and applications.  </s>
<s> Some definitions, like these corresponding to an alias of the generic phone-string element, are somewhat a theoretical distinction; however they are useful to provide a more subtle distinction, allowing other specifications to be more exact in a consistent way, too.  </s>
<s> The proposal is consistent with existing standard specifications.  </s>
<s> 8. Security Considerations This document specifies a means to represent Dial Sequences, which thus could include GSTN addresses, and private codes sequences, like Personal Identification Numbers, to access special services.  </s>
<s> As these text strings could be transmitted without encoding inside protocols or applications services, this could allow unauthorized people to gain access to these codes.  </s>
<s> Users SHOULD be provided methods to prevent this disclosure, like code encryption, or masquerading techniques: out-of-band communication of authorization information or use of encrypted data in special fields are the available non-standard techniques.  </s>
<s> 9. Collected ABNF Syntax In this section we provide a summary of ABNF specifications.  </s>
<s> phone-string = 1*( DTMF / pause / tonewait / written-sep ) DTMF = ( DIGIT / "#" / "*" / "A" / "B" / "C" / "D" ) written-sep = ( "-" / "." ) pause = "p" tonewait = "w" gstn-phone = ( global-phone / local-phone ) global-phone = "+" 1*( DIGIT / written-sep ) local-phone = [ exit-code ] dial-number local-phone =/ exit-code [ dial-number ] exit-code = phone-string dial-number = phone-string subaddr-string = phone-string post-dial = phone-string 10.  </s>
<s> Author's Address Claudio Allocchio INFN-GARR c/o Sincrotrone Trieste SS 14 Km 163.5 Basovizza I 34012 Trieste Italy RFC2822: Claudio.Allocchio@garr.it  </s>
<s> X.400: C=it;A=garr;P=garr;S=Allocchio;G=Claudio; 11.  </s>
<s> References [1] ETSI I-ETS 300,380 - Universal Personal Telecommunication (UPT): Access Devices Dual Tone Multi Frequency (DTMF) sender for acoustical coupling to the microphone of a handset telephone (March 1995) [2] ITU E.164 - The International Public Telecommunication Numbering Plan E.164/I.331 (May 1997) [3] Allocchio, C., "Minimal GSTN address format in Internet Mail", RFC 3191, October 2001 RFC 3192, October 2001 [5] Allocchio, C. "GSTN address element extensions in e-mail services", RFC 2846, June 2000.  </s>
<s> [6] Vaha-Sipila, A., "URLs for Telephone Calls", RFC 2806, April 2000.  </s>
<s> [7] Crocker, D. and P. Overell, "Augmented BNF for Syntax Specifications", RFC 2234, November 1997.  </s>
<s> [8] Bradner, S., "Key words for use in RFCs to Indicate Requirement Levels", BCP 14, RFC 2119, March 1997.  </s>
<s> [9] ITU T.33 - Facsimile routing utilizing the subaddress; recommendation T.33 (July, 1996) 12. Full Copyright Statement Copyright (C) The Internet Society (2001).  </s>
<s> All Rights Reserved.  </s>
<s> This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this paragraph are included on all such copies and derivative works.  </s>
<s> However, this document itself may not be modified in any way, such as by removing the copyright notice or references to the Internet Society or other Internet organizations, except as needed for the purpose of developing Internet standards in which case the procedures for copyrights defined in the Internet Standards process must be followed, or as required to translate it into languages other than English.  </s>
<s> The limited permissions granted above are perpetual and will not be revoked by the Internet Society or its successors or assigns.  </s>
<s> This document and the information contained herein is provided on an "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  </s>
<s> I am pretty bemused at this - I seem to have missed the earlier ones.  </s>
<s> The Application ADs suggested it?  </s>
<s> What exactly does this add to RFC2806?  </s>
<s> It doesn't seem to update 2806, so I don't understand how I use this, or where.  </s>
<s> In particular, the phone-context stuff in 2806 is there for a good reason - the phone string could well be sent to Finland (inside an email, for instance).  </s>
<s> This is not going to work if one uses local phone string format (with 001 to call the U.S.).  </s>
<s> It doesn't seem to be in this draft, so perhaps a warning that this will break unless you KNOW where the recipient will be dialling could be (re-)added?  </s>
<s> Hey, I'm sure you don't have anything else to do before 2300 MET, right?  </s>
<s> :).  </s>
<s> BR, L lwc@roke.co.uk: +44 1794 833666:: my opinions :  </s>
<s> Hallo,  </s>
<s> yes sir!  </s>
<s> I think you missed the main point here.  </s>
<s> RFC2806, RFC3191, RFC3192, and a large number of rfc-to-be from the VPIM WG in the RFC Editor queue now all use the syntax and specification contained into DRAFT-ALLOCCHIO-GSTN-02.TXT and thus are all compatible with it.  </s>
<s> Thus this document does not add or updated any of them at all (all authors of the above documents are those who contributed to this I-D).  </s>
<s> However the specifications are embedded into RFCs whose title and purpouse is not to sepcify how you write in text a dial string sequence, and this creates continuously the "re-invent the wheel" problem, and the ADs and IESG has to send back specifications asking the authors to use the existing standard specification.  </s>
<s> If there is a single "collection" document with a sensible title, and which is free from other definitions which might confuse the reader, the "keeping the coherence" job is easier.  </s>
<s> Local Phone string can work only "locally", and global-phone ones do their job globally.  </s>
<s> If you think the text is not clear enough, we can try to clarify it.  </s>
<s> ...  </s>
<s> I'm just waiting the kernel to rebuild after I included IPv6 on my workstation... thus I have some time... Regards Claudio  </s>
