<s> Hello list-members, I'd like to publish some info about a project I'm just working on, an Annotea client for Internet Explorer.  </s>
<s> You can find a first running version at http://www.formatvorlage.de/experiment/annotea/  </s>
<s> .It  </s>
<s> supports creating selection-level annotations and showing them right in the document.  </s>
<s> The scripts can create/resolve the XPointers needed, IE's XML element is used to retrieve the RDF data from the server.  </s>
<s> This is only a pre-release, so it's unstable and buggy and due to security limitations restricted to annotate only docs from the sane server, but it works.  </s>
<s> Nice to see annotations popping up on IE, however.  </s>
<s> Please read the doc before trying the demo, you have to switch one option in your IE prefs security panel before you can access XML data sources from another domain (without using a signed script).  </s>
<s> Any comments, suggestions, etc. are greatly appreciated.  </s>
<s> Claus Augusti  </s>
<s> Apologies for the possibly naive question, but I am still too busy to study the annotea systems in depth so...  </s>
<s> In the hypothetical situation of using browser sniffing and providing the relative code (in IE's case, yours) will there be any problems on different browsers annotating the same documents?  </s>
<s> Finally, are you planning on distributing your code under a license?  </s>
<s> Kindest regards, Manos  </s>
<s> This should not be a problem.  </s>
<s> I haven't tried Claus' Annotea  </s>
<s> client but I am able to use Annozilla - the Mozilla Annotea client: and the Annotea bookmarklets (documented at): with Netscape Communicator to browse annotations created with the Amaya implementation of Annotea: The oppposite - annotations created via Annozialla and the bookmarklets can be browsed with Amaya - also works.  </s>
<s> It was also reported: that the bookmarklets work with the Mac's IE browser.  </s>
<s> If your question is about database synchronization [are simultaneous writes supported] - that should be handled by the underlying database used by the server.  </s>
<s> For more information about the Annotea server, see: Art  </s>
<s> Hi Manos,  </s>
<s> Yes, during testing I discovered some problems that I didn't expect.  </s>
<s> It's about implicit elements, which are inserted by the Browser while parsing the doc, e.g. Amaya adds a tbody to a table body, even if it's not explicitly there, IE doesn't.  </s>
<s> Practically this means, that you can't annotate a table's content element if the path doesn't contain an id attribute defining element before tbody.  </s>
<s> Actually this makes selection level annotations pretty useless on not properly coded documents.  </s>
<s> Any ideas?  </s>
<s> On the other side, I assume this situation not to occur very often, which other elements could be inserted implicitly?  </s>
<s> Yes, I'll license it asap under a free license like GPL when I finished cleaning, I'll provide an archive then and post a msg here.  </s>
<s> Best, Claus  </s>
<s> I'm really happy about this work.  </s>
<s> This is just great!  </s>
<s> I'll ask about this from the Amaya team.  </s>
<s> My personal view is that the document is invalid without tbody and it is helpful that it corrects it when I update the document, but I don't think Amaya should add it to XPointers until it really is in the document.  </s>
<s> We are also trying to find out what the opinion of the involved working groups are about using XPointer with HTML documents.  </s>
<s> Marja  </s>
<s> Annozilla gets away with it because the DOM methods say that there is a TBODY element even if there is not one in the document.  </s>
<s> I raised this issue on the list a while ago because I thought it needed clarification.  </s>
<s> I haven't looked at how the IE client works, but in Annozilla, I use the DOM to work out an XPointer for the selected text.  </s>
<s> (Actually this is not in a released version yet, it will be in the next version...) Consequently I am at the mercy of whatever the DOM methods return.  </s>
<s> An HTML document can be valid with a table but no tbody - in fact I think they can even miss out html , head and body , and all of these will be implicitly created.  </s>
<s> I had thought that the DOM specs mandate this behaviour, but having a quick look now I can't find a reference to this.  </s>
<s> I'm sure it's in one of the W3C specs though.  </s>
<s> (In a working draft of DOM requirements Implied elements are exposed even if not explicitly defined in the document (e.g., HTML, HEAD, BODY).  </s>
<s> (Section 2.1.2 item 3).)  </s>
<s> This is why I think the Annotea specs need to say more than "we use XPointers to define the annotated section".  </s>
<s> Matthew  </s>
<s> The only difference (apart from bugs!) is the level of XPointer implementation.  </s>
<s> I don't know what level of XPointer support Amaya has, but it certainly supports string-range(), which Annozilla does not (yet).  </s>
<s> There is one current bug I know of, Annozilla will fail to understand, say, /html/p[10].  </s>
<s> This will be fixed in the next release.  </s>
<s> Matthew  </s>
