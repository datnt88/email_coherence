<s> Here are a few problems I have encountered with the 0.9a Linux-elf binary release of Amaya.  </s>
<s> 1) Problems using Amaya with Apache.  </s>
<s> The HTTP/1.1 spec allows a server to close a Keep-Alive connection at any time.  </s>
<s> Apache does this.  </s>
<s> A keep alive connection is silently closed by Apache after 15 seconds of use.  </s>
<s> Amaya doesn't seem to handle this, it attempts to do a subsequent write on the closed connection, fails to see the write failed and the connection is now closed, and then the next time it attempts a write on the connection Amaya dies with a SIGPIPE.  </s>
<s> (I had to disable Keep-Alive in Apache to get Amaya to work).  </s>
<s> 2) Incorrect version number.  </s>
<s> The client claims to be "User-Agent: amaya/V0.8_Alpha"  </s>
<s> 3) No support for br .  </s>
<s> The br tag does not appear to be recognized.  </s>
<s> This prevents the use of Amaya to edit many existing documents.  </s>
<s> 4) Amaya fails to recognize the 201 status code.  </s>
<s> The HTTP/1.1 spec requires the 201 status code be returned in response to a PUT that results in the creation (as opposed to simple modification) of a resource.  </s>
<s> Amaya fails to recognize this, and erroneously reports an attempt to save a new file as having failed.  </s>
<s> Despite these problems, I can report success at managing to get Amaya and Apache working together.  </s>
<s> Since you're in a member organisation, you have access to the 0.95 source release.  </s>
<s> I suggest you get it (or better wait for Monday, and the 0.95a release).  </s>
<s> A binary release of 0.95a should be done in a near future.  </s>
<s> Amaya uses libwww-5.0a  </s>
<s> for Web accesses.  </s>
<s> Libwww now support HTTP/1.1 but has not been released outside.  </s>
<s> We are waiting for the libwww release.  </s>
<s> Ok this is an error !  </s>
<s> This is related to a bug present in the distribution of 0.9a binary release, and previously reported.  </s>
<s> This is also related with the incorect encoding of non ASCII ISO-Latin 1 sequences ... We still failed to understand why this was broken in this specific release ...  </s>
<s> Ok, Jose Kahan told me that 200 and 204 error code were handled, Jose promised that support should be done in next release (maybe not Monday) .  </s>
<s> Ok, fine, but 0.9a is seriously broken at least on Linux-Elf, so try to upgrade ... Daniel  </s>
<s> Hello Gordon, Thanks for sharing your experiences on using Amaya with Apache.  </s>
<s> Let me try to answer some of your questions.  </s>
<s> Amaya uses libwww5.0a  </s>
<s> since many months ago.  </s>
<s> Moreover, this version of libwww was released to the public some months ago and implements HTTP/1.1.  </s>
<s> We tested keep-Alive connections against Jigsaw, an HTTP/1.1 server and did not detect any problems then.  </s>
<s> However, gremlins like to creep here and there and thus there may be some hidden bugs somewhere.  </s>
<s> From your description of the problem, I suppose that you were using Apache 1.2b.  </s>
<s> Unfortuntately, I haven't been able to test it against this server.  </s>
<s> Could you give me some URLs so that I could do some remote testing?  </s>
<s> I'm curious as to how you could get a SIGPIPE?  </s>
<s> Amaya has an explicit call to trap them.  </s>
<s> It could be a problem coming from autoconf as the signal trap is enclosed among #defines.  </s>
<s> I'll get back to you about this later on.  </s>
<s> Amaya 0.95 already recognizes this status code as well as the 200 and 204 ones.  </s>
<s> Let's try to make it work without any problems :-) Hope this helps somehow, -Jose  </s>
