<s> Great.  </s>
<s> To summarize XSLT will 2.0 will be consistent with XML 1.0 (inc erratum) and the inclusion of an XML prolog will not be a 'MUST'.  </s>
<s> Will it be a 'CAN', if I want to do it?  </s>
<s> Thanks v much  </s>
<s> Deborah Parameter Deborah, In [1], you submitted the following comment on the Last Call Working Draft of XSLT 2.0 and XQuery 1.0 Serialization.  </s>
<s> 4.5 XML Output Method: the omit-xml-declaration Parameter This says: "The omit-xml-declaration parameter must be ignored if the standalone parameter is present, or if the encoding parameter  </s>
<s> specifies  </s>
<s> a value other than UTF-8 or UTF-16."  </s>
<s> I would like to control the output of the omit-xml-declaration parameter, where the encoding parameter specifies a value other than UTF-8 or UTF-16.  </s>
<s> I often don't use Unicode.  </s>
<s> I would like the option to output with non-standard encoding as XHTML.  </s>
<s> The XHTML standard ( not required in all XML documents"; it is often desirable to omit it, given that it is known that there are unexpected results with some user agents.  </s>
<s> Thank you for your comment.  </s>
<s> The XSL and XQuery Working groups discussed your comment.  </s>
<s> As originally written, XML 1.0 required an XML declaration or a text  </s>
<s> declaration if the encoding of the document or external general parsed entity was anything other than UTF-8 or UTF-16.  </s>
<s> XSLT 1.0 enforced that requirement in its serialization mechanism.  </s>
<s> The draft of Serialization inherited that behaviour from XSLT 1.0.  </s>
<s> However, an erratum to XML 1.0 removed that requirement.  </s>
<s> In response to your comment, the working groups decided to require the XML declaration or text declaration to be omitted, regardless of the setting of the encoding parameter.  </s>
<s> Serialization will permit an XML declaration or text declaration to be omitted in precisely those circumstances in which it can be omitted according to XML 1.0 and XML 1.1.  </s>
<s> This would affect both the xml and xhtml output methods.  </s>
<s> As that is the change you requested, I believe that decision will be acceptable to you.  </s>
<s> May I ask you to confirm that it is?  </s>
<s> Thanks,  </s>
<s> Henry [On behalf of the XSL and XQuery Working Groups.] [1]  </s>
<s> Henry Zongaro Xalan development IBM SWS Toronto Lab T/L 969-6044; Phone +1 905 413-6044 BBCi at http://www.bbc.co.uk/  </s>
<s> This e-mail (and any attachments) is confidential and may contain personal views which are not the views of the BBC unless specifically stated.  </s>
<s> If you have received it in error, please delete it from your system.  </s>
<s> Do not use, copy or disclose the information in any way nor act in reliance on it and notify the sender immediately.  </s>
<s> Please note that the BBC monitors e-mails sent or received.  </s>
<s> Further communication will signify your consent to this.  </s>
<s> I think (hope) that the decision of the WGs is: When the output method is XML, an XML declaration will be output if and only  </s>
<s> if the omit-xml-declaration parameter has the value "no".  </s>
<s> In XSLT, the default value will be "no".  </s>
<s> Michael Kay  </s>
<s> 4.5 XML Output Method: the omit-xml-declaration Parameter  </s>
<s> 2/#N105F3  </s>
<s> This says: "The omit-xml-declaration parameter must be  </s>
<s> ignored if the  </s>
<s> standalone parameter is present, or if the encoding parameter  </s>
<s> a value other than UTF-8 or UTF-16."  </s>
<s> I would like to control the output of the omit-xml-declaration parameter, where the encoding parameter specifies a value other than UTF-8 or UTF-16.  </s>
<s> I often don't use Unicode.  </s>
<s> I would like the option to output with non-standard encoding as XHTML.  </s>
<s> The XHTML standard ( not required in all XML documents"; it is often desirable to omit it, given that it is known that there are unexpected results with some user agents.  </s>
<s> Hello, I see that my description of the decision wasn't as precise as I'd wanted it to be.  </s>
<s> The decision was, as Michael Kay indicated, that the value of the omit-xml-declaration parameter is always respected: the declaration is output if and only if the parameter has the value "no".  </s>
<s> Further, it will be a serialization error if the parameter has the value "yes", but the settings of other parameters would require an XML or text declaration to be emitted.  </s>
<s> In particular, an XML or text declaration is required if the standalone parameter has the value "yes" or the value "no", or if the version parameter has a value other than "1.0", and the doctype-system parameter is supplied.  </s>
<s> In response to your comment, the setting of the encoding parameter is never considered to conflict with the setting of the omit-xml-declaration parameter.  </s>
<s> A host language can ensure that such a serialization error will never occur - in particular, XSLT will ensure that the values of parameters will never conflict in this way.  </s>
<s> "Michael Kay" mhk@mhk.me.uk wrote on 2004-04-20 07:56:11 AM:  </s>
<s> only  </s>
<s> Thanks, Henry Henry Zongaro Xalan development IBM SWS Toronto Lab T/L 969-6044; Phone +1 905 413-6044  </s>
<s> 4.5 XML Output Method: the omit-xml-declaration Parameter  </s>
<s> 2/#N105F3  </s>
<s> This says: "The omit-xml-declaration parameter must be  </s>
<s> ignored if the  </s>
<s> standalone parameter is present, or if the encoding parameter  </s>
<s> a value other than UTF-8 or UTF-16."  </s>
<s> I would like to control the output of the omit-xml-declaration parameter, where the encoding parameter specifies a value other than UTF-8 or UTF-16.  </s>
<s> I often don't use Unicode.  </s>
<s> I would like the option to output with non-standard encoding as XHTML.  </s>
<s> The XHTML standard ( not required in all XML documents"; it is often desirable to omit it, given that it is known that there are unexpected results with some user agents.  </s>
