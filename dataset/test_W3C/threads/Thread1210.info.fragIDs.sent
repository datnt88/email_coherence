<s> Dear IETF charset experts,  </s>
<s> I'm glad to announce the availability of 'charlint' (aka 'charlie') at http://www.w3.org/International/charlint/.  </s>
<s> Future announcements (in particular upgrades and bug fixes) will also be published on www-international@w3.org.  </s>
<s> Charlint is a perl program that checks and corrects a stream of UTF-8-encoded characters.  </s>
<s> In particular, it implements Normalization Form C (Canonical Composition) according to Unicode TR #15, in accordance with the Character Model for the World Wide Web W3C WD (http://www.w3.org/TR/1999/WD-charmod-19990225).  </s>
<s> The problem of duplicate representations (precomposed and decomposed) has come up in various IETF WGs, but was never important enough to be discussed through.  </s>
<s> If the IETF could, after due examination, follow the W3C and the Unicode Consortium, I guess that would be helpful for everybody.  </s>
<s> If you have any data in UTF-8 (or other Unicode-based encoding, which can easily be converted to UTF-8), please test it out.  </s>
<s> In particular, if you have any data where precomposed/decomposed issues are relevant, please make sure that you test it soon, so that we get feedback on the Character model, on the Unicode V3.0 data, and of course on the software itself.  </s>
<s> Also, if you have any test data with interesting test cases that you could contribute, or any patches or ideas, please send them in.  </s>
<s> For the rest, please see the page mentioned above.  </s>
<s> Regards, Martin.  </s>
<s> #-#-# Martin J. Du"rst, World Wide Web Consortium #-#-# mailto:duerst@w3.org  </s>
<s> http://www.w3.org  </s>
<s> Martin,  </s>
<s> Unicode TR 15 refers to an Unicode character database for composition.  </s>
<s> Is this database changing with every new amendment to the base standard, or is it a stable reference that can be compiled into programs?  </s>
<s> If it is unstable, how does charlint deal with it?  </s>
<s> Harald Harald Tveit Alvestrand, Maxware, Norway Harald.Alvestrand@maxware.no  </s>
<s> There are various aspects: - Decompositions for existing characters are supposed not to change.  </s>
<s> TR 15 significantly increases the pressure to not change.  </s>
<s> - Decompositions for newly defined precomposed characters are dealt with by keeping these characters decomposed in the normalized form.  </s>
<s> If charlint meets a character it doesn't know (an undefined codepoint), it can warn or abort.  </s>
<s> - Support for 'compiling' is currently not part of charlint, but it is an idea for future work.  </s>
<s> Regards, Martin.  </s>
<s> #-#-# Martin J. Du"rst, World Wide Web Consortium #-#-# mailto:duerst@w3.org  </s>
<s> http://www.w3.org  </s>
<s> I was thinking of the composition database; I thought they were different, from the text in TR15.  </s>
<s> There's been some pressure to add new precomposed characters (W with circumflex?  </s>
<s> Did this get in already?) to Unicode; if these are added to the decomposition database, it does not hurt the correctness of normalization of existing text that uses the decomposed forms.  </s>
<s> If they are added to the composition database, existing normalized text will turn "incorrect".  </s>
<s> This is bad.  </s>
<s> (This is not really relevant to charlint, but to the underlying issues; IETF may have to take a stand on normalization Real Soon Now....)  </s>
<s> Harald (Favourite decomposition: The Arabic "character" that decomposes into "In the name of Allah, the compassionate and merciful" - 21 characters, including 3 spaces....) Harald Tveit Alvestrand, Maxware, Norway Harald.Alvestrand@maxware.no  </s>
<s> They will only be added to the 'decomposition database'.  </s>
<s> Note however that the form of the data is not 'decomposition database' and 'composition database', but it is 'database' and 'composition exclusions'.  </s>
<s> Your 'decomposition database' is obtained directly from the 'database', the 'composition database' is the 'database' minus the 'exclusions'.  </s>
<s> The decomposition for a newly defined precomposed character after Unicode V 3.0 will be automatically put both into the 'database' and into the 'exclusions'.  </s>
<s> Exactly.  </s>
<s> I think the Unicode Consortium and the W3C have a solution ready, and would be glad to help the IETF adopt it.  </s>
<s> Regards, Martin.  </s>
<s> #-#-# Martin J. Du"rst, World Wide Web Consortium #-#-# mailto:duerst@w3.org  </s>
<s> http://www.w3.org  </s>
