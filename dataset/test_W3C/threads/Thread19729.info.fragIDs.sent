<s> Dear Amaya team  </s>
<s> I have downloaded the Amaya 1.1a source to make under IRIX5.3 using 'gmake' and 'cc' rather than 'gcc'.  </s>
<s> I hava already made Amaya 1.0b, with  </s>
<s> a few minor changes to the source code, which I will detail separately.  </s>
<s> I now have a problem with the latest source.  </s>
<s> Here is the relevant part of the console listing:  </s>
<s> PRS=`pwd`/../bin/prs;\ cd ../../amaya; THOTDIR=`pwd`/.. ;export THOTDIR; \ $PRS -DCOUGAR -DAMAYA_PLUGIN -DMATHML MathMLP ***ERR ligne 456 ShowBox; Regle interdite pour un choix cc -g -DCOUGAR -DAMAYA_PLUGIN -DMATHML -DHAVE_CONFIG_H -I. -I.. -I../../thotlib/include -I../../amaya -I../../amaya/f -I../../libpng/zlib -I../../pluginlib -I../../pluginlib/f -I../../w3c-libwww-5.0a/Library/src  </s>
<s> -c ../../amaya/html2thot.c  </s>
<s> -o html2thot.o  </s>
<s> cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 375: 'MathML_EL_MERROR' undefined; reoccurrences will not be reported.  </s>
<s> {"MERROR", ' ' , MathML_EL_MERROR, 0 }, cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 379: 'MathML_EL_MMULTISCRIPTS' undefined; reoccurrences will not be reported.  </s>
<s> {"MMULTISCRIPTS", ' ' , MathML_EL_MMULTISCRIPTS, 0 }, cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 383: 'MathML_EL_MPHANTOM' undefined; reoccurrences will not be reported.  </s>
<s> {"MPHANTOM", ' ' , MathML_EL_MPHANTOM, 0 }, cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 384: 'MathML_EL_PrescriptPairs' undefined; reoccurrences will not be reported.  </s>
<s> {"MPRESCRIPTS", ' ' , MathML_EL_PrescriptPairs, 0 }, cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 388: 'MathML_EL_MSPACE' undefined; reoccurrences will not be reported.  </s>
<s> {"MSPACE", 'E', MathML_EL_MSPACE, 0 }, cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 390: 'MathML_EL_MSTYLE' undefined; reoccurrences will not be reported.  </s>
<s> {"MSTYLE", ' ' , MathML_EL_MSTYLE, 0 }, cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 397: 'MathML_EL_Construct' undefined; reoccurrences will not be reported.  </s>
<s> {"NONE", ' ' , MathML_EL_Construct, 0 }, cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 398: 'MathML_EL_SEP' undefined; reoccurrences will not be reported.  </s>
<s> {"SEP", 'E', MathML_EL_SEP, 0 }, gmake[1]: *** [html2thot.o]  </s>
<s> Error 1 gmake[1]: Leaving directory The 'ShowBox' error is probably an error in one of the configuration files.  </s>
<s> It looks as though the MATHML defines are not in the 'MathML.h'  </s>
<s> file.  </s>
<s> I tried to continue by taking out the '-DMATHML' option, but I get a similar problem with an undefined macro.  </s>
<s> Some of the MATHML macros are not within a #ifdef statement, as follows: cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 7129: 'MathMLSSchema' undefined; reoccurrences will not be reported.  </s>
<s> MathMLSSchema = elType.ElSSchema;  </s>
<s> cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 7130: 'WithinMathML' undefined; reoccurrences will not be reported.  </s>
<s> WithinMathML = 1 ; cfe: Error: ../../amaya/html2thot.c,  </s>
<s> line 7133: 'WithinMathML' undefined; reoccurrences will not be reported.  </s>
<s> WithinMathML = 0 ; gmake[1]: *** [html2thot.o]  </s>
<s> Error 1 Are there any settings which will compile cleanly?  </s>
<s> Roy Platon  </s>
<s> In-reply-to: Your message of Thu, 18 Sep 1997 09:56:15 +0100."  </s>
<s> Hi Roy, It semms that you were using old compilers.  </s>
<s> I suggest you:  </s>
<s> a) to create or clean your directory Thot/SGI b) go into this directory and configure:  </s>
<s> ../configure --disable-java c) check the generated Options file: check that your CFALG is "CFLAGS = -Wall -fsigned-char" d) start "make all" Hope that helps Irene.  </s>
<s> I downloaded amaya-windows-1_1a.zip from the http-us site and pkunzipped if with a -d argument.  </s>
<s> There was only one binary in the winnt subdirectory, nothing was written in the windows95 subdirectory.  </s>
<s> Next  </s>
<s> step was to try to run the binary in the winnt subdirectory on this windows95 system.  </s>
<s> amaya.exe  </s>
<s> complained the wwwstream.dll  </s>
<s> was missing  </s>
<s> (long file name problem, as it was unzipped as wwwstrea.dll),  </s>
<s> I set the long file name to wwwstream.dll and it did not complain but it merely loaded, spun the disk for a while and exited.  </s>
<s> I then tried renaming one of the other dll's (wwwcore.dll)  </s>
<s> to an unusable name to see if it was really trying to load and it complained that wwwcore.dll was missing but nothing wrong with wwwstream.dll  </s>
<s> now.  </s>
<s> (so I set wwwcore.dll back to the appropriate filename).  </s>
<s> Next step is to try to study the source to see how it fits together and recompile under VC41 on windows95, problem now is I try to unzip thot-src-2_1d_tar.gz with a copy of gunzip obtained from the nsf.gov server but I was unable to get anything meaningful out of the gunzip results.  </s>
<s> (I'm a windows programmer, not a unix person so I have never used this tool before, perhaps you can suggest a good place to download it from).  </s>
<s> A suggestion would be greatly appreciated, I am not trying to bore you with complaints, I genuinely wish to learn how amaya works and to help contribute to the windows 95 work.  </s>
<s> Charles Krinke http://home.pacbell.net/cfk  </s>
<s> Irene Merci bien.  </s>
<s> It does compile when I started with a completely clean system instead of downloading on top of Amaya 1.0.  </s>
<s> However I did encounter some Compile errors using 'cc'.  </s>
<s> Here is a list of the errors and warnings, where I had to make changes to the source code:  </s>
<s> amaya/Makefile.in line 53: 'make print' should be changed to '$(MAKE) print'  </s>
<s> javalib/Makefile.in line 57: 'make kaffe' should be changed to '$(MAKE) kaffe' and line 59: 'make HTML.h' should be changed to '$(MAKE) HTML.h'  </s>
<s> tools/javastub/javastub.c lines 1321, 1327 &amp; 1333 change if ((out = fopen(stubCOutputFile,"w"))  0) { to if ((out = fopen(stubCOutputFile,"w")) == NULL) {  </s>
<s> thotlib/include/presentdriver.h, line 133: Trailing comma in enumerator list should be removed DRIVERP_PICTUREMODE,  </s>
<s> thotlib/presentation/pschemaapi.c, line 60: should be (PtrSSchema) nature == LoadedDocument[doc - 1]- DocSSchema) libjpeg/jconfig.h:  </s>
<s> add #ifndef __sgi before line #define INLINE inline And here are the warnings which I have not changed, but may indicate a problem: thotlib/document/pivot.c, line 335: Incompatible pointer type assignment ReadSchemaNamesPiv (pivotFile, LoadedDocument[document - 1], nextChar, 0 , withThisPSchema); cfe: Warning 709: ../../thotlib/image/xbmhandler.c, line 64: Incompatible pointer type assignment status = XReadBitmapFile (TtDisplay, TtRootWindow, fn, &amp;w, &amp;h, &amp;bitmap, &amp;xHot, &amp;yHot); cfe: Warning 709: ../../thotlib/image/xbmhandler.c, line 64: Incompatible pointer type assignment status = XReadBitmapFile (TtDisplay, TtRootWindow, fn, &amp;w, &amp;h, &amp;bitmap, &amp;xHot, &amp;yHot); cfe: Warning 709: ../../thotlib/image/xbmhandler.c, line 191: Incompatible pointer type assignment i = XReadBitmapFile (TtDisplay, TtRootWindow, fn, &amp;PicWArea, &amp;PicHArea, &amp;pix, &amp;xtmp, &amp;ytmp); cfe: Warning 709: ../../thotlib/image/xbmhandler.c, line 191: Incompatible pointer type assignment i = XReadBitmapFile (TtDisplay, TtRootWindow, fn, &amp;PicWArea, &amp;PicHArea, &amp;pix, &amp;xtmp, &amp;ytmp); cfe: Warning 709: ../../thotlib/image/xbmhandler.c, line 292: Incompatible pointer type assignment status = XReadBitmapFile (TtDisplay, TtRootWindow, fn, &amp;w, &amp;h, &amp;bitmap, &amp;xHot, &amp;yHot); cfe: Warning 709: ../../thotlib/image/xbmhandler.c, line 292: Incompatible pointer type assignment status = XReadBitmapFile (TtDisplay, TtRootWindow, fn, &amp;w, &amp;h, &amp;bitmap, &amp;xHot, &amp;yHot); cfe: Warning 596: ../../thotlib/image/gifhandler.c: 1634: text following #else violates the ANSI C standard.  </s>
<s> cfe: Warning 709: ../../thotlib/dialogue/geom.c, line 254: Incompatible pointer type assignment XQueryPointer (TtDisplay, w, &amp;wdum, &amp;wdum, &amp;dx, &amp;dy, &amp;newx, &amp;newy, &amp;e); cfe: Warning 709: ../../thotlib/dialogue/geom.c, line 620: Incompatible pointer type assignment XQueryPointer (TtDisplay, w, &amp;wdum, &amp;wdum, &amp;dx, &amp;dy, &amp;newx, &amp;newy, &amp;e); cfe: Warning 709: ../../thotlib/dialogue/geom.c, line 845: Incompatible pointer type assignment XQueryPointer (TtDisplay, w, &amp;wdum, &amp;wdum, &amp;dx, &amp;dy, &amp;nx, &amp;ny, &amp;e); cfe: Warning 709: ../../thotlib/image/xpmcreate.c, line 328: Incompatible pointer type assignment qsort (closenesses, ncols, sizeof (CloseColor), closeness_cmp); The following warning occur for many routines when loading: /bin/../lib/ar: Warning:ignoring second definition of DefaultDocumentName defined in archive /bin/../lib/ar: Warning:ignoring second definition of LoadedDocument defined in archive Warning: editing/print.o:  </s>
<s> PageHeight: multiply defined previous (used) definition from 'tree/paginatePP.o'; new (ignored) definition from 'editing/print.o'  </s>
<s> Warning: editing/print.o:  </s>
<s> RealPageHeight: multiply defined previous (used) definition from 'tree/paginatePP.o'; new (ignored) definition from 'editing/print.o'  </s>
<s> Warning: editing/print.o:  </s>
<s> PageFooterHeight: multiply defined previous (used) definition from 'tree/paginatePP.o'; new (ignored) definition from 'editing/print.o'  </s>
<s> Warning: init.o: appArgc: multiply defined previous (used) definition from 'EDITORAPP.o'; new (ignored) definition from 'init.o'  </s>
<s> Warning: init.o: appArgv: multiply defined previous (used) definition from 'EDITORAPP.o'; new (ignored) definition from 'init.o'  </s>
<s> Warning: EDITORactions.o: AMAYA: multiply defined previous (used) definition from 'init.o'; new (ignored) definition from 'EDITORactions.o'  </s>
<s> Warning: HTMLactions.o: AMAYA: multiply defined previous (used) definition from 'init.o'; new (ignored) definition from 'HTMLactions.o'  </s>
<s> I hope this helps you.  </s>
<s> Roy Platon  </s>
<s> right,  </s>
<s> right,  </s>
<s> right,  </s>
<s> right (but harmless !). I have integrated these changes,  </s>
<s> Certainly !  </s>
<s> Daniel  </s>
