<s> Hi,  </s>
<s> don't know whether this is the right place for the question.  </s>
<s> If not, please take my apologies.  </s>
<s> I wonder about the XQuery type hierarchy.  </s>
<s> There are a lot of documents around but I did not really find some kind of implicit conversion rule for types.  </s>
<s> Suppose the expression:  </s>
<s> "20"  1000 A string literal is compared with an integer literal.  </s>
<s> In "XQuery 1.0 and XPath 2.0 Formal Semantics" section [B.2 Mapping of Overloaded Internal Functions].  </s>
<s> A list of internal functions is provided.  </s>
<s> According to it there are comparison functions that take either numerics or strings as parameters.  </s>
<s> But what is to take in the provided example.  </s>
<s> For the practical use the numeric variant seems to be the best.  </s>
<s> But the question is: Is there an explicit rule that describes when to convert which type to what other type and when not?  </s>
<s> Is there a document that contains the ruling?  </s>
<s> Which section?  </s>
<s> Cheers &amp; Thanks Daniel Kirmse  </s>
<s> Hi Daniel,  </s>
<s> Questions about XPath or XSLT can be asked on XSL-List (see should probably go to XQuery-Talk (see  </s>
<s> Conversion rules can be found in the XQuery language document.  </s>
<s> Your example: "20"  1000 uses the  operator, and the conversion rules for that can be found in: This directs you to the "gt" operator; the conversion rules for that can be found in: This directs you to the Appendix B.2 Operator Mapping at: to determine whether the types of the two operands are comparable.  </s>
<s> They aren't (there's no listing for A gt B where A is a xs:string and B is numeric), so you will get a type error.  </s>
<s> It's generally the case in XPath 2.0/XQuery that the only implicit conversion rules are from the xdt:untypedAtomic type to other types.  </s>
<s> xdt:untypedAtomic values only really arise in unvalidated documents.  </s>
<s> Cheers, Jeni Jeni Tennison  </s>
<s> Questions about XQuery should probably go to XQuery-Talk (see  </s>
<s> Or even better send your XQuery questions to www-ql@w3.org.  </s>
<s> /paulc Paul Cotton, Microsoft Canada 17 Eleanor Drive, Nepean, Ontario K2E 6A3  </s>
<s> Such questions are best asked on the www-ql alias.  </s>
<s> XQuery is mainly a strongly typed language which means that your expression below leads to a type error.  </s>
<s> Exceptions are the treatment of untyped data, the notion of atomization, and the implicit promotion of numeric data (and xs:anyURI to be added).  </s>
<s> These rules are described in the corresponding sections in the language document or the formal semantics (look for atomization, numeric type promotion, xdt:untypedAtomic).  </s>
<s> HTH Michael From: public-qt-comments-request@w3.org [mailto:public-qt-comments-request@w3.org]  </s>
<s> On Behalf Of Kirmse, Daniel Subject: Question regarding the typehirarchy Hi, don't know whether this is the right place for the question.  </s>
<s> If not, please take my apologies.  </s>
<s> I wonder about the XQuery type hierarchy.  </s>
<s> There are a lot of documents around but I did not really find some kind of implicit conversion rule for types.  </s>
<s> Suppose the expression: "20"  1000 A string literal is compared with an integer literal.  </s>
<s> In "XQuery 1.0 and XPath 2.0 Formal Semantics" section [B.2 Mapping of Overloaded Internal Functions].  </s>
<s> A list of internal functions is provided.  </s>
<s> According to it there are comparison functions that take either numerics or strings as parameters.  </s>
<s> But what is to take in the provided example.  </s>
<s> For the practical use the numeric variant seems to be the best.  </s>
<s> But the question is: Is there an explicit rule that describes when to convert which type to what other type and when not?  </s>
<s> Is there a document that contains the ruling?  </s>
<s> Which section?  </s>
<s> Cheers &amp; Thanks Daniel Kirmse  </s>
