<s> The IESG has received a request from the IETF Steering Group Working Group to consider Applicability Statement for HTTP State Management draft-iesg-http-cookies-00.txt as a BCP.  </s>
<s> The IESG will also consider HTTP State Management Mechanism draft-ietf-http-state-man-mec-10.txt as a Proposed Standard.  </s>
<s> The IESG plans to make a decision in the next few weeks, and solicits final comments on this action.  </s>
<s> Please send any comments to the iesg@ietf.org  </s>
<s> or ietf@ietf.org  </s>
<s> mailing lists by July 23, 1999.  </s>
<s> Files can be obtained via  </s>
<s> The following comments are regarding:  </s>
<s> Despite the Subject line, Yaron's comments apply to the above I-D, not to the Applicability Statement.  </s>
<s> [Complimentary remarks about me accepted.  </s>
<s> And deleted.]  </s>
<s> I would like to redirect any follow-up discussion to http-state@lists.research.bell-labs.com, where we have been conducting the discussions about cookies.  </s>
<s> Also, please forgive me, but I am on vacation for a couple more weeks, and my brain is shut down.  </s>
<s> I will try to address the issues Yaron raises when I return.  </s>
<s> Please note that the draft in question is dated July 24, 1998 [sic!].  </s>
<s> Dave Kristol  </s>
<s> Dear IESG, First, let me join in thanking David Kristol for the amount of work done.  </s>
<s> It would be nice to declare victory, publish RFCs, and move on.  </s>
<s> However things are not that simple.  </s>
<s> I believe that the current cookie situation on the internet is seriously broken as far as privacy is concerned.  </s>
<s> However, I don't believe that moving the above two drafts to BCP and proposed standard will benefit the internet community.  </s>
<s> I would prefer it if either - the IESG did nothing and let the two drafts disappear silently from the internet draft repository, or - state-man-mec were moved to experimental, superseding 2109, with iesg-http-cookies disappearing silently.  </s>
<s> Basically state-man-mec is too controversial to end up on the standards track.  </s>
<s> The controversy surrounding the state management work had some good effects, so I don't feel that the effort on it was wasted, but going on to publish proposed standards would be a bit strange given all the controversy.  </s>
<s> * On cookies and the IETF I believe that the cookie situation that we live with now would benefit from both a) some tight spec writing and b) a lot of social engineering.  </s>
<s> I don't expect many people to disagree to a).  </s>
<s> The Netscape cookie specification has a lot of vague parts and it would be nice to have a better spec that clears them up.  </s>
<s> Point b) is more contentious: there are people out there who believe that the current cookie situation is perfectly OK.  </s>
<s> From my state management discussions with them in e-mail over the last few years, I conclude that their number is significant.  </s>
<s> These are not just one or two disagreeable individuals who can be ignored in declaring an IETF consensus.  </s>
<s> What we really have here is a political struggle between the 'commercial complex' which wants to obtain and resell a lot of privacy-related information from end users as a means of supporting content, and a 'consumer complex' which believes that this way of supporting content is either inherently wrong, or that the consumer is getting far too little value out of the current deal.  </s>
<s> I believe that this political struggle cannot be resolved through the IETF consensus process.  </s>
<s> (It might be possible to silently complete an IETF last call without anybody in the 'commercial complex' noticing, but that won't resolve anything.) What the IESG and IETF can feasibly do with respect to cookies: 1. the IESG could release policy statements with respect to cookies, which are clearly independent from the IETF consensus/standards process (draft-iesg-http-cookies-00 is not very good as such a statement, see below) 2. the IETF can write an informational spec which tightens up the definition of Netscape cookies, but which does not add any new security/privacy restrictions beyond those in the Netscape spec (2109/state-man-mec is not such a spec) 3. the IETF could try to change the playing field of the political struggle by developing credible specifications of *optional* protocol-level 'cookie filters' to enhance privacy, or privacy negotiation mechanisms.  </s>
<s> (2109/state-man-mec contains the `unverifiable transaction' or 'third party cookie' mechanism, which is an example of what I mean, by a 'cookie filter', though the use of it is not optional in these specs, the filter should be switched on by default.) Of course a number of browser implementers already provide various forms of cookie filters, and this is a good thing.  </s>
<s> Public specifications of such filters would be very valuable to the designers of stateful sites, to ensure that their sites will keep working, or fail gracefully, if certain filters are switched on or off.  </s>
<s> Actions 2. and 3. would require significant new editorial work, it is unclear whether we would see it being done even if there is a broad feeling that this is the way to go.  </s>
<s> In any case both 2. and 3. are compatible with dropping state-man-mec from the repository or moving it to experimental.  </s>
<s> * Comments on draft-ietf-http-state-man-mec-10.txt:  </s>
<s> There has never been a real consensus for 2109 or state-man-mec.  </s>
<s> The  </s>
<s> main breaking point has always been that the draft specifies that the 'cookie filter' for third party cookies (cookies in unverifiable transactions) should be switched 'on' by default.  </s>
<s> Basically there is a large group of web advertisers and people depending on web advertising who believe that the filter should be 'off' by default.  </s>
<s> Most significantly, the two major browser implementors believe (or I should say their representatives implied this at one point, and I have not seen a reversal since) that their interests are best served by providing implementations which do not filter out third party cookies by default.  </s>
<s> Pushing state-man-mec onto the standards track without a good IETF consensus may be something the IESG can 'legally' do (I would not know), but I don't see how the internet community would be served by this.  </s>
<s> Yaron Goland commented recently that state-man-mec has too few improved elements over the old Netscape cookies to warrant a changeover of the infrastructure.  </s>
<s> I agree to some extent: I would say that the changes to browser implementations and site policies that I want could be made without changing the Netscape cookie wire protocol.  </s>
<s> Yaron also said that: |The key failure in cookie security is authentication, the ability to |know exactly with whom you are dealing.  </s>
<s> As we all know, domains can |not provide this information which is the core of the cookie security |problem.  </s>
<s> I'm not sure if Yaron is referring to the need for some kind of cross-domain identification scheme, or to the need for signed certificates or similar IDs.  </s>
<s> In either case I disagree: the key failure in cookie security is inadequate support and defaults for user privacy in most deployed browsers.  </s>
<s> Adding more authentication to the wire protocol won't solve this core problem.  </s>
<s> * Comments on draft-iesg-http-cookies-00.txt:  </s>
<s> My main problem with iesg-http-cookies is that it sets out to define a standard that does not have an RFC number but is in stead is made up of two RFCs on different tracks.  </s>
<s> Some quotes: |Uses in the latter category should be considered violations of the |standard, even though the actual protocol implementations may conform |to the standard.  </s>
<s> This memo, along with RFC- XXXX, is considered part |of the HTTP State Management protocol specification.  </s>
<s> |The following uses of HTTP State Management are deemed inappropriate |and a violation of the standard: iesg-http-cookies can be read as a kind of appendix that introduces new MUST-level requirements into the standards-track IETF state-man-mec wire protocol specification through the back door.  </s>
<s> While this is not a very friendly interpretation, it is a plausible one.  </s>
<s> As such, iesg-http-cookies exposes the IESG and IETF to the risk of some rather effective attacks should the mass media flamewar over cookies flare up again, attacks which could lower the credibility of the whole IETF process.  </s>
<s> I am not against the IESG entering the cookie privacy debate, especially if it is on the side that I belong to.  </s>
<s> But if it does, much more care should be taken to separate IESG policy statements from the IETF consensus process.  </s>
<s> Also a pure policy statement, if made, should apply to both Netscape and state-man-mec cookies.  </s>
<s> Comments on details:  </s>
<s> - I believe that the '2.2.1.  </s>
<s> Leakage of Information to Third Parties' requirements in iesg-http-cookies are good practice.  </s>
<s> However, I think that the '2.2.1.  </s>
<s> Use as an Authentication Mechanism' requirements go too far: for some cases where the security concerns of authentication are minor and the usability concerns are major, I consider the use of cookies for authentication to be a valid engineering solution.  </s>
<s> - (section 2:) The HTTP Content-Location header field cannot currently be used in a scheme to maintain state, except when it is part of a HTTP redirect.  </s>
<s> - (section 2:) I do not agree to the statement that state management  </s>
<s> represents a 'marginal (but still useful) increase in functionality over ordinary HTTP and HTML.' The increase is not marginal for people who want to build reliable services that maintain state.  </s>
<s> A major advantage of cookies not mentioned in section 2 is that cookie state is insensitive to users navigating the site using the 'back' button or history functions.  </s>
<s> - (section 3:) 'While such exposure is possible, this is not a flaw in the protocol itself'.  </s>
<s> It _is_ a flaw in the protocol itself, one that was inherited from Netscape cookies.  </s>
<s> Other less flawed state management protocols would have been possible, but were pre-empted by  </s>
<s> cookies.  </s>
<s> If state-man-mec is called flawless in an IESG BCP document,  </s>
<s> this implies to me that new protocols with similar flaws would have a good chance of passing an IETF/IESG security considerations review, which they clearly should not.  </s>
<s> Koen.  </s>
<s> At the time these documents were forwarded, it was my belief that there was rough consensus for 2109 and, subsequently, state-man-mec.  </s>
<s> The objections were to the mandatory default behavior necessary to achieve the desired protections of the security considerations section.  </s>
<s> I believe it is still in the best interest of the Internet to publish these documents, and that (unless there have been significant reversals of previously strongly-held opinion) they still represent the "rough consensus" of the community.  </s>
<s> As for the specific comments:  </s>
<s> This is covered in the last paragraph of section 2.2.1.  </s>
<s> yes, that's the context.  </s>
<s> What's the problem?  </s>
<s> You object to the word "marginal", but its usage in this context is consistent with the intent and your statements.  </s>
<s> And the list of advantages need not be listed exhaustively.  </s>
<s> Well, its hard to equate the lack of a single flaw into "flawless", but perhaps a "primarily", as in "it is not primarily a flaw in the protocol itself" would satisfy your concern.  </s>
<s> [ietf@ietf.org removed from distribution]  </s>
<s> Yes, exacly, there have always been objections to the default behavior of the third party cookie filter, that was my main point.  </s>
<s> The level of consensus on the rest of the specification has been considerably higher.  </s>
<s> It is my understanding that a lack of consensus on the security considerations (in this case a lack of consensus on how much privacy is needed by default) implies a lack of consensus on the whole specification.  </s>
<s> Note: these are my specific nitpicks of iesg-http-cookies.  </s>
<s> My main objection to publishing the current draft as a BCP lies somewhere else,  </s>
<s> The first SHOULD NOT in that section is fairly definite, and I am mainly objecting to that one.  </s>
<s> The second SHOULD NOT weakens it, and one can indeed argue that the last paragraphs gives even more wiggle room, even if it does not contain any uppercase keywords.  </s>
<s> A bit of rebalancing of SHOULDs will probably resolve my problem.  </s>
<s> The section implies that Content-Location can be used to maintain state on its own in some way, outside the context of redirects.  </s>
<s> In fact, I just recall that HTTP redirection uses 'location', not 'content-location', so really content-location has little to do with any currently feasible method of maintaining state.  </s>
<s> I am suggesting a way to improve the presentation.  </s>
<s> "marginal" does not sound right to me, even if you believe it to be consistent with what I want.  </s>
<s> I said that I believe it _is_ a flaw in the protocol, your proposed restatement would not work to satisfy my concern, which is about weakening the level of what is acceptable in an ietf standards track protocol.  </s>
<s> Koen.  </s>
<s> Koen, a careful reading of RFC 2026 notes that "consensus" is not interpreted as "without disagreement", and that it outlines the nature of the types of disagreements that might hold within a working group.  </s>
<s> Although the specified default for cookie privacy was in dispute in the working group, it was my judgement that the objections were neither that  </s>
<s> (a) his or her own views have not been adequately considered by the Working Group,  </s>
<s> since the views on the default privacy behavior were considered at length, and  </s>
<s> (b) the Working Group has made an incorrect technical choice which places the quality and/or integrity of the Working Group's product(s) in significant jeopardy.  </s>
<s> since the disagreement was not about quality or integrity, but rather about privacy policy and commercial viability, in an advertising-dominated Internet, of the specified default behavior.  </s>
<s> Anyone who is not satisfied with the resolution of this dispute can follow the dispute reoslution procedures outlined in RFC 2026, but I maintain that, as far as the IETF process is concerned, the working group reached "consensus" (albeit rough) on the entire document.  </s>
<s> Larry Masinter (as HTTP working group chair)  </s>
<s> Larry Masinter:  </s>
<s> Dear Larry, I am sorry if you took my assertion about a lack of consensus on 2109 somewhat personally in your capacity as HTTP working group chair.  </s>
<s> Reading your message, with all its invocation of procedural machinery, I am unsure whether you believe I was trying to somehow dispute old actions of the chair.  </s>
<s> I was not.  </s>
<s> I have no strong interest in examining the question of whether or not the HTTP wg chair applied any rules correctly some N years ago.  </s>
<s> For what it is worth, I certainly recall that, after 2109 was published, it became much more controversial than its draft had ever been in the working group.  </s>
<s> The main point I have been trying to make here is that there is *currently*, in my considered opinion, no consensus, rough or otherwise, on the correct default for the third party cookie filter in the state-man-mec which is now in IETF last call.  </s>
<s> After publication of 2109 there has been a lot of discussion, but little convergence.  </s>
<s> I trust the IESG to sort out the process implications of all this when they make a decision on the draft.  </s>
<s> Now, as you were also somewhat involved in the post-2109 discussions, I would be interested in your view of the level of agreement reached therein.  </s>
<s> Koen.  </s>
