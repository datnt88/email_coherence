<s> I tried creating an annotation on an SVG element inside an HTML document using Amaya.  </s>
<s> When I looked at the XPointer produced, it was  </s>
<s> (that should be all on one line).  </s>
<s> Is that correct?  </s>
<s> 1. Shouldn't it have xmlns(svg=http://www.w3.org/2000/svg) somewhere (XPointer 5.2.1, Namespace Initialisation)?  </s>
<s> Or is this not required because SVG is declared as the default namespace for the SVG element?  </s>
<s> (I'm a bit hazy on this part of XPointer.)  </s>
<s> 2. Shouldn't SVG be either svg or svg:svg?  </s>
<s> 3. Shouldn't line_ be line ?  </s>
<s> Matthew Wilson  </s>
<s> Hello Matthew, Thanks for your comments.  </s>
<s> SVG[1]/line_[1]  </s>
<s> Can you email me the image you were trying to annotate?  </s>
<s> It is definitely a bug to see line_ there.  </s>
<s> The inclusiong of SVG inside HTML can only be done with the SVG keyword.  </s>
<s> On XHTML, you can also do it with namespaces.  </s>
<s> However, the name should  </s>
<s> be SVG.  </s>
<s> Somehow, the function that should be converting Amaya's internal element names into those of the DTD is not being called for SVG.  </s>
<s> If the document was generated by Amaya, this is not a problem.  </s>
<s> The XPointer Candidate Recommendation says that namespaces must be used when there is a conflict between two identical element names coming from two different namespaces (sec.  </s>
<s> 5.2.1).  </s>
<s> If the document was generated by Amaya, this is not a problem, as we cannot yet produce or handle generic XML documents (although this should be available in one or two release time).  </s>
<s> I agree that it wouldn't harm to include a namespace, if you included the fragment this way.  </s>
<s> The same section in the CR says how to include the namespace, but it's not clear what will be the final shape of the XPointer.  </s>
<s> I'll ask the question to Henry and answer back to the list when I have more information.  </s>
<s> For both above, I guess you're right.  </s>
<s> It seems like a bug in my Amaya code.  </s>
<s> I'll look at it (I hope you can mail me your document and tell me what you were annoating in it).  </s>
<s> Cheers, -jose  </s>
<s> The annotation was on the solitary SVG item in the Amaya-generated page  </s>
<s> Are you saying that the element called "svg" has to be converted to capitals, "SVG", for inclusion in HTML?  </s>
<s> Matthew Wilson  </s>
<s> Hello Matthew, Sorry it took me some time to get back to you.  </s>
<s> Annotating the line in your SVG example: Produces the following XPointer in the current Amaya (from CVS): file:///home/kahan/svg-annot-test.html#xpointer(/html[1]/body[1]/svg[1]/line[1])  </s>
<s> Although it doesn't include namespaces, it is correct by itself.  </s>
<s> Which version of Amaya (and on which platform) were you using when you got the XPointer: xpointer(/html[1]/body[1]/SVG[1]/line_[1]) My guess is that it was a version previous than 5.3 which was missing the convertion from the internal Amaya name to the external name, because I was unable to reproduce it.  </s>
<s> What I did was to copy your file locally, then select the line, annotate it and open the index file that's stored locally.  </s>
<s> Did you use this same procedure?  </s>
<s> My previous comment was wrong:  </s>
<s> I was completely confused by MathML.  </s>
<s> There is no SVG element that allows you to include the SVG XML source inside HTML 4.x documents.  </s>
<s> You can only include an SVG image thru the object element.  </s>
<s> Amaya allows to do the same thing using the img element.  </s>
<s> However, the SVG tree is not visible then.  </s>
<s> You can only make an XPointer that points to the element that includes the SVG image.  </s>
<s> For XHTML and other XML documents, you need to use namespaces to include SVG.  </s>
<s> For the outstanding question on how does an XPointer that includes namespaces look like, I got the following example from Henry (I split the line at the # char, but there is no space there): href="http://www.w3.org/Team/thompson/w3c-home.xml# xmlns(x=http//example.com/foo)  </s>
<s> xpointer(//x:a)" Amaya is not able yet to handle this kind of XPointers.  </s>
<s> I'll try to improve this situation.  </s>
<s> Hope this answers (even if belatedly) your questions.  </s>
<s> -jose  </s>
<s> I was using Amaya 5.3 on Win98.  </s>
<s> Help- About Amaya says "amaya - 5.3 18 December 2001".  </s>
<s> I checked the SVG XPointer using the interactive Web interface at  </s>
<s> OK.  </s>
<s> OK. I still have a few questions about the XPointers but I suppose I should read the spec again first.  </s>
<s> 8-) Matthew  </s>
