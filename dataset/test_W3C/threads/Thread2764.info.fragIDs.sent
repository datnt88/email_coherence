<s> From: Peter Lenahan (pjl@ibi.com)  </s>
<s> May I ask for a feature in the next version HTTP 1.1 I have read the HTTP 1.1 spec and searched for this and couldn't find a solution.  </s>
<s> The closest thing that I found was Content-Location: URI This is what I would like:  </s>
<s> Content-Name: URI The Content-Name would formally name the data, this would give the browser a name to save a file under when the user is prompted in the browser's save dialog box.  </s>
<s> Reason for the request: I have a CGI generating a Microsoft Excel Spread sheet dynamically from a database.  </s>
<s> The user get's back a Content-type: application/x-xls that it may or may not understand.  </s>
<s> The user is asked to open or save the data.  </s>
<s> Currently there doesn't appear to be an HTTP way of setting the name of the data to save to the local machine.  </s>
<s> I thought that the browser companies may have added extension-header's as the spec suggests, but I was not that lucky.  </s>
<s> Thanks, Peter Lenahan pjl@ibi.com  </s>
<s> peter_lenahan@ibi.com:  </s>
<s> Hi Peter, The upcoming update of the HTTP 1.1 specification RFC includes a description of the feature you want.  </s>
<s> This is not officially part of the standard but it is widely adopted in current browsers.  </s>
<s> I have included the draft text (from draft-ietf-http-v11-spec-rev-03.txt) below.  </s>
<s> Koen.  </s>
<s> --snip-- 19.5.1 Content-Disposition The Content-Disposition response-header field has been proposed as a means for the origin server to suggest a default filename if the user requests that the content is saved to a file.  </s>
<s> This usage is derived from the definition of Content-Disposition in RFC 1806 [35].  </s>
<s> content-disposition = "Content-Disposition" ":" disposition-type *( ";" disposition-parm ) disposition-type = "attachment" | disp-extension-token disposition-parm = filename-parm | disp-extension-parm filename-parm = "filename" "=" quoted-string disp-extension-token = token disp-extension-parm = token "=" ( token | quoted-string ) An example is The receiving user agent should not respect any directory path information that may seem to be present in the filename-parm parameter, which is the only parameter believed to apply to HTTP implementations at this time.  </s>
<s> The filename should be treated as a terminal component only.  </s>
<s> [If this header is used in a response with the application/octet-stream content-type,(*)] the implied suggestion is that the user agent should not display the response, but directly enter a `save response as...' dialog.  </s>
<s> See section 15.5 for Content-Disposition security issues.  </s>
<s> (*) This half-sentence seems to have been dropped from the 03 revision, it was still in the 01 revision.  </s>
<s> Editing error?  </s>
<s> I'll raise this as an issue.  </s>
<s> I just noticed that half of a sentence disappeared in section 19.5.1 (Content-Disposition) of draft-ietf-http-v11-spec-rev-0[23].txt.  </s>
<s> My original draft (http://www.ics.uci.edu/pub/ietf/http/hypermail/1997q2/0151.html) and revision 01 had: If this header is used in a response with the application/octet-stream content-type, the implied suggestion is that the user agent should not display the response, but directly enter a `save response as..' dialog.  </s>
<s> Revisions 02 and 03 have: The implied suggestion is that the user agent should not display the response, but directly enter a `save response as...' dialog.  </s>
<s> I guess there has been some type of editorial error.  </s>
<s> The original text is correct, the new text is incorrect as a description of existing practice.  </s>
<s> User agents (at least the ones I tested) will *not* directly enter a 'save as' dialog if Content-Disposition is present on, say, a normal text/html response.  </s>
<s> The text/html will be displayed as a normal response and the filename in Content-Disposition is only used if the user does 'save as' manually.  </s>
<s> Koen.  </s>
