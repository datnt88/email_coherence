<s> Can a client do this sequence of commands to a single resource?  </s>
<s> 1. LOCK version-controlled resource  </s>
<s> 2. verify that VCR has "locked-update" in DAV:auto-checkout and "locked-update" in DAV:auto-checkin  </s>
<s> 3. PUT  </s>
<s> 4. UNCHECKOUT  </s>
<s> Obviously this would have to be a versioning-aware client, relying on the auto-checkout and auto-checkin behaviour of the server to do the checkout, but able to override the server to cancel the checkout.  </s>
<s> The advantage of the scenario is that it is fewer commands.  </s>
<s> I don't see any reason that the spec would not allow this scenario -- I wanted to point it out so that server implementors could be sure to test it.  </s>
<s> lisa  </s>
<s> This would acquire the lock.  </s>
<s> Ok.  </s>
<s> Assuming the lock token passed with the request was ok, this PUT modification request to a locked version-controlled resource would cause: (1) the resource to be first checked-out, due to DAV:auto-checkout being DAV:locked-update, (2) the PUT method to be applied, (3) the resource to be checked-in, due to the resource being auto-checked  </s>
<s> out (in step (1)) and DAV:auto-checkin being DAV:locked-update.  </s>
<s> (i.e. CHECKOUT, PUT, CHECKIN) The end result is a checked-in version-controlled resource and a new version resource.  </s>
<s> This would fail with a  </s>
<s> If the DAV:auto-checkin had not been DAV:locked-update then the client could cancel the checkout.  </s>
<s> Regards, Tim  </s>
<s> Obviously I misunderstood the meaning of "locked-update" in "DAV:auto-checkin".  </s>
<s> See separate mail already sent on the confusion of that section.  </s>
<s> What I'm most interested in is a server that will checkout/checkin if a client does a PUT outside the context of a lock.  </s>
<s> But it will checkout/checkin only once for a series of PUT requests inside the context of a lock.  </s>
<s> Tim says that would be the case if "DAV:auto-checkin" has a value of "unlocked-update".  </s>
<s> So to confirm: A client can legally perform this sequence of commands on a single resource: 1. LOCK version-controlled resource 2. verify that VCR has "locked-update" in DAV:auto-checkout and "unlocked-update" in DAV:auto-checkin 3. PUT 4. UNCHECKOUT Other than the confusion over the meaning of DAV:auto-checkin, the spec  </s>
<s> ought to say that an automatic checkout can be checked-in or unchecked-out manually.  </s>
<s> Next question reserved for a different mail!  </s>
<s> Lisa  </s>
<s> From: ietf-dav-versioning-request@w3.org [mailto:ietf-dav-versioning-request@w3.org]On  </s>
<s> Behalf Of Tim Ellison Sent: Thursday, July 12, 2001 3:48 AM Subject: Re: UNCHECKOUT after automatic checkout?  </s>
<s> I agree this is legal.  </s>
<s> Regards, Tim  </s>
