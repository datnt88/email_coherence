<s> I have submitted a slightly updated version of the main transparent content negotiation draft, draft-ietf-http-negotiation-05.txt, and  </s>
<s> made it available at the usual place:  </s>
<s> To make room for independent developments on feature tag registration, some small changes were made to the feature tag parts of the draft: feature tags may now be quoted, so that one can use URLs as feature tags, a reference to work on feature tag registration procedures has been added, and the syntax has been changed slightly to make fault-tolerant parsing of feature tags which are URLs easier.  </s>
<s> The web page above has also been updated to reflect recent revisions of other drafts by Ted Hardie.  </s>
<s> Koen.  </s>
<s> I had a couple of comments on the content negotiation draft.  </s>
<s> I am new to this discussion, so I apologize if these comments have been addressed before.  </s>
<s> 1.  </s>
<s> I am curious why Section 5.4 makes the inclusion of type, language, charset, and length attributes optional.  </s>
<s> Are there some cases where it would be difficult for a web server/proxy to determine these characteristics at the time it generates the variant list?  </s>
<s> The only  </s>
<s> examples I can think of are cgi-bin scripts and streaming documents that do not have a fixed size.  </s>
<s> Additionally, I am also curious why the server does not have to maintain a one-to-one correspondence between the attributes in the variant description and the relevant HTTP Content-* headers.  </s>
<s> Obviously, making these fields required and identical to those in the HTTP header would make a client's job of choosing the most appropriate variant much easier, and unless there is a reason that this is difficult, it might be useful to make these MUSTs.  </s>
<s> 2. The list of alternates in an "Alternates:" header currently uses the URI of documents for identification.  </s>
<s> It seems that there might be some advantages to using the URL of the document instead, e.g. the example in Section 4.3:  </s>
<s> Alternates: {"paper.1"  </s>
<s> 0.9 {type text/html} {language en}}, {"paper.2"  </s>
<s> 0.7 {type text/html} {language fr}}, {"paper.3"  </s>
<s> 1.0 {type application/postscript}  </s>
<s> becomes:  </s>
<s> Alternates: {"http://x.org/paper.1"  </s>
<s> 0.9 {type text/html} {language en}}, {"http://x.org/paper.2"  </s>
<s> 0.7 {type text/html} {language  </s>
<s> fr}},  </s>
<s> {"http://x.org/paper.3"  </s>
<s> 1.0 {type  </s>
<s> application/postscript} Using URLs instead of URIs has the significant advantage that it provides a simple mechanism for pointing clients to mirror locations that replicate the same content.  </s>
<s> For example, the Internet Movie Database could have an "Alternates:" header like: Alternates: {"http://www.imdb.com/"  </s>
<s> 1.0 {type text/html} {language en}}, {"http://uk.imdb.com/"  </s>
<s> 0.7 {type text/html} {language en}}, {"http://italy.imdb.com/"  </s>
<s> 0.7 {type text/html} {language it}}  </s>
<s> I don't know of any existing mechanism to do replication of this nature other than mapping a DNS name to multiple addresses, which doesn't handle replicas on sites that are not a part of the same administrative domain and does not allow fine-grained replica support.  </s>
<s> I'd appreciate your comments, and thanks.  </s>
<s> --Mark  </s>
<s> Mark,  </s>
<s> On at least one of the revisions of the "Alternates"draft, the full URL syntax was made mandatory.  </s>
<s> I believe that that syntax continues to be the consensus of the conneg list.  </s>
<s> regards, Ted Hardie NASA NIC  </s>
<s> Alternates: {"paper.1"  </s>
<s> 0.9 {type text/html} {language en}}, {"paper.2"  </s>
<s> 0.7 {type text/html} {language fr}}, {"paper.3"  </s>
<s> 1.0 {type application/postscript}  </s>
<s> Alternates: {"http://x.org/paper.1"  </s>
<s> 0.9 {type text/html} {language en}}, {"http://x.org/paper.2"  </s>
<s> 0.7 {type text/html} {language  </s>
<s> {"http://x.org/paper.3"  </s>
<s> 1.0 {type  </s>
<s> Mark Stemm:  </s>
<s> Yes, there are such times.  </s>
<s> First, an document author may simply not have specified the language of a document, or even the charset, so the server is allowed to leave them out.  </s>
<s> Second, as you note below, computing the length can be expensive.  </s>
<s> The only  </s>
<s> In the transparent negotiation scheme, the client uses the alternates header field only to select content, it never needs to look at the header fields of variants for this, so a MUST would not make the life of a client any easier, while it might make the life of a server (implementer) somewhat harder.  </s>
<s> Hmm, I think you are confusing terminology here; an URI is not a relative URL, it is an old term which is supposed to be somewhat more general than an URL.  </s>
<s> The URI can be both absolute and relative, as the draft says, so your examples below are already allowed.  </s>
<s> Alternates: {"paper.1"  </s>
<s> 0.9 {type text/html} {language en}}, {"paper.2"  </s>
<s> 0.7 {type text/html} {language fr}}, {"paper.3"  </s>
<s> 1.0 {type application/postscript}  </s>
<s> Alternates: {"http://x.org/paper.1"  </s>
<s> 0.9 {type text/html} {language en}}, {"http://x.org/paper.2"  </s>
<s> 0.7 {type text/html} {language  </s>
<s> {"http://x.org/paper.3"  </s>
<s> 1.0 {type  </s>
<s> Nobody ever did a good mirroring system for the web (and managed to get is deployed), and I would not argue that the alternates header is a good mirroring mechanism, but as you note it can be abused to do mirroring.  </s>
<s> Thanks for your comments.  </s>
<s> Note, by the way, that nobody is currently working on developing the protocol in draft-ietf-http-negotiation any further, we are going to take the current version and release it as an experimental protocol.  </s>
<s> Koen.  </s>
<s> This is a bit ambiguous: I meant to say that nobody in this working group is working on changes to the text of draft-ietf-http-negotiation.  </s>
<s> However, some people in the implementation community *are* working on developing implementatations of the protocol in this draft.  </s>
<s> Thanks to Larry Masinter for pointing out this ambiguity.  </s>
<s> Koen.  </s>
