Glenn
[JB ] CSS wrap-option property does not have a value that produces balanced
lines. Justification properties do not appear to help either.
GA: What do you mean by "balanced lines"? If you mean left and right block
justified, then the text-align property would be used to specify justify.
Whether to perform soft layout, i.e., UA line wrapping, is independent of
the alignment of line areas in the containing block area.
[JB ] No I don't mean block justified. It's an issue of where in the lines
to put a line break.
So given a content of "Scooby dooby doo where are you?" a typical line break
mechanism might break this as follows for a 22 character 2 line display (for
ease lets assume a fixed font - as in Teletext).
Scooby dooby doo where
are you?
The more balanced lines would be
Scooby dooby doo
where are you?
From Australian Caption Centre guidelines
Where possible, caption lines should also be similar in length because
this makes them much easier to read."
YMMV
There are a number of other 'rules' regarding line breaking that may or may
not be desirable. However most of these require a detailed understanding of
grammar....which I think is probably straying well outside the remit....
regards
John Birch
The views and opinions expressed are the author's own and do not necessarily
reflect the views and opinions of Screen Subtitling Systems Limited.
The type of line break behavior you refer to below is considered to be an advanced typesetting feature only available in fairly high-end pre-press systems (it is known in typesetting as "river control"). I can't imagine that any subtitle/cc user agent would implement it.
See http://www.coathook.pwp.blueyonder.co.uk/comp/comp3a.htm for some discussion of river control.
Also, clearly a UA is not going to perform sentential analysis to determine line break points.
G.
Glenn
[JB ] CSS wrap-option property does not have a value that produces balanced lines. Justification properties do not appear to help either.
GA: What do you mean by "balanced lines"? If you mean left and right block justified, then the text-align property would be used to specify justify. Whether to perform soft layout, i.e., UA line wrapping, is independent of the alignment of line areas in the containing block area.
[JB ] No I don't mean block justified. It's an issue of where in the lines to put a line break.
So given a content of "Scooby dooby doo where are you?" a typical line break mechanism might break this as follows for a 22 character 2 line display (for ease lets assume a fixed font - as in Teletext).
Scooby dooby doo where
are you?
The more balanced lines would be
Scooby dooby doo
where are you?
From Australian Caption Centre guidelines
" Where possible, caption lines should also be similar in length because this makes them much easier to read."
YMMV
There are a number of other 'rules' regarding line breaking that may or may not be desirable. However most of these require a detailed understanding of grammar....which I think is probably straying well outside the remit....
regards
John Birch
The views and opinions expressed are the author's own and do not necessarily
reflect the views and opinions of Screen Subtitling Systems Limited.
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Balanced lines/river control has been implemented in Sub Station Alpha and the
VirtualDub subtitler and TextSub plugins for a long time. I don't see how
this is in any way an "advanced" feature or even that complex to implement.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)
iD8DBQE/Ol2nZl/BHdU+lYMRAmIDAKCYnJdyCb+S8O0S1q2exAE0GShpvACdG8zw
ArFi0+dv46A0OjBB4OUy7PI=
=2qnZ
-----END PGP SIGNATURE-----
While it isn't rocket science, it isn't trivial either. It basically maps to the integer programming problem, which requires backtracking. Keep in mind that you would have to balance over a potentially arbitrary number of lines and you would have to parameterize how unbalanced to permit a given line.
In a former career, I developed hyphenation and justification engines for the pre-press industry, wherein I implemented river control. I can assure you it is non-trivial, and I would not expect any AF to DF (distribution format) transcoder to implement such a feature simply on the basis of cost to benefit ratio.
G.
Glenn,
Interesting, I was unaware that there was a type-setting term for this. I'm not surprised though.
[GA] I can't imagine that any subtitle/cc user agent would implement it.
It's true that the majority of current distribution formats assume that there is little or no UA re-layout of content, that's because these formats are distribution formats. TT-AF is not. I anticipate that there will be a requirement to translate TT-AF into distribution formats for many applications - not just subtitling / captioning. Since these distribution formats may well implicitly impose various display limitations (e.g. fixed line lengths, colour limitations, font sizes), the inclusion of mechanisms within TT-AF to hint at the preferred end results would be useful.
Line balancing is hardly rocket science...
BTW - I'm not suggesting a sentential analysis of the content.
But certain basic rules.
1) In a fixed size region - move words from line to line until line lengths balance.
2) avoid short (i.e. 1 character or 2 charater words at the ends of sentences)
e.g.
She was annoyed because
I didn't ask her to come with us.
is preferred over
She was annoyed because I
didn't ask her to come with us.
regards
John Birch
The views and opinions expressed are the author's own and do not necessarily
reflect the views and opinions of Screen Subtitling Systems Limited.
-----Original Message-----
The type of line break behavior you refer to below is considered to be an advanced typesetting feature only available in fairly high-end pre-press systems (it is known in typesetting as "river control"). I can't imagine that any subtitle/cc user agent would implement it.
See http://www.coathook.pwp.blueyonder.co.uk/comp/comp3a.htm for some discussion of river control.
Also, clearly a UA is not going to perform sentential analysis to determine line break points.
G.
-----Original Message-----
Glenn
[JB ] CSS wrap-option property does not have a value that produces balanced lines. Justification properties do not appear to help either.
GA: What do you mean by "balanced lines"? If you mean left and right block justified, then the text-align property would be used to specify justify. Whether to perform soft layout, i.e., UA line wrapping, is independent of the alignment of line areas in the containing block area.
[JB ] No I don't mean block justified. It's an issue of where in the lines to put a line break.
So given a content of "Scooby dooby doo where are you?" a typical line break mechanism might break this as follows for a 22 character 2 line display (for ease lets assume a fixed font - as in Teletext).
Scooby dooby doo where
are you?
The more balanced lines would be
Scooby dooby doo
where are you?
From Australian Caption Centre guidelines
" Where possible, caption lines should also be similar in length because this makes them much easier to read."
YMMV
There are a number of other 'rules' regarding line breaking that may or may not be desirable. However most of these require a detailed understanding of grammar....which I think is probably straying well outside the remit....
regards
John Birch
The views and opinions expressed are the author's own and do not necessarily
reflect the views and opinions of Screen Subtitling Systems Limited.
Glenn,
Interesting, I was unaware that there was a type-setting term for this. I'm
not surprised though.
[GA] I can't imagine that any subtitle/cc user agent would implement it.
It's true that the majority of current distribution formats assume that
there is little or no UA re-layout of content, that's because these formats
are distribution formats. TT-AF is not. I anticipate that there will be a
requirement to translate TT-AF into distribution formats for many
applications - not just subtitling / captioning. Since these distribution
formats may well implicitly impose various display limitations (e.g. fixed
line lengths, colour limitations, font sizes), the inclusion of mechanisms
within TT-AF to hint at the preferred end results would be useful.
Line balancing is hardly rocket science...
BTW - I'm not suggesting a sentential analysis of the content.
But certain basic rules.
1) In a fixed size region - move words from line to line until line lengths
balance.
2) avoid short (i.e. 1 character or 2 charater words at the ends of
sentences)
e.g.
She was annoyed because
I didn't ask her to come with us.
is preferred over
She was annoyed because I
didn't ask her to come with us.
regards
John Birch
The views and opinions expressed are the author's own and do not necessarily
reflect the views and opinions of Screen Subtitling Systems Limited.
The type of line break behavior you refer to below is considered to be an
advanced typesetting feature only available in fairly high-end pre-press
systems (it is known in typesetting as "river control"). I can't imagine
that any subtitle/cc user agent would implement it.
See http://www.coathook.pwp.blueyonder.co.uk/comp/comp3a.htm
http://www.coathook.pwp.blueyonder.co.uk/comp/comp3a.htm for some
discussion of river control.
Also, clearly a UA is not going to perform sentential analysis to determine
line break points.
G.
-----Original Message-----
Glenn
[JB ] CSS wrap-option property does not have a value that produces balanced
lines. Justification properties do not appear to help either.
GA: What do you mean by "balanced lines"? If you mean left and right block
justified, then the text-align property would be used to specify justify.
Whether to perform soft layout, i.e., UA line wrapping, is independent of
the alignment of line areas in the containing block area.
[JB ] No I don't mean block justified. It's an issue of where in the lines
to put a line break.
So given a content of "Scooby dooby doo where are you?" a typical line break
mechanism might break this as follows for a 22 character 2 line display (for
ease lets assume a fixed font - as in Teletext).
Scooby dooby doo where
are you?
The more balanced lines would be
Scooby dooby doo
where are you?
From Australian Caption Centre guidelines
" Where possible, caption lines should also be similar in length because
this makes them much easier to read."
YMMV
There are a number of other 'rules' regarding line breaking that may or may
not be desirable. However most of these require a detailed understanding of
grammar....which I think is probably straying well outside the remit....
regards
John Birch
The views and opinions expressed are the author's own and do not necessarily
reflect the views and opinions of Screen Subtitling Systems Limited.
Glenn
[GA ] and I would not expect any AF to DF (distribution format) transcoder
to implement such a feature simply on the basis of cost to benefit ratio.
[JB ]
Yet the present set of CSS properties [JB ] effectively preclude the use
of 'river control' even if an AF to DF transcoder implements it as a matter
of customer requirement. I notice that the line-break property in CSS3
Candidate Release is commented as follows:
"This property selects the set of line breaking rules to be used for text.
The values described below are especially useful to CJK authors, but the
property itself is open to other, not yet specified settings for non-CJK
authors as well. (This is an area for future expansion.)"
bold is my emphasis.
I wonder if there isn't a window of opportunity to suggest that a 'auto'
value be included for this property - such that the UA can make it's own
choice of line-break strategy? The 'normal' value has no specified behaviour
for non CJK text - but I personally feel that a UA which implemented
river-control for non CJK text for line-break="normal" would be contrary to
most users expectations.
regards
John Birch
The views and opinions expressed are the author's own and do not necessarily
reflect the views and opinions of Screen Subtitling Systems Limited.
[my comments at the end]
Timed Text clearly has an interest in realizing a 'river-control' or
"maximize mean time to read per word while minimizing dispersion in time to
read per word" policy for allocating text to lines under a synchronization
constraint. This interest is a quantum leap beyond anything CSS has dealt
with before.
CSS would like experts in novel delivery contexts to define properties or
pseudo-properties like these appropriate to their delivery context and bring
them to CSS for integration and publication.
I see no reason why if one TT-AF transcoder implements such a function it
won't be a required cost of entry to the competitive range soon thereafter.
It's not a big deal to do it. This is a relatively small and
straightforward optimization problem. The cost comes in the other,
diction-sensitive rules, that enter in to the autoflow processing.
The reason a small TT presentation window is radically different from anything
CSS has dealt with before is because time, not screen real estate, is the
scarcest resource in this delivery context. So it is more important to
river-control the line length for usability of the resultant presentation than
for the author to hand-control the allocation of layout-rectangle sizes and
packing.
In classical web page design the main cost pressure is all the other stuff
you can't put in view when you commit a rectangle of layout. In captions
and subtitles, the main cost pressure is that there is not enought time for
the user to catch the text while it is available. If there is insufficient
time, the user either misses what the caption/subtitle said entirely, or
they have to concentrate so hard to follow the text presentation that they
can't enjoy the video that is around it. It is more important for the text
display transactions to fill the time available than for the lines to fill
the rectangle available.
Even if I exaggerate and the penalty for mis-utilization of available time
is not the long pole in the tent, but only the same order of magnitude as
the penalty for mis-utilization of layout rectangle area, it is a 'phase
change,' a qualitative mode shift from the performance pressures under which
other CSS renderings operate.
Al
Thanks for pointing this out. Do you have any URL reference links that can provide more
information on these products?
G.
The list of visual style properties enumerated in TT-AF-1-0-REQ requirement R306 is not intended to be exhaustive, at least in the sense that other properties would be precluded. So I'm not sure how you derive "effectively preclude" in the following.
I expect that during the process of defining the TT-AF specification, we will discover derived requirements that cause us to add additional features not indicated in the requirements document. Beyond that, we will most certainly provide extensibility mechanisms that permit use of non-standardized style properties.
I can see us adding a line-breaking-strategy property if we need to do so. I would note that XSL, whose property set we have given preference to, uses an implied mechanism for determining the line breaking algorithm, e.g., in Section 7.29.24: "In general, linguistic services (line-justification strategy, line-breaking and hyphenation) may depend on a combination of the "language", "script", and "country" properties.".
I find Al Gilman's follow-on email on the subject of time as the scarcest resource to be quite interesting and bears further consideration.
G.
From: Johnb@screen.subtitling.com [mailto:Johnb@screen.subtitling.com]
Glenn
[GA ] and I would not expect any AF to DF (distribution format) transcoder to implement such a feature simply on the basis of cost to benefit ratio.
[JB ]
Yet the present set of CSS properties [JB ] effectively preclude the use of 'river control' even if an AF to DF transcoder implements it as a matter of customer requirement. I notice that the line-break property in CSS3 Candidate Release is commented as follows:
"This property selects the set of line breaking rules to be used for text. The values described below are especially useful to CJK authors, but the property itself is open to other, not yet specified settings for non-CJK authors as well. (This is an area for future expansion.)"
bold is my emphasis.
I wonder if there isn't a window of opportunity to suggest that a 'auto' value be included for this property - such that the UA can make it's own choice of line-break strategy? The 'normal' value has no specified behaviour for non CJK text - but I personally feel that a UA which implemented river-control for non CJK text for line-break="normal" would be contrary to most users expectations.
regards
John Birch
The views and opinions expressed are the author's own and do not necessarily
reflect the views and opinions of Screen Subtitling Systems Limited.
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Sub Station Alpha:
Official site apparantly no longer exists (DNS entry doesn't resolve)
VirtualDub/subtitler:
source: http://www.virtualdub.org/downloads/subtitler-2_3-src.zip
TextSub (part of VobSub):
Official site no longer resolves (DNS lookup fails)
Can be downloaded from: http://www.divx-digest.com/software/vobsub.html
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)
iD8DBQE/O6OVZl/BHdU+lYMRAqDpAJ0eOGFzE74m1M9zJ5xmmbdQ64AxMQCfc/ko
/exZzkuyI7wxsYnTu/JZWBA=
=OYpJ
-----END PGP SIGNATURE-----
Glenn,
[GA ] I find Al Gilman's follow-on email on the subject of time as the
scarcest resource to be quite interesting and bears further consideration.
Al Gilmans post is 'right on the money'. The discussion about line balancing
is a side issue compared to the issue of temporal flow.
regards
John Birch
The views and opinions expressed are the author's own and do not necessarily
reflect the views and opinions of Screen Subtitling Systems Limited.
The list of visual style properties enumerated in TT-AF-1-0-REQ requirement
R306 is not intended to be exhaustive, at least in the sense that other
properties would be precluded. So I'm not sure how you derive "effectively
preclude" in the following.
I expect that during the process of defining the TT-AF specification, we
will discover derived requirements that cause us to add additional features
not indicated in the requirements document. Beyond that, we will most
certainly provide extensibility mechanisms that permit use of
non-standardized style properties.
I can see us adding a line-breaking-strategy property if we need to do so. I
would note that XSL, whose property set we have given preference to, uses an
implied mechanism for determining the line breaking algorithm, e.g., in
Section 7.29.24: "In general, linguistic services (line-justification
strategy, line-breaking and hyphenation) may depend on a combination of the
"language", "script", and "country" properties.".
I find Al Gilman's follow-on email on the subject of time as the scarcest
resource to be quite interesting and bears further consideration.
G.
Glenn
[GA ] and I would not expect any AF to DF (distribution format) transcoder
to implement such a feature simply on the basis of cost to benefit ratio.
[JB ]
Yet the present set of CSS properties [JB ] effectively preclude the use
of 'river control' even if an AF to DF transcoder implements it as a matter
of customer requirement. I notice that the line-break property in CSS3
Candidate Release is commented as follows:
"This property selects the set of line breaking rules to be used for text.
The values described below are especially useful to CJK authors, but the
property itself is open to other, not yet specified settings for non-CJK
authors as well. (This is an area for future expansion.)"
bold is my emphasis.
I wonder if there isn't a window of opportunity to suggest that a 'auto'
value be included for this property - such that the UA can make it's own
choice of line-break strategy? The 'normal' value has no specified behaviour
for non CJK text - but I personally feel that a UA which implemented
river-control for non CJK text for line-break="normal" would be contrary to
most users expectations.
regards
John Birch
The views and opinions expressed are the author's own and do not necessarily
reflect the views and opinions of Screen Subtitling Systems Limited.
