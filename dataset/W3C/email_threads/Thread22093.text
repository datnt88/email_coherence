Some quick early observations on Mac OS X:
Mozilla 1.3b:
Eventual complain about staff.xml.html not being found ( I believe on
L1 HTML). I suspect this is a general error where the load directive
included an extension. But otherwise it looks similar to Mozilla on
other platforms.
Microsoft Internet Explorer:mac 5.2
Initializing jsUnit from local filesystem doesn't work. Get complain
that file:///file:/localhost... can't be loaded. Slightly better from
http, but still times out reading test page.
Safari will time out reading test page. I haven't gotten either Safari
or Konqueror 3.1 to pass the jsUnit 1.3.3 self tests. I think that the
Konqueror team has been able to run the earlier tests, but I don't know
if that was with a later version or if there is some setting that I'm
missing.
I have a "prototype" of the DOM TS for Level 1 Core,
Level 1 HTML, Level 2 Core, and Level 2 HTML which uses a
patched JsUnit 1.3.3, allows user selection of
implementations, content types, implementation attributes
and test selection and which can be run either from the web
or a local file system. The Level 1 and Level 2 HTML tests
include .xhtml versions of the xml data files for use in
testing xhtml.
Please test and review this for usability and for support in
as many browsers and operating systems as possible.
Known Issues
JsUnit has a slight bug in that a variable name
is misspelled in jsUnitTestManager.js. I will submit a patch
to Edward as soon as I look into some other issues.
Opera 7.x is not supported. More work needs to be done
to determine if it is possible to support Opera 7 in
it's current implementation. I believe that recent
security changes to Opera 7.01 may preclude it's support
even if the other issues in Opera 7.00 are resolved.
IE will fail all native implementation tests for
text/xml and application/xhtml+xml content. This
is due to IE's failure to natively support raw
text/xml or application/xhtml+xml content types.
IE will fail all MSXML implementation tests for
application/xhtml+xml even though the content is valid
XML due to it's lack of support for application/xhtml+xml.
Although you can select text/html or application/xhtml+xml
for the DOM Level 1 Core tests, there is not a corresponding
html or xhtml document available for each XML data file.
There are hc_staff.html, hc_staff.xhtml files however these
do not appear to be properly a part of the DOM Level 1 Core.
I would like to inquire as to whether the hc_staff tests
belong in DOM Level 1 Core.
Several HTML tests are subject to case sensitivity
issues which cause failures when run as text/xml or
application/xhtml+xml.
The lack of full specification of the implementation
attributes for each test makes it unclear to me what the
default implementation attribute values are for the
"undefined" cases.
More work needs to be done to determine the best approach
to creating the alltests.js for each DOM Test Suite,
packaging and location of the do-tests.html and
new-alltests.html files which could be modified to be
shared between each Test Suite and copied into the final
directories during the build.
Availability
* download tar ball containing entire DOM-Test-Suite
directory as downloaded 02-28-2003 from anonymous pserver
* Run online
* Browse the full tree online
* Browse the tests
Browser Support
Windows 2000:
fully supported -
Mozilla trunk, Netscape 7.x, Internet Explorer 5.5 and 6
Note that Netscape 7.x is considerably slower than recent
Mozilla trunk builds but will complete the tests if
given enough time.
not supported -
Opera 7.00 does not load the test documents and Opera 7.01
throws a security error. More work is required to
investigate why Opera does not run the test suite. Opera
will run the normal JsUnit standard tests although not the
native IFRAME based loader.
Mac OS X
fully supported -
Mozilla trunk and Netscape 7.x
Linux:
fully supported -
Mozilla trunk and Netscape 7.x
Installation
Web based
Download the tarball and untar into a new directory
(e.g. DOM-Test-Suite) in your web server's DocRoot.
Make sure your web server supports the following mime types:
xml text/xml
html text/html
xhtml application/xhtml+xml
svg image/svg+xml
Note that the tar ball contains an .htaccess file for Apache
which defines these mime types.
File based
Download the tarball and untar into a new directory
(e.g. DOM-Test-Suite) somewhere on your computer.
Running the DOM Test Suites
Test results may depend upon cache settings.
You may or may not wish to disable Java for the
duration of the tests.
Internet Explorer will need the MSXML 3 or MSXML 4
Active X controls (for XML) and Adobe SVG plug-in
(for SVG) installed and have Active X enabled
in the security zone where you have hosted the tests.
Netscape 7.x/Mozilla will need to have popup windows
enabled for the domain where the tests are hosted.
1. Open the index.html file in the build/ directory.
2. Click on the Test Suite you wish to run:
i.e. DOM Core Level 1, DOM HTML Level 1,
DOM Core Level 2, or DOM HTML Level 2.
3. Select an implementation to test.
Mozilla/Netscape 7 support the Native implementation
for all tests and content types.
Internet Explorer supports Native, MSXML3, MSXML4
(if installed) and Adobe SVG plug-in (if installed).
4. Select the Test Implementation Attributes.
Several tests contain implementation attributes which
specify the qualities of parser which is required
in order to properly parse the data document.
You can select matching tests by choosing
"Any" which will match any setting of the particular
implementation attribute
"undefined" which will only match tests which do not
have the specific implementation attribute set
"true" which will only match tests which have the
specific implementation attribute set to true
"false" which will only match tests which have the
specific implementation attribute set to false.
Currently, only Internet Explorer MSXML implementations
support setting the parser to validating and
ignoringElementContentWhitespace.
Tests which do not meet the specified implementation
attributes you select will be skipped and will be
reported using JsUnit's tracing warn facility.
5. Select the Content Type to be used for selecting
data files to be loaded.
For DOM Core 1 and DOM Core 2 supported content types
are text/xml and image/svg+xml.
For DOM HTML 1 and DOM HTML 2 supported content types
are text/xml, application/xhtml+xml and text/html.
Tests which require files which do not exist in the
requested content type will be skipped and will be
reported using JsUnit's tracing warn facility.
(except for xhtml in the DOM Level 1 Core).
6. Select either the full set of tests or a single
individual test and click the Initialize JsUnit
button.
7. In the window which opens with JsUnit, click Run.
Implementation Details
The basic changes required were to DOMTestCase.js,
test-to-ecmascript.xsl and test-to-jsunit.xsl. Minor
changes were also made to build.xml in order to copy
the temporary versions of some of the files. The
*alltests.xml are not used and are instead replaced
with a JavaScript file which contains information on all
tests, the files used and the specified implementation
attributes. This script is used to generate the list
of tests in each do-tests.html file and is used to
populate the JsUnit suite for the new-alltests.html file.
The different types (html, xml, svg) alltests files
are no longer required since selection of content type
is handled via the user.
The current versions of the alltests.js files were
constructed manually however would be best generated
as a result of an XSL transform.
Conclusion
I believe this approach fulfills the promise of a browser
agnostic test suite which all manufacturers have an equal
chance of supporting.
Thanks,
/bc
Didn't know you were such an expert on the Mac platform, Curt. Good
thing, now there's two of us.
I haven't had a chance to run the protoype yet, but there is one
outstanding issue:
The DOM WG decided that the DOM TS should be based on the official
version (at least some official version) of JsUnit. So it would be good
if the patches could be incorporated into the next version, so that it
can form part of the DOM TS.
If not possible, then we at least need to have a comprehensive list of
things that JsUnit as it stands now does not do.
Best,
/Dimitris
The DOM-Test-Suite tar ball was downloaded
and the DOM Level 2 HTML tests were run on both
Mozilla and IE6.
Different results were returned when running
the tests using the JsUnit downloaded
from http://www.jsunit.net and running the tests from
the index.html file in the tar ball.
Mozilla run from the index.html file reports 64 tests with problems
Mozilla run with jsunit from http://www.jsunit.net reports 25 tests with problems
IE6 run from the index.html file reports 65 tests with problems
IE6 run with jsunit from http://www.jsunit.net reports 48 tests with problems
Here are the results of the DOM Level 2 HTML tests
IE 6 Version 6.0.2600.0000
JSUnit 1.3.3 downloaded from http://www.jsunit.net
Tests with problems (48 total) - JsUnit
1.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLAppletElement11.html:HTMLAppletElement11
had an error
Error message is:
"Access is denied.
2. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLCollection07.html:HTMLCollection07
failed
"rowIndexLink"
Expected 2 (number) but was 3 (number)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLCollection07
3. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLCollection08.html:HTMLCollection08
failed
"rowIndexLink"
Expected 1 (number) but was 2 (number)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLCollection08
4. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLDocument04.html:HTMLDocument04 failed
"URLLink"
Expected document (string) but was C:\cygwin\home\Administrator\2001\DOM-Test-Suite\build\ecmascript\level2\html\files\document
(string)
Stack trace follows:
JsUnitException
_assert
assertEquals
assertURIEquals
HTMLDocument04
5. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLDocument12.html:HTMLDocument12 failed
"cookieLink"
Expected (string) but was CP=null* (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLDocument12
6. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLFrameElement09.html:HTMLFrameElement09
had an error
Error message is:
"'title' is null or not an object"
7.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLIFrameElement11.html:HTMLIFrameElement11
had an error
Error message is:
"'title' is null or not an object"
8. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLInputElement06.html:HTMLInputElement06
failed
"alignLink"
Expected bottom (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLInputElement06
9.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLIsIndexElement01.html:HTMLIsIndexElement01
failed
"Asize"
Expected 2 (number) but was 1 (number)
Stack trace follows:
JsUnitException
_assert
assertEquals
assertSize
HTMLIsIndexElement01
10.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLIsIndexElement02.html:HTMLIsIndexElement02
failed
"notnull"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
HTMLIsIndexElement02
11.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLObjectElement19.html:HTMLObjectElement19
had an error
Error message is:
"'title' is null or not an object"
12. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLPreElement01.html:HTMLPreElement01
failed
"widthLink"
Expected 277 (number) but was 277 (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLPreElement01
13.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLSelectElement08.html:HTMLSelectElement08
had an error
Error message is:
"'expected' is undefined"
14.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableCellElement11.html:HTMLTableCellEleme
nt11 failed
"chLink"
Expected : (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableCellElement11
15.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableCellElement12.html:HTMLTableCellEleme
nt12 failed
"chLink"
Expected : (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableCellElement12
16.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableCellElement13.html:HTMLTableCellEleme
nt13 failed
"chOffLink"
Expected 1 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableCellElement13
17.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableCellElement14.html:HTMLTableCellEleme
nt14 failed
"chOffLink"
Expected 1 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableCellElement14
18.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableColElement03.html:HTMLTableColElement
03 failed
"chLink"
Expected * (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableColElement03
19.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableColElement04.html:HTMLTableColElement
04 failed
"chLink"
Expected $ (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableColElement04
20.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableColElement05.html:HTMLTableColElement
05 failed
"chLink"
Expected 20 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableColElement05
21.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableColElement06.html:HTMLTableColElement
06 failed
"chLink"
Expected 15 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableColElement06
22. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement07.html:HTMLTableElement07
had an error
Error message is:
"'expected' is undefined"
23. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement08.html:HTMLTableElement08
had an error
Error message is:
"'expected' is undefined"
24. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement09.html:HTMLTableElement09
had an error
Error message is:
"'expected' is undefined"
25. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement34.html:HTMLTableElement34
failed
"HTMLTableElement34"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableElement34
26. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement35.html:HTMLTableElement35
failed
"HTMLTableElement35"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableElement35
27. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement36.html:HTMLTableElement36
failed
"HTMLTableElement36"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableElement36
28. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement37.html:HTMLTableElement37
failed
"HTMLTableElement37"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableElement37
29. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement38.html:HTMLTableElement38
failed
"HTMLTableElement38"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableElement38
30. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement39.html:HTMLTableElement39
failed
"rowsLink2"
Expected 3 (number) but was 2 (number)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableElement39
31.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement08.html:HTMLTableRowElement
08 failed
"chLink"
Expected * (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableRowElement08
32.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement09.html:HTMLTableRowElement
09 failed
"charOffLink"
Expected 1 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableRowElement09
33.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement15.html:HTMLTableRowElement
15 failed
"HTMLTableRowElement15"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableRowElement15
34.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement16.html:HTMLTableRowElement
16 failed
"HTMLTableRowElement16"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableRowElement16
35.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement17.html:HTMLTableRowElement
17 failed
"HTMLTableRowElement17"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableRowElement17
36.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement18.html:HTMLTableRowElement
18 failed
"HTMLTableRowElement18"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableRowElement18
37.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement19.html:HTMLTableRowElement
19 failed
"HTMLTableRowElement19"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableRowElement19
38.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement04.html:HTMLTableSectio
nElement04 failed
"chLink"
Expected * (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement04
39.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement05.html:HTMLTableSectio
nElement05 failed
"chLink"
Expected + (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement05
40.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement06.html:HTMLTableSectio
nElement06 failed
"chLink"
Expected $ (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement06
41.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement07.html:HTMLTableSectio
nElement07 failed
"chOffLink"
Expected 1 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement07
42.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement08.html:HTMLTableSectio
nElement08 failed
"chOffLink"
Expected 2 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement08
43.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement09.html:HTMLTableSectio
nElement09 failed
"chOffLink"
Expected 3 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement09
44.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement25.html:HTMLTableSectio
nElement25 failed
"HTMLTableSectionElement25"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableSectionElement25
45.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement26.html:HTMLTableSectio
nElement26 failed
"HTMLTableSectionElement26"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableSectionElement26
46.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement27.html:HTMLTableSectio
nElement27 failed
"HTMLTableSectionElement27"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableSectionElement27
47.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement28.html:HTMLTableSectio
nElement28 failed
"HTMLTableSectionElement28"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableSectionElement28
48.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement29.html:HTMLTableSectio
nElement29 failed
"HTMLTableSectionElement29"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableSectionElement29
IE 6 Version 6.0.2600.0000
Running tests by opening the index.html file in the build directory of the tar ball.
Tests with problems (65 total) - JsUnit
1. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLAnchorElement04.html:HTMLAnchorElement04 failed
"hrefLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLAnchorElement04
2. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLAppletElement11.html:HTMLAppletElement11 failed
"object"
Expected DOMTSApplet.dat (string) but was (object)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLAppletElement11
3. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLAreaElement04.html:HTMLAreaElement04 failed
"hrefLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLAreaElement04
4. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLBaseElement01.html:HTMLBaseElement01 failed
"hrefLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLBaseElement01
5. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLCollection07.html:HTMLCollection07 failed
"rowIndexLink"
Expected 2 (number) but was 3 (number)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLCollection07
6. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLCollection08.html:HTMLCollection08 failed
"rowIndexLink"
Expected 1 (number) but was 2 (number)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLCollection08
7. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument04.html:HTMLDocument04 had an error
Error message is:
"Object doesn't support this property or method"
8. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument12.html:HTMLDocument12 failed
"cookieLink"
Expected (string) but was CP=null* (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLDocument12
9. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLFormElement05.html:HTMLFormElement05 failed
"actionLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLFormElement05
10. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLFrameElement02.html:HTMLFrameElement02 failed
"longdescLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLFrameElement02
11. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLFrameElement08.html:HTMLFrameElement08 failed
"srcLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLFrameElement08
12. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLFrameElement09.html:HTMLFrameElement09 had an error
Error message is:
"'title' is null or not an object"
13. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLHeadElement01.html:HTMLHeadElement01 failed
"profileLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLHeadElement01
14. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLIFrameElement04.html:HTMLIFrameElement04 failed
"longdescLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLIFrameElement04
15. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLIFrameElement09.html:HTMLIFrameElement09 failed
"srcLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLIFrameElement09
16. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLIFrameElement11.html:HTMLIFrameElement11 had an error
Error message is:
"'title' is null or not an object"
17. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLImageElement08.html:HTMLImageElement08 failed
"longDescLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLImageElement08
18. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLImageElement09.html:HTMLImageElement09 failed
"srcLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLImageElement09
19. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLInputElement06.html:HTMLInputElement06 failed
"alignLink"
Expected bottom (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLInputElement06
20. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLInputElement14.html:HTMLInputElement14 failed
"srcLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLInputElement14
21. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLIsIndexElement01.html:HTMLIsIndexElement01 failed
"Asize"
Expected 2 (number) but was 1 (number)
Stack trace follows:
JsUnitException
_assert
assertEquals
assertSize
HTMLIsIndexElement01
22. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLIsIndexElement02.html:HTMLIsIndexElement02 failed
"notnull"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
HTMLIsIndexElement02
23. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLLinkElement03.html:HTMLLinkElement03 failed
"hrefLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLLinkElement03
24. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLModElement01.html:HTMLModElement01 failed
"citeLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLModElement01
25. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLModElement03.html:HTMLModElement03 failed
"citeLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLModElement03
26. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLObjectElement06.html:HTMLObjectElement06 failed
"codebaseLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLObjectElement06
27. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLObjectElement08.html:HTMLObjectElement08 failed
"dataLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLObjectElement08
28. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLObjectElement19.html:HTMLObjectElement19 had an error
Error message is:
"'title' is null or not an object"
29. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLParamElement02.html:HTMLParamElement02 failed
"valueLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLParamElement02
30. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLPreElement01.html:HTMLPreElement01 failed
"widthLink"
Expected 277 (number) but was 277 (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLPreElement01
31. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLQuoteElement01.html:HTMLQuoteElement01 failed
"citeLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLQuoteElement01
32. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLQuoteElement02.html:HTMLQuoteElement02 failed
"citeLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLQuoteElement02
33. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLScriptElement04.html:HTMLScriptElement04 failed
"srcLink"
Expected not to be null
Stack trace follows:
JsUnitException
_assert
assertNotNull
assertURIEquals
HTMLScriptElement04
34. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableCellElement11.html:HTMLTableCellElement11 failed
"chLink"
Expected : (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableCellElement11
35. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableCellElement12.html:HTMLTableCellElement12 failed
"chLink"
Expected : (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableCellElement12
36. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableCellElement13.html:HTMLTableCellElement13 failed
"chOffLink"
Expected 1 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableCellElement13
37. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableCellElement14.html:HTMLTableCellElement14 failed
"chOffLink"
Expected 1 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableCellElement14
38. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableColElement03.html:HTMLTableColElement03 failed
"chLink"
Expected * (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableColElement03
39. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableColElement04.html:HTMLTableColElement04 failed
"chLink"
Expected $ (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableColElement04
40. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableColElement05.html:HTMLTableColElement05 failed
"chLink"
Expected 20 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableColElement05
41. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableColElement06.html:HTMLTableColElement06 failed
"chLink"
Expected 15 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableColElement06
42. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement34.html:HTMLTableElement34 failed
"HTMLTableElement34"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableElement34
43. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement35.html:HTMLTableElement35 failed
"HTMLTableElement35"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableElement35
44. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement36.html:HTMLTableElement36 failed
"HTMLTableElement36"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableElement36
45. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement37.html:HTMLTableElement37 failed
"HTMLTableElement37"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableElement37
46. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement38.html:HTMLTableElement38 failed
"HTMLTableElement38"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableElement38
47. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement39.html:HTMLTableElement39 failed
"rowsLink2"
Expected 3 (number) but was 2 (number)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableElement39
48. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement08.html:HTMLTableRowElement08 failed
"chLink"
Expected * (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableRowElement08
49. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement09.html:HTMLTableRowElement09 failed
"charOffLink"
Expected 1 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableRowElement09
50. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement15.html:HTMLTableRowElement15 failed
"HTMLTableRowElement15"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableRowElement15
51. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement16.html:HTMLTableRowElement16 failed
"HTMLTableRowElement16"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableRowElement16
52. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement17.html:HTMLTableRowElement17 failed
"HTMLTableRowElement17"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableRowElement17
53. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement18.html:HTMLTableRowElement18 failed
"HTMLTableRowElement18"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableRowElement18
54. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement19.html:HTMLTableRowElement19 failed
"HTMLTableRowElement19"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableRowElement19
55. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement04.html:HTMLTableSectionElement04 failed
"chLink"
Expected * (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement04
56. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement05.html:HTMLTableSectionElement05 failed
"chLink"
Expected + (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement05
57. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement06.html:HTMLTableSectionElement06 failed
"chLink"
Expected $ (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement06
58. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement07.html:HTMLTableSectionElement07 failed
"chOffLink"
Expected 1 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement07
59. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement08.html:HTMLTableSectionElement08 failed
"chOffLink"
Expected 2 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement08
60. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement09.html:HTMLTableSectionElement09 failed
"chOffLink"
Expected 3 (string) but was (string)
Stack trace follows:
JsUnitException
_assert
assertEquals
HTMLTableSectionElement09
61. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement25.html:HTMLTableSectionElement25 failed
"HTMLTableSectionElement25"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableSectionElement25
62. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement26.html:HTMLTableSectionElement26 failed
"HTMLTableSectionElement26"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableSectionElement26
63. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement27.html:HTMLTableSectionElement27 failed
"HTMLTableSectionElement27"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableSectionElement27
64. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement28.html:HTMLTableSectionElement28 failed
"HTMLTableSectionElement28"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableSectionElement28
65. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement29.html:HTMLTableSectionElement29 failed
"HTMLTableSectionElement29"
Call to assertTrue(boolean) with false
Stack trace follows:
JsUnitException
_assert
assertTrue
HTMLTableSectionElement29
Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.0.2) Gecko/20021216
JSUnit 1.3.3 downloaded from http://www.jsunit.net
Tests with problems (25 total) - JsUnit
1.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLAppletElement07.html:HTMLAppletElement07
failed
"hspaceLink"
Expected 0 (number) but was 0 (string)
2.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLAppletElement09.html:HTMLAppletElement09
failed
"vspaceLink"
Expected 0 (number) but was 0 (string)
3.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLBaseFontElement03.html:HTMLBaseFontElement
03 failed
"sizeLink"
Expected 4 (number) but was 4 (string)
4. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLCollection07.html:HTMLCollection07
failed
"rowIndexLink"
Expected 2 (number) but was 3 (number)
5. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLCollection08.html:HTMLCollection08
failed
"rowIndexLink"
Expected 1 (number) but was 2 (number)
6. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLDocument08.html:HTMLDocument08 failed
"lengthLink"
Expected 4 (number) but was 2 (number)
7. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLImageElement04.html:HTMLImageElement04
failed
"borderLink"
Expected 0 (string) but was 0 (number)
8. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLInputElement13.html:HTMLInputElement13
failed
"size"
Expected 25 (number) but was 25 (string)
9.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLIsIndexElement01.html:HTMLIsIndexElement01
failed
"formNotNull"
Expected not to be null
10.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLObjectElement11.html:HTMLObjectElement11
failed
"hspaceLink"
Expected 0 (number) but was 0 (string)
11.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLObjectElement16.html:HTMLObjectElement16
failed
"vspaceLink"
Expected 0 (number) but was 0 (string)
12.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLSelectElement08.html:HTMLSelectElement08
had an error
Error message is:
"ReferenceError: expected is not defined"
13. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement07.html:HTMLTableElement07
had an error
Error message is:
"ReferenceError: expected is not defined"
14. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement08.html:HTMLTableElement08
had an error
Error message is:
"ReferenceError: expected is not defined"
15. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement09.html:HTMLTableElement09
had an error
Error message is:
"ReferenceError: expected is not defined"
16. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement39.html:HTMLTableElement39
had an error
Error message is:
"[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001
(NS_ERROR_DOM_INDEX_SIZE_ERR)" location:
"file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement39.html Line: 73"]"
17. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement40.html:HTMLTableElement40
had an error
Error message is:
"[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001
(NS_ERROR_DOM_INDEX_SIZE_ERR)" location:
"file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement40.html Line: 62"]"
18.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement20.html:HTMLTableRowElement
20 had an error
Error message is:
"[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001
(NS_ERROR_DOM_INDEX_SIZE_ERR)" location:
"file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement20.html Line: 78"]"
19.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement21.html:HTMLTableRowElement
21 had an error
Error message is:
"[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001
(NS_ERROR_DOM_INDEX_SIZE_ERR)" location:
"file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableRowElement21.html Line: 76"]"
20.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement25.html:HTMLTableSectio
nElement25 failed
"HTMLTableSectionElement25"
Call to assertTrue(boolean) with false
21.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement26.html:HTMLTableSectio
nElement26 failed
"HTMLTableSectionElement26"
Call to assertTrue(boolean) with false
22.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement27.html:HTMLTableSectio
nElement27 failed
"HTMLTableSectionElement27"
Call to assertTrue(boolean) with false
23.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement28.html:HTMLTableSectio
nElement28 failed
"HTMLTableSectionElement28"
Call to assertTrue(boolean) with false
24.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement29.html:HTMLTableSectio
nElement29 failed
"HTMLTableSectionElement29"
Call to assertTrue(boolean) with false
25.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement31.html:HTMLTableSectio
nElement31 failed
"rowsLink2"
Expected 1 (number) but was 2 (number)
Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.0.2) Gecko/20021216
Running tests by opening the index.html file in the build directory of the tar ball.
Tests with problems (64 total) - JsUnit
1. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLAnchorElement04.html:HTMLAnchorElement04 failed
"hrefLink"
Expected not to be null
2. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLAppletElement07.html:HTMLAppletElement07 failed
"hspaceLink"
Expected 0 (number) but was 0 (string)
3. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLAppletElement09.html:HTMLAppletElement09 failed
"vspaceLink"
Expected 0 (number) but was 0 (string)
4. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLAreaElement04.html:HTMLAreaElement04 failed
"hrefLink"
Expected not to be null
5. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLBaseElement01.html:HTMLBaseElement01 failed
"hrefLink"
Expected not to be null
6. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLBaseFontElement03.html:HTMLBaseFontElement03 failed
"sizeLink"
Expected 4 (number) but was 4 (string)
7. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLCollection02.html:HTMLCollection02 failed
"nameIndexLink"
Expected SELECT (string) but was select (string)
8. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLCollection07.html:HTMLCollection07 failed
"rowIndexLink"
Expected 2 (number) but was 3 (number)
9. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLCollection08.html:HTMLCollection08 failed
"rowIndexLink"
Expected 1 (number) but was 2 (number)
10. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLCollection10.html:HTMLCollection10 failed
"nameIndexLink"
Expected SELECT (string) but was select (string)
11. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument02.html:HTMLDocument02 failed
"referrerLink"
Expected (string) but was undefined (undefined)
12. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument03.html:HTMLDocument03 failed
"domainLink"
Expected (string) but was undefined (undefined)
13. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument04.html:HTMLDocument04 had an error
Error message is:
"TypeError: actual.lastIndexOf is not a function"
14. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument05.html:HTMLDocument05 had an error
Error message is:
"TypeError: vbody has no properties"
15. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument07.html:HTMLDocument07 had an error
Error message is:
"TypeError: vimages has no properties"
16. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument08.html:HTMLDocument08 had an error
Error message is:
"TypeError: vapplets has no properties"
17. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument09.html:HTMLDocument09 had an error
Error message is:
"TypeError: vlinks has no properties"
18. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument10.html:HTMLDocument10 had an error
Error message is:
"TypeError: vforms has no properties"
19. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument11.html:HTMLDocument11 had an error
Error message is:
"TypeError: vanchors has no properties"
20. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument12.html:HTMLDocument12 failed
"cookieLink"
Expected (string) but was undefined (undefined)
21. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument13.html:HTMLDocument13 had an error
Error message is:
"TypeError: doc.getElementsByName is not a function"
22. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLDocument14.html:HTMLDocument14 had an error
Error message is:
"TypeError: doc.getElementsByName is not a function"
23. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLElement01.html:HTMLElement01 failed
"idLink"
Expected Test-HEAD (string) but was (string)
24. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLElement117.html:HTMLElement117 failed
"classNameLink"
Expected HEAD-class (string) but was (string)
25. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLElement30.html:HTMLElement30 failed
"titleLink"
Expected HEAD Element (string) but was (string)
26. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLElement59.html:HTMLElement59 failed
"langLink"
Expected en (string) but was (string)
27. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLElement88.html:HTMLElement88 failed
"dirLink"
Expected ltr (string) but was (string)
28. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLFormElement05.html:HTMLFormElement05 failed
"actionLink"
Expected not to be null
29. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLFrameElement02.html:HTMLFrameElement02 failed
"longdescLink"
Expected not to be null
30. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLFrameElement08.html:HTMLFrameElement08 failed
"srcLink"
Expected not to be null
31. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLHeadElement01.html:HTMLHeadElement01 failed
"profileLink"
Expected not to be null
32. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLHeadingElement04.html:HTMLHeadingElement04 failed
"alignLink"
Expected justify (string) but was right (string)
33. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLHtmlElement01.html:HTMLHtmlElement01 failed
"versionLink"
Expected -//W3C//DTD HTML 4.01 Transitional//EN (string) but was (string)
34. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLIFrameElement04.html:HTMLIFrameElement04 failed
"longdescLink"
Expected not to be null
35. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLIFrameElement09.html:HTMLIFrameElement09 failed
"srcLink"
Expected not to be null
36. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLImageElement04.html:HTMLImageElement04 failed
"borderLink"
Expected 0 (string) but was 0 (number)
37. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLImageElement08.html:HTMLImageElement08 failed
"longDescLink"
Expected not to be null
38. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLImageElement09.html:HTMLImageElement09 failed
"srcLink"
Expected not to be null
39. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLInputElement13.html:HTMLInputElement13 failed
"size"
Expected 25 (number) but was 25 (string)
40. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLInputElement14.html:HTMLInputElement14 failed
"srcLink"
Expected not to be null
41. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLIsIndexElement01.html:HTMLIsIndexElement01 failed
"formNotNull"
Expected not to be null
42. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLLinkElement03.html:HTMLLinkElement03 failed
"hrefLink"
Expected not to be null
43. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLModElement01.html:HTMLModElement01 failed
"citeLink"
Expected not to be null
44. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLModElement03.html:HTMLModElement03 failed
"citeLink"
Expected not to be null
45. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLObjectElement06.html:HTMLObjectElement06 failed
"codebaseLink"
Expected not to be null
46. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLObjectElement08.html:HTMLObjectElement08 failed
"dataLink"
Expected not to be null
47. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLObjectElement11.html:HTMLObjectElement11 failed
"hspaceLink"
Expected 0 (number) but was 0 (string)
48. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLObjectElement16.html:HTMLObjectElement16 failed
"vspaceLink"
Expected 0 (number) but was 0 (string)
49. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLParamElement02.html:HTMLParamElement02 failed
"valueLink"
Expected not to be null
50. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLPreElement01.html:HTMLPreElement01 failed
"widthLink"
Expected 277 (number) but was -1 (number)
51. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLQuoteElement01.html:HTMLQuoteElement01 failed
"citeLink"
Expected not to be null
52. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLQuoteElement02.html:HTMLQuoteElement02 failed
"citeLink"
Expected not to be null
53. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLScriptElement04.html:HTMLScriptElement04 failed
"srcLink"
Expected not to be null
54. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement31.html:HTMLTableElement31 had an error
Error message is:
"TypeError: tbodiesnodeList has no properties"
55. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement39.html:HTMLTableElement39 had an error
Error message is:
"[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001
(NS_ERROR_DOM_INDEX_SIZE_ERR)" location: "file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement39.html Line: 85"]"
56. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement40.html:HTMLTableElement40 had an error
Error message is:
"[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001
(NS_ERROR_DOM_INDEX_SIZE_ERR)" location: "file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableElement40.html Line: 74"]"
57. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement20.html:HTMLTableRowElement20 had an error
Error message is:
"[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001
(NS_ERROR_DOM_INDEX_SIZE_ERR)" location: "file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement20.html Line: 90"]"
58. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement21.html:HTMLTableRowElement21 had an error
Error message is:
"[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001
(NS_ERROR_DOM_INDEX_SIZE_ERR)" location: "file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableRowElement21.html Line: 88"]"
59. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement25.html:HTMLTableSectionElement25 failed
"HTMLTableSectionElement25"
Call to assertTrue(boolean) with false
60. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement26.html:HTMLTableSectionElement26 failed
"HTMLTableSectionElement26"
Call to assertTrue(boolean) with false
61. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement27.html:HTMLTableSectionElement27 failed
"HTMLTableSectionElement27"
Call to assertTrue(boolean) with false
62. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement28.html:HTMLTableSectionElement28 failed
"HTMLTableSectionElement28"
Call to assertTrue(boolean) with false
63. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement29.html:HTMLTableSectionElement29 failed
"HTMLTableSectionElement29"
Call to assertTrue(boolean) with false
64. file:///C:/DOMTS-BC/build/ecmascript/level2/html/HTMLTableSectionElement31.html:HTMLTableSectionElement31 failed
"rowsLink2"
Expected 1 (number) but was 2 (number)
The current issue is a bug where SETUPPAGE_INTERVAL is misspelled in two
places in jsUnitTestManager.js. I have reported it to Edward.
Any other changes to JsUnit are not currently needed unless they are
required to work around issues in browsers which are not currently
supported.
/bc
Rick,
Here are the results I see using the patched version of JsUnit which
includes the fix for the bug where SETUPPAGE_INTERVAL is misspelled:
HTML 2
Mozilla 1.3b 2003022516 build on Win2k
Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030225
Internet Explorer 6.0.2800.1106 on Win2k with SP1; Q324929, Q810847, Q813951
Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)
Both have check cache each time set.
All tests uses default settings except for Content Type
Browser | Protocol | Mime Type | Runs | Errors | Failures
Mozilla | http | xml | 552 | 11 | 38
Mozilla | http | xhtml | 552 | 11 | 38
Mozilla | http | html | 552 | 2 | 28
Mozilla | file | xml | 552 | 11 | 38
Mozilla | file | xhtml | 552 | 11 | 38
Mozilla | file | html | 552 | 2 | 26
IE6 | http | xml | 552 | 5 | 544
IE6 | http | xhtml | **** can't run ****
IE6 | http | html | 552 | 4 | 63
IE6 | file | xml | 552 | 5 | 542
IE6 | file | xhtml | 552 | 5 | 542
IE6 | file | html | 552 | 4 | 60
Note the differences due to comparison of file based urls and http based
urls and the differences due to case sensitivity between xml, xhtml and
html in Mozilla.
Note that this is on the version of the tests I posted last evening
which includes a change to build.xml to place the xhtml dtds in the
files/ directory where they can be located by validating parsers.
See attached zip file for the error logs.
/bc
After downloading Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030210
the tests were rerun with JsUnit 1.3.3 TestRunner located at http://www.jsunit.net
Here's the results:
Runs: 552 Errors: 5 Failures: 5
Tests with problems (10 total) - JsUnit
1. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLCollection07.html:HTMLCollection07
failed
"rowIndexLink"
Expected 2 (number) but was 3 (number)
2. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLCollection08.html:HTMLCollection08
failed
"rowIndexLink"
Expected 1 (number) but was 2 (number)
3. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLDocument08.html:HTMLDocument08 failed
"lengthLink"
Expected 4 (number) but was 2 (number)
4. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLInputElement06.html:HTMLInputElement06
failed
"alignLink"
Expected bottom (string) but was baseline (string)
5.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLSelectElement08.html:HTMLSelectElement08
had an error
Error message is:
"ReferenceError: expected is not defined"
6. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement07.html:HTMLTableElement07
had an error
Error message is:
"ReferenceError: expected is not defined"
7. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement08.html:HTMLTableElement08
had an error
Error message is:
"ReferenceError: expected is not defined"
8. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement09.html:HTMLTableElement09
had an error
Error message is:
"ReferenceError: expected is not defined"
9. file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableElement39.html:HTMLTableElement39
failed
"rowsLink2"
Expected 3 (number) but was 2 (number)
10.
file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement31.html:HTMLTableSectio
nElement31 had an error
Error message is:
"[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001
(NS_ERROR_DOM_INDEX_SIZE_ERR)" location:
"file:///C:/cygwin/home/Administrator/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement31.html Line: 65"]"
Rick,
Are you running the version from CVS?
I combined and compared our two different results and have attached as
combined-results.txt.
I noticed that the signature of assertURIEquals in DOMTestCase.js is:
assertURIEquals(assertID,scheme,path,host,file,query,fragment,isAbsolute,actual)
and the call in my HTMLAnchorElement04.html is
assertURIEquals("hrefLink",null,null,null,"submit.gif",null,null,null,null,vhref);
which do not agree on the number of arguments and which explains a
number of the errors that I am seeing such as
HTMLAnchorElement04 failed "hrefLink" Expected not to be null
So, either my version of the transform to create the test is out of date
or I broke it during editing.
Can someone who understands the transforms better look to see why mine
has the extra parameter in the call to assertURIEquals?
Bob
rv:1.3b) Gecko/20030210
HTMLAnchorElement04 failed, [Bob] "hrefLink" Expected not to be null
HTMLAreaElement04 failed, [Bob] "hrefLink" Expected not to be null
HTMLBaseElement01 failed, [Bob] "hrefLink" Expected not to be null
HTMLCollection07 failed, [Bob] "rowIndexLink" Expected 2 (number) but was 3 (number)
HTMLCollection07 failed, [Rick] "rowIndexLink", Expected 2 (number) but was 3 (number)
HTMLCollection08 failed, [Bob] "rowIndexLink" Expected 1 (number) but was 2 (number)
HTMLCollection08 failed, [Rick] "rowIndexLink", Expected 1 (number) but was 2 (number)
HTMLDocument04 had an error, [Bob] Error message is: "TypeError: actual.lastIndexOf is not a function"
HTMLDocument08 failed, [Bob] "lengthLink" Expected 4 (number) but was 2 (number)
HTMLDocument08 failed, [Rick] "lengthLink", Expected 4 (number) but was 2 (number)
HTMLFormElement05 failed, [Bob] "actionLink" Expected not to be null
HTMLFrameElement02 failed, [Bob] "longdescLink" Expected not to be null
HTMLFrameElement08 failed, [Bob] "srcLink" Expected not to be null
HTMLHeadElement01 failed, [Bob] "profileLink" Expected not to be null
HTMLIFrameElement04 failed, [Bob] "longdescLink" Expected not to be null
HTMLIFrameElement09 failed, [Bob] "srcLink" Expected not to be null
HTMLImageElement08 failed, [Bob] "longDescLink" Expected not to be null
HTMLImageElement09 failed, [Bob] "srcLink" Expected not to be null
HTMLInputElement06 failed, [Bob] "alignLink" Expected bottom (string) but was baseline (string)
HTMLInputElement06 failed, [Rick] "alignLink", Expected bottom (string) but was baseline (string)
HTMLInputElement14 failed, [Bob] "srcLink" Expected not to be null
HTMLLinkElement03 failed, [Bob] "hrefLink" Expected not to be null
HTMLModElement01 failed, [Bob] "citeLink" Expected not to be null
HTMLModElement03 failed, [Bob] "citeLink" Expected not to be null
HTMLObjectElement06 failed, [Bob] "codebaseLink" Expected not to be null
HTMLObjectElement08 failed, [Bob] "dataLink" Expected not to be null
HTMLParamElement02 failed, [Bob] "valueLink" Expected not to be null
HTMLQuoteElement01 failed, [Bob] "citeLink" Expected not to be null
HTMLQuoteElement02 failed, [Bob] "citeLink" Expected not to be null
HTMLScriptElement04 failed, [Bob] "srcLink" Expected not to be null
HTMLSelectElement08 had an error, [Rick] Error message is: "ReferenceError: expected is not defined"
HTMLTableElement07 had an error, [Rick] Error message is: "ReferenceError: expected is not defined"
HTMLTableElement08 had an error, [Rick] Error message is: "ReferenceError: expected is not defined"
HTMLTableElement09 had an error, [Rick] Error message is: "ReferenceError: expected is not defined"
HTMLTableElement39 failed, [Bob] "rowsLink2" Expected 3 (number) but was 2 (number)
HTMLTableElement39 failed, [Rick] "rowsLink2" Expected 3 (number) but was 2 (number)
HTMLTableSectionElement31 had an error, [Bob] Error message is: "[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001 (NS_ERROR_DOM_INDEX_SIZE_ERR)" location: "file:///C:/w3-cvs/2001/DOM-Test-Suite/build/ecmascript/level2/html/HTMLTableSectionElement31.html Line: 77"]"
HTMLTableSectionElement31 had an error, [Rick] Error message is: "[Exception... "Index or size is negative or greater than the allowed amount" code: "1" nsresult: "0x80530001 (NS_ERROR_DOM_INDEX_SIZE_ERR)" location: "HTMLTableSectionElement31.html Line: 65"]"
as combined-results.txt.
assertURIEquals(assertID,scheme,path,host,file,query,fragment,isAbsolute,actual)
assertURIEquals("hrefLink",null,null,null,"submit.gif",null,null,null,null,vhref);
The DOMTestCase.js in CVS has ten parameters, one more (name) than in
your DOMTestCase.js, which is consistent with the transforms and
generated code. The "name" attribute on assertURI was added sometime
before the last modification of HTMLDocument04.xml on 30 June 2002.
I won't have any time to fully digest this till the weekend, but here
are a few quick comments/questions.
Is the essential innovation the use of the query string used to launch
JsUnit to configure the test framework? Are there any other novel aspects?
Would there be any issues using a select box instead of radio buttons to
select the suite or test to run?
The recently generated tests have had an iframe element in the test
html file for each document loaded by the test. As far as I can tell,
your "native" loading uses the one iframe in main-loader.html and would
not support tests that use multiple documents such as
elementwrongdocumenterr. Is there an issue with distinct iframe 's in
the test document?
You mentioned the hc_* variant tests. These were added after first
release of DOM L1 Core to provide some coverage of the Core for HTML
processors since the original NIST tests required XML documents. The
tests are a direct transliteration of the NIST types making tag and
attribute name substitutions to make the test documents valid (but
non-sensical) XHTML and HTML. XML processors show the same results with
these translated tests as with the original tests. However, there has
not been a thorough review by the team of test failures by XHTML or HTML
processors. There are at least 4 hc_* tests that attempt to create
elements that have not been changed to use HTML tag names which I'll try
to change in the next few days.
Ah, thanks. Sticky tag strikes again. :-) I have updated the version I
am using to match the 1.17 version in DOMTestCase.js and will post a new
version and report the results shortly.
The query string is one of the basic ingredients which supports
implementation choice, content type choice, implementation attribute
choice and test choice but there are others as well.
The use of a javascript file to generate the list of tests in the
selection page and in the new-alltests.html suite. This eliminates the
need for the *alltests.xml suite definitions and the
*alltests.xml- *alltests.html transformation but requires a different
transformation to create the javascript file. If this approach is
approved I would like to work with you to determine the best approach
for implementing it.
This javascript file and it's recorded tests, their files and
implementation attributes provides the ability to determine, test and
filter tests by content type and implementation attribute.
The use of warn to record when an implementation does not match the
implementation attribute requirements of a test or the implementation
attributes selected by the user. I think the trace facilities in JsUnit
can be put more to use in reporting more information regarding the tests
and their results.
The addition of .xhtml versions of the XHTML data files and the use of
application/xhtml+xml content type for http based test scenarios.
None what so ever. This is just a prototype to show the basic
functionality. I am open to whatever changes in the UI are desired. The
list of tests is generated via a javascript document.write loop over the
test data structures contained in the javascript file and is easily
modified.
In particular I think more work in implementation attribute definition,
selection and matching will be required. The approach I used in the
prototype was simply to illustrate it's potential.
The iframe in main-loader.html is not used to load the data files in
native mode. In native mode, the data files are loaded via iframes which
are generated during the loading of the test via document.write. There
is no limit to the number of loaded documents using this approach. Your
use of the the variable name for each document allowed me to name each
iframe separately from the actual file name and removed the limitation I
originally had last year of having unique file names.
The issue I have with the xslt automatically creating the iframes is
that only the native loader requires iframes and they are not needed for
MSXML[3|4] or Adobe SVG implementations. I believe this is better
handled during load via document.write.
It seemed to me that, in the current version in CVS the older "Builder"
code is still in the file, but it appeared to have been orphaned and
replaced by the IFRAME loader which was limited to loading HTML in the
iframes.
The issue I have with the hc_* tests is that they don't follow the
normal scheme and would make the determination of supported content
types for a file more complicated, but not impossible. They seemed to be
a "bit of a wart", and if possible I was hoping to not have to special
case the supported content type determination for files.
The alltests could be generated from a directory using Ant. However,
the original idea behind the test suite definitions was that tests would
go through a review cycle and there could be tests in the directory that
were submitted but not accepted. alltests was going to contain all
tests regardless of status and there would be other suites of accepted,
provisional and rejected tests, however that never evolved. The
downside of moving a test to signify rejection was that any test results
that used that URL would be broken.
I think I would prefer a more declarative approach, maybe an array
containing with elements like:
tests[tests.length] = {
"characterdatainsertdatanomodificationallowederr", // test name
null, // content type
{ "XML" }, { null }, // features name and versions
{ "expandEntityReferences" }, { false } }; // impl attributes
The function suite() method could iterate through the array and add only
the applicable tests to the suite.
The Java framework does not give any indication that non-applicable
tests are omitted. If you want to avoid the situation of a processor
passing, for example, the L3 Load Save suite because it passed 0 of 0
tests by return false to hasFeature("LS-Load", null), you can always
have one unguarded test that checks the feature. I think that listing
page after page of inappropriate tests could be distracting.
I'll also application/xhtml+xml to the contentType enumeration in the
schemas and DTDs.
I avoided dynamically created the IFRAME's since I thought it was one
less moving part and the cost of an unused IFRAME was negligable.
When I migrated the previous code to JSUnit 1.3.3, I retrogressed in
functionality and temporarily dropped support for the other loaders, but
I expected to reimplement additional loaders as we added back
functionality. I prefer the loader classes over extensive use of switch
statements to achieve the same thing.
For XML processors, they are essentially redundant with the non hc_ (for
HTML compatible) tests. However, without them there is minimal coverage
of L1 core behavior for HTML processors.
Ok. I understand that alltests.xml should stay. The output should
instead be the reusable javascript file containing the tests information
rather than the current *alltests.html suites.
Whether declarative or procedural it should be easy to read and to use.
If declarative is desired then an initializer such as:
tests[tests.length] = {
name: 'characterdatainsertdatanomodificationallowederr',
doc: 'staff',
implementationAttributes: { expandEntityReferences: 'false' },
validating: 'false'
is preferred due to it's readability and ease of use. I prefer a
constructor and either procedural initialization or initialization by
the constructor over an array based initializer list for several reasons:
1. it is more readable
2. it is more usable in the code, e.g.
objectName.propertyName == value
rather than
nameArray[indexValue] == valueArray[indexValue]
3. it provides a definitely initialized object with which to work.
I think that the test suite should allow the user to select the level of
information that they desire if it can be supported. I believe use of
warn or info or the other levels of trace in JsUnit can be appropriately
used without providing "page after page" of warnings.
The appropriate choice of what is or is not in the base/default set of
tests and which do not rely upon optional parser features can reduce the
warnings except in the case where the user wishes to investigate the use
of the additional features.
It also forced loads of unnecessary documents, caused 404's in web logs,
and was restricted to choosing the mime type at build time if I recall
correctly.
In the version I proposed in May 2002, I retained the use of builder
classes although for the most part they were skeletons compared to the
original implementation dependent classes which were in use at the time.
I didn't use build classes in this prototype since only a limited IFRAME
builder was used in the CVS version and it was used in such a way that
hard wired it's use into the tests.
Currently, the only relevant switches are the two
DOMTS_USER_IMPLEMENTATION switches controlled by the user. One of which
is used to initiate the creation of the objects which will load the test
documents and the other to control IE specific features only. This isn't
Object Oriented but is easily maintainable and extendible.
I have no objection to using builder classes however think we should
make certain that:
1. user choice guides the selection of features used, not the builder
2. using builders should not make it difficult to add new
implementations.
3. builders should only be used to make implementing the tests easier
but not to hide results due to implementation differences in the
browsers being tested.
Ok.
