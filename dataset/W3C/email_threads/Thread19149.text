Hi,
I'm interested in editing I18N documents in Amaya,
but it seems there are problems because of the incompleteness of
chunk of code in 'thotlib/editing/editcommands.c', which is disabled as
follows,
#ifdef IV /* not enough stable */
if (script != ' ' &amp;&amp; script != 'D' &amp;&amp;
pSelBox &amp;&amp; pSelBox- BxScript != EOS &amp;&amp;
pSelBox- BxScript != script)
How about the current status of that code?
I understand that Amaya developers are now working on the SVG support and
if that code is in low priority for core developers, I will start to hack that.
Is there somebody working on that at present?
I also want to know the status of 'SplitForScript' in
'thotlib/view/buildboxes.c'. I think this function is the essential part
of about chunk of code, but it seems to me that that function generates wrong
box chain and I guess that this function will be starting point for that hack.
Any suggestions or comments are welcome.
Thanks,
ymnk
On Tue, 17 Dec 2002 02:00:50 +0900
That development is stuck.
Nobody is working on that at present. You could try to do that and I'll help
if you need.
I don't think so:
There is 2 chains: BxNexChild that links boxes attached to an element and BxNext and
BxPrvious that link displayed boxes.
The box of the root element (pMainBox) is special:
pMainBox- BxPrevious points to the last displayed box
pMainBox- BxNext points to the first displayed box
The idea is to split the current box with the wrong script and insert a new box
with the right script. The problem is to update all current parameters.
Of course the function SplitForScript should be used.
Happy holiday season.
Irene.
Hi,
+-From: Irene Vatton irene.vatton@inrialpes.fr __
|_Date: Fri, 20 Dec 2002 14:34:33 +0100 ___________
|Nobody is working on that at present. You could try to do that and
|I'll help if you need.
Thanks, I will continue my efforts.
I have done some improvements on that code and I will ask you
if my modifications are correct or not after some more hacks.
|I don't think so: There is 2 chains: BxNexChild that links boxes
|attached to an element and BxNext and BxPrvious that link
|displayed boxes. The box of the root element (pMainBox) is
|special: BxPrevious points to the last displayed box BxNext points
|to the first displayed box
I'm sorry for my poor understanding. At a glance, I was confused with
the 10th argument(pMainBox) for that function; its BxNext and BxPrvious point
to same box. Ok, I understand that is from the specification.
|The idea is to split the current box with the wrong script and
|insert a new box with the right script. The problem is to update
|all current parameters. Of course the function SplitForScript
|should be used.
Yes, I think so. It seems parameters are not updated correctly.
In other problem, when Unicode character is inserted at the head of Latin text,
it seems a redundant box has been allocated.
PS. Should I stop to post this issue to www-amaya-dev and
write you(Irene Vatton) direcly?
All most members on this list may not interested in the I18N support.
Happy Holiday!
ymnk
[snip]
Please don't do that. If people do not want to see the discussion they can
delete the email without reading it. But if people want to see later how the
disucssion happened now, and why you decide one way or another, it is
impossible without the archives.
Cheers
Charles McCN
