I've just committed changes to build.xml, test-to-ecmascript.xsl and
test-to-jsunit.xsl which generate tests that are designed to be run with
JSUnit 1.3.3. The generated tests will not run with the JSUnit that was
previously distributed.
In its current state, the framework only supports loading HTML documents
from an embedded iframe element (or loading XML documents using
Mozilla if you change the "var builder = ..." line in DOMTestCase.js).
Test deactivation based on parser attributes or content type is not
supported, so only run html_alltests in the Core test suites if you are
using the iframe loader.
Internet Explorer 6.0 and Mozilla 1.3a appeared to work from the local
filesystem, but the results were not verified against the results from
the previous framework.
Any feedback is appreciated.
I get build failures
file:///C:/w3-cvs/2001/DOM-Test-Suite/transforms/test-to-jsunit.xsl;
Line 31; Column 48;
BUILD FAILED
C:\w3-cvs\2001\DOM-Test-Suite\build.xml:1236:
javax.xml.transform.TransformerConfigurationException: xsl:import is not
allowed in th
is position in the stylesheet!
Fixed. I only got a diagnostic message and missed it.
Thanks. All Builds complete now however I am getting a message in the
DOM 2 HTML tests that I was receiving from before the transition to
JsUnit 1.3.3
file:///C:/w3-cvs/2001/DOM-Test-Suite/transforms/test-to-ecmascript.xsl;
Line 865; Column 19; Unrecognized element foo
where foo is the name of the property being tested on each of the tests.
The constructed test files all appear to lack the initialization of the
variable containing the value being tested.
A nightly build of xalan can be downloaded from
I did not realize that the build errors were occurring only for the
dom2-html-gen-jsunit. The problem appears to be related
xmlspec-v22-dom.dtd that is expected in the lib/specs/pubtext
directory. My initial attempt to fix the problem did not work, but you
can work around it by running the "dom3-interfaces" target which will
properly set up that file. The specs aren't affected by clean, so
running dom3-interfaces once will hide the problem until you manually
clean the specs directory.
I missed committing a changed DOMTestSuite.js. It would not have
have caused the build to fail, but it would have made it unrunnable.
thanks for the heads up. however I was unable to get the DOM 2 HTML
tests to build using ant 1.5.1, etc without the error I mentioned
before. Can you make the version of xalan that you are using available
somewhere?
thanks,
bob
smime.p7s
