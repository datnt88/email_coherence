xmldsig makes a rather nice testing framwork for the transforms, but absent that
here are 3 results and there resulting `| md5sum` .
C14N ON e6 SUBSET
policy: xmlsec-python test_c14n.py -i eg3.xml -x '(//. | //@* | //namespace::*)[ancestor-or-self::e6]'
01a0569ae06ef9827afd55572b096b74
EXC-C14N ON e6 SUBSET
policy: xmlsec-python test_c14n.py -e -i eg3.xml -x '(//. | //@* | //namespace::*)[ancestor-or-self::e6]'
aaddbe1fdb6122ad46af56e038bd721b
EXC-C14N WITH INCLUSIVENAMESPACE PREFIXLIST="a" ON e6 SUBSET
policy: xmlsec-python test_c14n.py -e -p "a" -i eg3.xml -x '(//. | //@* | //namespace::*)[ancestor-or-self::e6]'
f86803163965ce052a40657493ff5e69
Joseph Reagle Jr. http://www.w3.org/People/Reagle/
W3C Policy Analyst mailto:reagle@w3.org
IETF/W3C XML-Signature Co-Chair http://www.w3.org/Signature/
W3C XML Encryption Chair http://www.w3.org/Encryption/2001/
I believe that your exc-c14n is missing xmlns="http://www.ietf.org" on
the e7 element.
My three c14n results are:
Attached is a signature that captures these three examples; compare
with md5sum output via:
echo message digest from reference | \
openssl base64 -d | hexdump -e '16/1 "%02x" "\n"'
... or something like that.
Merlin
r/reagle@w3.org/2002.01.31/11:41:47
Baltimore Technologies plc will not be liable for direct, special, indirect
or consequential damages arising from alteration of the contents of this
message by a third party or as a result of any virus being passed on.
This footnote confirms that this email message has been swept by
Baltimore MIMEsweeper for Content Security threats, including
computer viruses.
Ah, ok. When I was testing if a namespace was utilized my code was trying
to compare "" against None, but if I define them equiv for this purpose, my
results agree -- though `openssl base64 -d | hexdump -e '16/1 "%02x" "\n"`
didn't quite do the trick. smile/
Joseph Reagle Jr. http://www.w3.org/People/Reagle/
W3C Policy Analyst mailto:reagle@w3.org
IETF/W3C XML-Signature Co-Chair http://www.w3.org/Signature/
W3C XML Encryption Chair http://www.w3.org/Encryption/2001/
