
Section 4.2: Lock-null resources removed
Text mentions: "SHOULD default to reasonable, or reasonably blank, values
for other properties like getcontentlanguage"
I disagree: unknown properties should be treated as not being present (just
like the relevant HTTP headers), NOT as blank.
If a server creates a resource as a result of a LOCK request on an unmapped
URL, I believe Julian is suggesting that if there is any doubt about what
the property value should be, the property should not be created rather
than set to NULL.
Julian, did I get that right? Would you care to elaborate? What about a
few examples?
I think the standard WebDAV properties MUST reflect the values of the HTTP
entity headers one would get upon HEAD or GET. So it doesn't make any sense
to require that a value must be present, if it's purely optional in HTTP.
For instance, if a server doesn't have a content-language for a resource, it
MUST NOT report it upon GET (see [1]): "If no Content-Language is specified,
the default is that the content is intended for all language audiences. This
might mean that the sender does not consider it to be specific to any
natural language, or that the sender does not know for which language it is
intended.". So: if you don't have the language, don't report it. A blank
value is an illegal language tag.
[1] http://greenbytes.de/tech/webdav/rfc2616.html#rfc.section.14.12
Behalf Of Jason Crawford
URL

Section 4.2: Lock-null resources removed
Text mentions: "SHOULD default to reasonable, or reasonably blank, values
for other properties like getcontentlanguage"
I disagree: unknown properties should be treated as not being present
(just
like the relevant HTTP headers), NOT as blank.
If a server creates a resource as a result of a LOCK request on an
unmapped URL, I believe Julian is suggesting that if there is any doubt
about what the property value should be, the property should not be created
rather than set to NULL.
Julian, did I get that right? Would you care to elaborate? What about a
few examples?
What are other people's views on this? Should live properties for which
the server doesn't have an easy value be left blank or should the
property not exist?
My reasoning was that live properties like "getcontentlanguage" should
be required, thus should exist on every WebDAV resource, even if the
value must be blank. Otherwise a server can completely omit these
properties and still claim compliance.
(Side note: If required live properties like "getcontentlanguage" can be
missing on a WebDAV resource, then we need to clarify under what
conditions they may be missing. I'm thinking along these lines: "If the
latest client PUT request contains a Content-Language header, the value
of this header MUST be preserved in the getcontentlanguage property
value. If the Content-Language header is never provided, then the server
MAY omit this property, or it MAY calculate a value or choose a
reasonable default value.")
Lisa
unmapped URL
I think the standard WebDAV properties MUST reflect the values of the
HTTP entity headers one would get upon HEAD or GET. So it doesn't make
any sense to require that a value must be present, if it's purely
optional in HTTP.
For instance, if a server doesn't have a content-language for a
resource, it MUST NOT report it upon GET (see [1]): "If no
Content-Language is specified, the default is that the content is
intended for all language audiences. This might mean that the sender
does not consider it to be specific to any natural language, or that the
sender does not know for which language it is intended.". So: if you
don't have the language, don't report it. A blank value is an illegal
language tag.
[1] http://greenbytes.de/tech/webdav/rfc2616.html#rfc.section.14.12
-----Original Message-----
[mailto:w3c-dist-auth-request@w3.org]On Behalf Of Jason Crawford
unmapped URL

Section 4.2: Lock-null resources removed
Text mentions: "SHOULD default to reasonable, or reasonably
blank, values
for other properties like getcontentlanguage"
I disagree: unknown properties should be treated as not being
present (just
like the relevant HTTP headers), NOT as blank.
If a server creates a resource as a result of a LOCK request on
an unmapped URL, I believe Julian is suggesting that if there is any
doubt about what the property value should be, the property should not
be created rather than set to NULL.
Julian, did I get that right? Would you care to elaborate? What
about a few examples?
Lisa,
I think we should just re-state that the DAV: get* properties reflect the
values of the HTTP entity headers. They may be present or not. If they are
present, they MUST conform to the definitions in RFC2616, in particular,
they MUST NOT be blank.
It doesn't make sense to require PROPFIND to return something different from
GET/HEAD. If the server doesn't know the content language, that's it. Nobody
is served by somebody trying to come up with a "default".
Guess what: the Microsoft Webfolder client PUTs all files with a content
language header of "en_US" - even on a german Windows installation. That's a
bug, not a feature.
Julian
URL
What are other people's views on this? Should live properties for which
the server doesn't have an easy value be left blank or should the property
not exist?
My reasoning was that live properties like "getcontentlanguage" should be
required, thus should exist on every WebDAV resource, even if the value must
be blank. Otherwise a server can completely omit these properties and still
claim compliance.
(Side note: If required live properties like "getcontentlanguage" can be
missing on a WebDAV resource, then we need to clarify under what conditions
they may be missing. I'm thinking along these lines: "If the latest client
PUT request contains a Content-Language header, the value of this header
MUST be preserved in the getcontentlanguage property value. If the
Content-Language header is never provided, then the server MAY omit this
property, or it MAY calculate a value or choose a reasonable default
value.")
Lisa
-----Original Message-----
URL
I think the standard WebDAV properties MUST reflect the values of the HTTP
entity headers one would get upon HEAD or GET. So it doesn't make any sense
to require that a value must be present, if it's purely optional in HTTP.
For instance, if a server doesn't have a content-language for a resource,
it MUST NOT report it upon GET (see [1]): "If no Content-Language is
specified, the default is that the content is intended for all language
audiences. This might mean that the sender does not consider it to be
specific to any natural language, or that the sender does not know for which
language it is intended.". So: if you don't have the language, don't report
it. A blank value is an illegal language tag.
[1] http://greenbytes.de/tech/webdav/rfc2616.html#rfc.section.14.12
-----Original Message-----
[mailto:w3c-dist-auth-request@w3.org]On Behalf Of Jason Crawford
unmapped URL

Section 4.2: Lock-null resources removed
Text mentions: "SHOULD default to reasonable, or reasonably blank,
values
for other properties like getcontentlanguage"
I disagree: unknown properties should be treated as not being present
(just
like the relevant HTTP headers), NOT as blank.
If a server creates a resource as a result of a LOCK request on an
unmapped URL, I believe Julian is suggesting that if there is any doubt
about what the property value should be, the property should not be created
rather than set to NULL.
Julian, did I get that right? Would you care to elaborate? What about a
few examples?
Although I don't have a strong opinion on this, a quick first impression is
that for getXXXXX properties, if the GET request will not list the header,
it probably should be missing. And if the GET response will list it, the
property should be there. And if the GET response lists the value as
blank, then that's the value that the corresponding property should list.
With that in mind, I'd suggest the wording that Julian originally
questioned also list the possibility of the property not existing.
J.
Jason,
I agree. Note that one of the entity headers to be present but empty is not
very likely (because that would be a RFC2616-conformance bug).
Behalf Of Jason Crawford
URL
Although I don't have a strong opinion on this, a quick first impression
is that for getXXXXX properties, if the GET request will not list the
header, it probably should be missing. And if the GET response will list it,
the property should be there. And if the GET response lists the value as
blank, then that's the value that the corresponding property should list.
With that in mind, I'd suggest the wording that Julian originally
questioned also list the possibility of the property not existing.
J.
