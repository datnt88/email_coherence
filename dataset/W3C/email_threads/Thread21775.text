(copying www-archive for future reference)
fixed it!
Python version mismatch. I was running python 2.1. The debian installer didn't care,
as there was no dependency that the machines could see, and I didn't notice the '2.2'
in your HTML page. All good now.
So I'm now finding a mismatch between your 00README and
readme suggests: xsv -r rel po.xml po.xsd
but if i do that, it takes 'rel' as a commandline flag. status.html says:
-r [alt|ind]
Reflect the PSVI as an XML file to stdout (follow with alt to force old-style (alternating normal form) reflection, or ind (the default) for new-style (individual normal form) reflection
...and indeed those seem to work.
Which form do I need to generate markup that the XSLTs expect?
Proceeding with 'ind' until I hear otherwise, I'm at the XSLT stage. Not having
Saxon installed, I'm trying xsltproc (should be OK?), and run into a missing
file:
xsltproc infoset-r.xsl po-psvi.xml
warning: failed to load external entity "map-defaults.xml"
This is referenced here:
Am I missing some files? Or just this one?
If you can handhold a little more, I'll update the documentation accordingly.
cheers,
Dan
My bad -- 'alt' is semantically incorrect, I've fixed my local version
to the semantically correct 'rel', but not rebuilt/re-released -- you
should use 'rel'
rel
Oops.
Henry S. Thompson, HCRC Language Technology Group, University of Edinburgh
W3C Fellow 1999--2002, part-time member of W3C Team
2 Buccleuch Place, Edinburgh EH8 9LW, SCOTLAND -- (44) 131 650-4440
URL: http://www.ltg.ed.ac.uk/~ht/
[mail really from me _always_ has this .sig -- mail without it is forged spam]
Thanks, I'm re-doing with alt.
btw is this normal stderr?:
xsv -r alt po.xml po.xsd | cat infoset-r.dtd -  po-psvi.xml
xsv xmlns='http://www.w3.org/2000/05/xsv' docElt="{None}purchaseOrder"
instanceAssessed="true" instanceErrors="0"
rootType="{None}:PurchaseOrderType" schemaDocs="po.xsd" schemaErrors="0"
target="/home/danbri/servers/cvs/w3.org/WWW/2001/sw/Europe/200301/x2r/ht/a1/po.xml"
validation="strict" version="XSV 2.2-2 of 2002/12/03 10:45:21"
schemaDocAttempt
URI="/home/danbri/servers/cvs/w3.org/WWW/2001/sw/Europe/200301/x2r/ht/a1/po.xsd"
outcome="success" source="command line"/
schemaDocAttempt URI="http://www.cogsci.ed.ac.uk/~kari/schema-mapping"
namespace="http://www.cogsci.ed.ac.uk/~kari/schema-mapping"
outcome="failure" source="new namespace"
as W3C XML Schema or RDDL: foo /notASchema
...the second schemaDocAttempt is puzzling.
Moving on anyways... it appears the XSV output isn't valid xml (according to xsltproc):
xsltproc infoset-r.xsl po-psvi.xml  po-mapped.xml
po-psvi.xml:10196: validity error: ID xsd..type.NMTOKEN already defined
po-psvi.xml:12411: validity error: ID xsd..type.language already defined
If I fix that by hand (by renaming the 2nd two recurrences), I can get po-mapped.xml
From there, two more hiccups. The first may be a matter of dispute with xsltproc, the 2nd
seems to be a missing file:
xsltproc logicOut.xsl po-mapped.xml  po-fopl.xml
po-mapped.xml:2: error: Empty namespace name for prefix ns2
urs="" map:maxOccurs="" map:type-to="individual" map:type-name="{}PurchaseOrder
warning: failed to load external entity "standardBuiltins.xml"
This is referenced in logicOut.xsl:
Anyhow we get some output, fopl and java files.
Trying the fopl htmlizer, however, I only get message in the html complaining
required parameter missing: group [yes|no]; presumably something which went wrong earlier
has screwed things up?
On the brightside, po-fopl.xml is very nice. I can see how this maps to RDF quite easily.
The only change I'd seek, at first glance, is for the relation name to be
URI-based.
Where you have:
we need something like
Presuambly the mapping vocab could carry such info?
Dan
ps. copying Max as I'm going to be asking him for XSLT help with this soon!
Dan
The second schema doc attempt is OK, spurious.
ht
Henry S. Thompson, HCRC Language Technology Group, University of Edinburgh
W3C Fellow 1999--2002, part-time member of W3C Team
2 Buccleuch Place, Edinburgh EH8 9LW, SCOTLAND -- (44) 131 650-4440
URL: http://www.ltg.ed.ac.uk/~ht/
[mail really from me _always_ has this .sig -- mail without it is forged spam]
Sorry, didn't read past the first page at first.
Oops -- saxon doesn't check that, so I wasn't aware of the bug -- will
have a look.
attached.
Oops, bug in 00README, should include group=yes on command line (I
don't know how xsltproc takes command line param settings).
Or, better I think, just change logicOut.xsl to output what you want,
since it's systematic.
ht
Henry S. Thompson, HCRC Language Technology Group, University of Edinburgh
W3C Fellow 1999--2002, part-time member of W3C Team
2 Buccleuch Place, Edinburgh EH8 9LW, SCOTLAND -- (44) 131 650-4440
URL: http://www.ltg.ed.ac.uk/~ht/
[mail really from me _always_ has this .sig -- mail without it is forged spam]
thanks.
I've made a first hack pass at an RDF output mode, see
(this outputs ntriples rather than RDF/XML, which is beyond my XSLT knowhow).
Main issue is that http://www.w3.org/2001/sw/Europe/200301/x2r/ht/a1/rdfOut.xsl
currently hardcodes the URI that I use to give each property name a full
Web identifier / namespace. I've not disabled the indenting yet either, but it
does at least now spit out something that could be loaded into RDF systems.
Another simplifying assumption it makes is that we never know the URI for the
entities in the graph, only their properties. So we don't have to map to
both URI-labelled nodes and 'blank nodes' (with generated IDs); just the latter
each time.
For now I also throw away the datatyping information. This would probably make
for a good framework for testing RDF's datatyping model during Last Call, btw...
cheers,
Dan
* Henry S. Thompson ht@cogsci.ed.ac.uk [2003-01-18 23:21+0000]
Lost in transit! Could you try re-sending? I didn't see any attachments...
xsltproc --stringparam group no fopl.html.xsl po-fopl.xml  po.fopl.html
...works beautifully :)
I did that for now, for the ntriple generator I just sent (rdfOut.xsl).
However it does seem like knowing a URI for each edge-type / property in the
graph is something that will be common across many of the output formats. Is the
required information already in po-mapped.xml?
Dan
Henry S. Thompson, HCRC Language Technology Group, University of Edinburgh
W3C Fellow 1999--2002, part-time member of W3C Team
2 Buccleuch Place, Edinburgh EH8 9LW, SCOTLAND -- (44) 131 650-4440
URL: http://www.ltg.ed.ac.uk/~ht/
[mail really from me _always_ has this .sig -- mail without it is forged spam]
