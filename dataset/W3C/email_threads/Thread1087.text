Dang. I didn't know that! Thanks for letting me know. Glad you were able
to get it working.
I updated the FAQ for --doctype to note that "omit" implies
--numeric-entities yes.
take it easy,
Charlie
I gave you the config file extracted from html-kit with no change. That's
why some options were not found.
I tried to run tidy with no config file, and &amp;eacute; worked.
I tried to locate the option that make it wrong, and found it ! : there
was "doctype: omit" !!!
Thanks for your help
There never was a "raw" config file option. You want --char-encoding raw.
Also, add-xml-pi was deprecated in favor of --add-xml-decl, which does the
same thing: adds an XML declaration.
Btw, if you use raw character encoding, you shouldn't get any character
entities at all. You really just want the default: ASCII
If you are still having problems, please send the input and config files as
attachments. For whatever reason, the HTML content gets stripped somewhere
along the line.
take it easy,
Charlie
Riccardo Cohen
Articque
Les Roches
37230 Fondettes
France
email = rcohen@dial.oleane.com
web = http://www.articque.com
Hi Riccardo,
In HTML, the DOCTYPE is actually required; see
"A valid HTML document declares what version of HTML is used in the
document. The document type declaration names the document type definition
(DTD) in use for the document (see [ISO8879])."
The DTD (whether strict, transitional, or frameset) contains a reference to
"HTMLlat1.ent", which contains the ISO Latin 1 character entities, so
without the DOCTYPE, you can't always expect an HTML parser to know about
entities.
This may not be an explanation of the behaviour of Tidy, but it's relevant
to parsing generally.
Regards,
Christophe
I believe it is. In all versions of HTML, the basic set of Latin 1 named
entities are supported. A missing DOCTYPE shouldn't preclude their
use. Starting with HTML 4, a large number of additional named entities are
supported. These should probably be allowed only for markup identified as
(and perhaps verified to actually be) HTML 4 or later.
The code to determine the version level of a particular entity is not
included in Tidy Classic, so I think the code is defaulting to known safe
behavior in all browsers. I added entity version info to TidyLib. So,
technically, this would be an enhancement request.
take it easy,
Charlie
I gave you the config file extracted from html-kit
with no change. That's why some options were not found.
I tried to run tidy with no config file, and &amp;eacute;
worked.
I tried to locate the option that make it wrong, and
found it ! : there was "doctype: omit" !!!
by the way, is this a bug in tidy, or is it normal that without doctype, &amp;eacute; cant
be generated ? (from my point of view this behavior is not normal, but I dont know very well standards)
Thanks
I gave you the config file extracted from html-kit with no change. That's
why some options were not found.
I tried to run tidy with no config file, and &amp;eacute; worked.
I tried to locate the option that make it wrong, and found it ! : there
was "doctype: omit" !!!
Thanks for your help
Riccardo Cohen
Articque
Les Roches
37230 Fondettes
France
email = rcohen@dial.oleane.com
web = http://www.articque.com
Riccardo Cohen
Articque
Les Roches
37230 Fondettes
France
email = rcohen@dial.oleane.com
web = http://www.articque.com
Entities are declared in the document type definition. If you do not
reference the DTD ("no doctype"), the entities are not declared and
thus SGML tools (and for XHTML, XML tools) will reject the document
due to references to undeclared entities. Tidy does not output named
character references (entity references) to avoid this situation, so,
yes, this is "normal".
