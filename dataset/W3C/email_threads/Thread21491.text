Some points on the debate on XHTML as text/html:
1) Aaron, I don't understand how namespaces enter into this. Appendix C of
XHTML 1.0 defines the subset of XHTML that's "compatible" with HTML 4.01,
and the use of other XML namespaces is not valid in XHTML 1.0 documents.
In addition, URL:http://www.w3.org/TR/xhtml-media-types/ tells us that
"'text/html' is NOT suitable for XHTML Family document types that adds
[sic] elements and attributes from foreign namespaces". So the supposed
benefits of namespaces are not accessible in text/html XHTML.
2) Hixie, I'm not sure why you assert that "one of the primary goals of
XML's development" was to ensure that documents are valid. One of the
important things WebSGML/XML achieved, it seems to me, is decoupling
well-formedness from validity, so that one doesn't need to build a
full-blown content model in order to parse an XML document.
3) Validation. As someone who would actually rather like to see Mozilla
validate XML documents in-browse (even if text/html is conceded as lost),
I feel bound to point out here that there's more than just the whims of UA
programmers involved here. Parsing a DTD (which may need to be loaded over
the network, if it isn't already cached locally) and building a content
model is a non-trivial exercise in terms of memory and performance. (And
iCab does *not* have a validator. It has a linter. The difference is
significant.)
My personal perspective on the issue is that since namespaces are verboten
in text/html, there is, as Hixie says, really nothing in XHTML-as-
text/html that you can't get from HTML 4.01. And XHTML adds the additional
burden of a number of compatibility guidelines, compliance with which I
can't determine through validation. In general, it seems like an exercise
in futility and buzzword-compliance. (What was that about chasing after
bleeding edge technologies that don't solve real world problems?)
Chris Hoess
I covered this in my last email. Appendix C informative and it doesn't
say that.
Aaron Swartz [http://www.aaronsw.com]
"Aaron Swartz" me@aaronsw.com
Appendix C may be informative, but 5.1 is normative, and it clearly says
that only content which follow Appendix C can be labeled as text/html,
it's informative simply because you SHOULD be using the correct mime-type
of application/xhtml+xml, so any compatibility requirements with html are
really irrelevant.
Jim.
Excuse me. "Appendix C" there is an error for "Section 3.1.2", which does
say that. In addition, RFC 2854, which is normative, says that XHTML 1.0
defines a "profile of use...which may also be labelled as text/html",
which suggests (at least to me) that RFC 2854 makes it mandatory that
XHTML-as-text/html follow the guidelines of Appendix C. The XHTML Media
Types note makes it pretty clear that namespaces are verboten in
text/html, but that document is, of course, informative.
Chris Hoess
My bad. s/valid/well-formed/.
Hear hear!
Ian Hickson )\._.,--....,'``. fL
"meow" /, _.. \ _\ ;`._ ,.
It says they're not "strictly conforming".
Appendix C doesn't prohibit additional namespaces nor say documents
must be strictly conforming.
Aaron Swartz [http://www.aaronsw.com]
Quoth Section 3.1 "This version of XHTML 1.0 provides a definition of
strictly conforming XHTML 1.0 documents." Elements defined *by* XHTML 1.0
may be used in documents with mixed namespaces, as described in Section
3.1.2, but these are not XHTML 1.0 documents. They are *XHTML Family*
documents, with their own DTDs. (Furthermore, XHTML 1.0 + namespaced
content will not, AFAIK, be valid XHTML 1.0). Since the only form of XHTML
permitted by RFC 2854 to be served as text/html is the Appendix C-defined
subset of XHTML 1.0, and since documents conforming to one of the XHTML
1.0 DTDs cannot include namespaces, it follows that content including
namespaces cannot be served as text/html.
True. I simply intended to make the point that while Appendix C is
declared to be informative, RFC 2854 makes it clear that the "profile" of
XHTML 1.0 defined by Appendix C is considered by it to be the authority as
to what subset of XHTML may be served as text/html.
Chris Hoess
You're missing a step. You need to show where Appendix C requires the
document strictly conform to the XHTML 1.0 DTDs.
Aaron Swartz [http://www.aaronsw.com]
I explain this in:
text/html is only for _valid_ XHTML 1.0, namespaces make XHTML 1.0
documents invalid. Ergo text/html can't be used for XHTML 1.0.
The HTML WG often write rather vague specifications, the spirit of the
specs, however, is clear, and the supporting material (see my
aforementioned message) makes it even clearer.
In any case, the lack of any Web browsers that support namespaces in
text/html makes the entire argument reasonably moot. In the real world,
you can't do it.
Ian Hickson )\._.,--....,'``. fL
"meow" /, _.. \ _\ ;`._ ,.
I only see a reference to a non-normative NOTE there.
I don't need browser support; the namespaces are for other readers.
Aaron Swartz [http://www.aaronsw.com/]
(I imagine I meant "can't be used for namespaces".)
RFC 2854:
# In addition, [XHTML1] defines a profile of use of XHTML which is
# compatible with HTML 4.01 and which may also be labeled as text/html.
XHTML1:
# The XHTML namespace may be used with other XML namespaces as per
# [XMLNS], although such documents are not strictly conforming XHTML 1.0
# documents as defined above.
Ian Hickson )\._.,--....,'``. fL
"meow" /, _.. \ _\ ;`._ ,.
