I was skimming the minutes of the IPng WG from the Washington, DC IETF
meeting, and found this:
[Start of excerpt]
IPv6 Addresses in URL's / B. Carpenter
Design team meet in the bar a few nights ago.
Need numeric address in URL's for emergency operations (or robotic apps).
Colons break URL parsers "hostname" syntax
Proposals:
Issue: Should IPng w.g. reopen the "colon" notation?
Heated discussion. Most comments that this is stupid, we should
not reopen IPv6 text notation. Long discussion. Issue seems to be
that many parsers that take URL's are very limited.
No one was in favor of changing current text representation.
Extremely strong consensus!
It was noted that the issue is probably only relevant for complete
web browsers (e.g., Netscape, Microsoft, etc.), not all other
applications that use URL's. If the complete web browsers can be
changed it is very likely to be sufficient. Recommend that the
primary preferred syntax for IPv6 addresses in URL's be:
The IPv6 address should be enclosed in brackets. URL parsers that
can not support this notation can either support the proposed
alternative syntax:
or not allow IPv6 addresses to be entered directly.
[End of excerpt]
I'm not sure if this is really an "issue" for HTTP/1.1, but I suspect
that the IESG will want to be sure that HTTP/1.1 syntax is compatible
with IPv6, and if there are conflicts, we should probably make sure
they are addressed. Or make an explicit statement that we are not
going to address them in this version of the protocol (and why not).
-Jeff
A quick check of our search engine software shows that most
of our spidering will also break with these URLs. That's
not as big a deal as the "complete browsers" breaking, from
our perspective, but I do think it indicates that these
parsers are built into a lot more than they thought. I
would bet, for example, that it would complete break some
of the firmware "browsers" being built into phones by the
pocketnet people.
regards,
Ted Hardie
NASA NIC
Jeffrey Mogul:
[...deleted...]
I remember that we had a discussion about ipv6 urls some time ago on
www-talk, see for example the thread starting with
It was noted in that thread that [ and ] were illegal in URLs.
We did not really reach a consensus, but one intermediate conclusion
was that a notation like
with the . separating the address from the port number, would do the
trick. I see however that you quoted some ipv6 addresses which have a
. in them above, I think we assumed at the time that the ipv6 notation
would use : only.
Anyway, this is probably an issue between the ipv6 people and whoever
feels responsible for maintaining URLs (Larry(?)). I am just
providing some pointers. I think we should at least add a note to the
1.1 spec to warn implementers of this issue.
Koen.
Ill also add this to the http-ext issues for the extensions documents..
Josh Cohen joshco@microsoft.com
Program Manager - Internet Technologies
It was noted in that thread that [ and ] were illegal in URLs.
We did not really reach a consensus, but one intermediate conclusion
was that a notation like
with the . separating the address from the port number, would do the
trick. I see however that you quoted some ipv6 addresses which have a
. in them above, I think we assumed at the time that the ipv6 notation
would use : only.
Anyway, this is probably an issue between the ipv6 people and whoever
feels responsible for maintaining URLs (Larry(?)). I am just
providing some pointers. I think we should at least add a note to the
1.1 spec to warn implementers of this issue.
Koen.
This whole issue is really one for the URI documents, rather than HTTP...
Of course, we'd like them to get to draft standard soon as well, so
that we can reference them rather than incorporating duplication. Yet
another headache of mine of last week...
At the IETF, a number of us (quite interesting collection of people),
talked through this issue (over beer in the bar, of course; was the most
fun conversation of the IETF I had...)... This was alluded to in the minutes
(the "design team").
Attending included:
Brian Carpenter, (IAB chair)
Larry Masinter
myself
Henrik Frystyk
Steve Deering (Cisco, and IPNG heavyweight).
probably one or two more I forget.
Bottom line was that the browsers were the least of the problem;
we almost certainly could get the big players to change the browsers...
But... The browser is the tip of the iceberg... The first proposal (things
like brackets or other syntactic changes to URI's) would break a large number
of tools that know about HTML, XML and the like, and that therefore something
like the .ipv6 domain hack proposal was the only viable approach. These
tools vastly outnumber the browsers in the world.
Steve was going to take the []less proposal back to the working group meeting.
Sounds like the proposal got taken back, but not everyone understood the
issue (in particular that the browsers were the least of the problem) and
think that URI syntax changes are feasible.... (wish they were, as URI
syntax is far from ideal, but reality can be very hard...).
Looks like some further education of the IPV6 community may be in order,
if Steve Deering or Brian Carpenter thinks that things may go wrong...
- Jim
Jim Gettys
Industry Standards and Consortia
Digital Equipment Corporation
Visting Scientist, World Wide Web Consortium, M.I.T.
jg@w3.org, jg@pa.dec.com
This is an interoperation issue. The strength of consensus inside
the IP-NG group is frankly not very relevant. Their proposal will
break a substantial piece of existing infrastructure.
At the very least we deserve some form of argument for the IP-NG
group's preference. Until one is provided I don't think we can have
much of an argument here.
I am not even sure where the colon notation was intended to be
used. If they intend it to be used within URIs then the question is
defacto reopened. If they don't want to reopen the discussion it
is likely that the URI group will address the issue by creating a
new (and incompatible) text representation.
It is acceptable for a group to introduce a notation that has limited
utility, it is also acceptable for a group to negotiate with others to
achieve a consensus about a solution that will meet the needs of a
wider constituency. It is not acceptable for a group to declare that
they want a notation to be general but they don't want to talk about it
As Jim points out the question is not one for the IP-NG group to
make, it is within the URI group's remit and ultimately is the type
of matter where the IESG may have to rule.
Phill
Perhaps we can get it right in HTTP-NG?
Bill
This is correct. IPV6 can "contain" IPV4 addresses and this can be done by
concatenating IPV6 syntax and IPV4 syntax so that an IP address can contain
both : and . as separators.
Ugly, huh?
Henrik
Henrik Frystyk Nielsen,
World Wide Web Consortium
