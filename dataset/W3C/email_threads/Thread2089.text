It seems that from the start of WWW security, the terms authentication
and authorization have been used in ways that obfuscate the difference
between them. The DAA proposal carries on that grand tradition, but
I'd like to suggest that we get some clarity in the terms, and
propagate it. Authentication is the process of proving
identity. Authorization is the process of deciding if a request will
be honored. Authorization often uses authentication information
(proven identity). Authorization also uses other information, such as
user attributes, object attributes, contextual information, and, most
familiarly, a database associating requests and objects with user
identities (or user attributes). That's files like .htaccess.
As far as I can see, the item called the "Authorization" header in the
DAA proposal just contains authentication information, tightly coupled
to the request it's associated with (authentication information that
isn't tightly coupled with a request is often not useful). The
protocol does authentication, in support of authorization, but does
not necessarily determine where authorization happens. For example, a
server doing authentication for another can redirect, sending it's
stamp of approval on the authentication information in the opaque
field, and the target server could do the actual authorization, based
on the verified authentication.
So, if my plea is compelling, I'd like to see every reference to the
word "authorization" in the DAA proposal excised (except for the
"Unauthorized" status; that's a given). Also, the example conflates
the two by implying that there's a single username and password "for"
a document. It should say that that username/password has authorized
access to the document.
Mez
Well, I guess I just learned something new. :-) I intend to change the
draft accordingly.
Eric W. Sink, Senior Software Engineer -- eric@spyglass.com
[etc]
I have just read through both section 10 of draft-ietf-http-v10-spec-00 and
draft-ietf-http-digest-aa-00 and have found only one place where I think that
either term is used incorrectly. This is under domain in 2.1 of digest-aa,
where I think "authorization" should replace "authentication.
The credentials are authorization information; "This request is from username
who claims the right to access requested-uri in realm " the digest is the
authentication information for the claim "Only username could and would have
created this digest of that claim and the secret we share". The server could
have constructed the credentials, but this scheme is not trying to address the
non-repudiation problem.
Reading through digest-aa-00 again has revealed two other problems:
1) digest and message-digest have only the nonce to link them in a
request. Specifically, if the server re-uses nonces, the client cannot ensure
that the message body matches the requested uri - this could be a problem
POSTing.
2) There is nothing except the nonce to link the response to the request. If
the nonce is re-used, an intruder could substitute an old response.
If there is any possibility that the client has used the same method:URI pair
before, the only way to ensure that the entities in request and response
messages are current is for the client to create a nonce of its own. This has
to be added to both digest amd message-digest (both ways) and therefore be
another parameter to the Authorization header so that the server can create
the message-digest for the response. Guaranteeing a current response from
the server only matters if the resource could change. If the client is happy
with a cached version, then it could use method:URI in place of the nonce to
ensure that the reply is to some version of this question.
Regards,
Owen Rees rtor@ansa.co.uk
Information about ANSA is at URL:http://www.ansa.co.uk/ .
Hi Owen,
I'm not sure I see what sense you consider this authorization
information. As I pointed out, even clear authentication information
is an input to authorization decisions, so it's not incorrect to call
even the digest "information for the authorization decision". It does,
however, confuse people to call either the digest or the credentials
(in this case) simply "authorization information".
The credentials do not drive the authorization decision the way
capabilities (or, if I dare, ANSA credentials :-) drive authorization
decisions. They're not emitted and protected by a trusted authority;
they don't (usually) grant authorization by their very existance. What
they do is tie the request (at some level) to the authentication
information. Both the request (method and URI) and the authentication
information (username and realm; the realm is strictly for
authentication I believe) are necessary for the authorization
decision. But, I would argue (I do argue :-), the information that
drives the authorization decision is more likely to be a database like
the .htaccess file (or a separately passed capability or ANSA-like
credential, vouched for by an appropropriate authorization authority).
Mez
I think I should have said "The credentials contain authorization
information" (rather than "are"). draft-ietf-http-v10-spec-00 says
"credentials containing the authentication information" (in 5.4.5 and
10), and I would argue that in both the Basic and Digest schemes, the
credentials contain information used both in authentication and in
authorization, but not all of the information used in either
process.
Since the credentials contain information used for both purposes, it
might be better to include the syntax rule for the Authorization
header in digest-aa so that " credentials " can be used to replace
"Authorization" in various places. I think I was probably reading the
capitalised word as an arbitrary token naming the header containg the
credentials, without thinking how it would read if the capitalisation
were removed or ignored.
Regards,
Owen Rees rtor@ansa.co.uk
Information about ANSA is at URL:http://www.ansa.co.uk/ .
