I've just reviewed:
Modified: 16 February 2004 11:36:15
Size: 167.42 KB (171437 bytes)
Which has recently been "last called" in the IETF URI informal group in
preparation for an IESG last-call request, per:
I am concerned that the empty component normalization rules may be
troublesome for RDF. My review comments are at:
The specific example raised is:
Section 6.2.2.3:
I'm concerned about empty component normalization:
In RDF usage, the URIs:
and
would result in quite distinct resource identifiers, e.g. in:
Triples of the Data Model in N-Triples Format (Sub, Pred, Obj)
http://www.w3.org/RDF/Validator/run/foo http://example.org/prop "value" .
The original RDF/XML document
1: ?xml version="1.0"?
2: rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
3: xmlns="http://example.org/"
4: rdf:Description rdf:about="foo"
5: prop value /prop
6: /rdf:Description
7: /rdf:RDF
and
Triples of the Data Model in N-Triples Format (Sub, Pred, Obj)
http://www.w3.org/RDF/Validator/run/foo http://example.org#prop "value" .
The original RDF/XML document
1: ?xml version="1.0"?
2: rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
3: xmlns="http://example.org#"
4: rdf:Description rdf:about="foo"
5: prop value /prop
6: /rdf:Description
7: /rdf:RDF
(RDF triples generated by http://www.w3.org/RDF/Validator/)
Are distinct RDF graphs, even though the URIs are equivalent under the
normalization rules given.
#g
Graham Klyne
This does not look disastrous to me.
In RDF URIrefs ending in # (i.e. with explicitly empty fragment) only
regularly occur as namespace names. All possible uses of such URIrefs
involve qnames which give them a non-emtpy fragment part.
The text in question
"URI producers and normalizers should omit a delimiter if the component it
delimits is empty"
uses a "should" not a "MUST", and is hence sufficiently weak.
We perhaps could suggest modifying the text:
, with one exception: a double-slash delimiter indicating an authority
component should not be removed, even when the authority is empty, since
doing so can lead to misinterpreting the path.
to
. A first exception is: a double-slash delimiter indicating an authority
component should not be removed, even when the authority is empty, since
doing so can lead to misinterpreting the path.
A second exception is: a common idiom in RDF/XML uses URI references with
empty fragments as XML namespace names.
The overall normalization rules in section 6
inevitable create a many positive matches that are not honoured in RDF
concepts. Like XML namespaces we chose the simplest possible definition of
equality: string equality. The overall tone of section 6 ought to respect
such a choice.
Jeremy
Yes, but the text also seems to claim that it is always safe to apply the
normalization. That is my concern. Section 6.1 says "... while strictly
avoiding false positives".
I think it would also apply to empty path and query components, so I'm not
happy to just pick out empty fragments as a second exception.
Yes. I'm waiting to see what response to my comments, but I think I might
suggest that the text:
Therefore, comparison methods are designed to minimize false negatives
while strictly avoiding false positives
]] -- (section 6.1)
be something like
Therefore, comparison methods are designed to minimize false negatives
while strictly avoiding false positives when used for purposes of retrieval.
(This echoes the earlier comment "URI comparison is performed in respect to
some particular purpose" [section 6 intro], and I think provides the
necessary escape route for RDF and XML namespaces and maybe other purposes
to which URIs are pressed.)
#g
Graham Klyne
I don't think we should be suggesting that the meaning of a URI might differ
from that of a URI with a slightly different spelling.
We have remained silent on the relationship between
and I think we should remain silent. The advice in RFC 2396 bis to avoid
forms like the latter of these two is good.
For example using
in place of
does not work operationally, but I would not commit myself to making that a
semantic truism.
However, I would not object to being a co-signatory on your suggested
textual change.
Jeremy
From: w3c-rdfcore-wg-request@w3.org
[mailto:w3c-rdfcore-wg-request@w3.org]On Behalf Of Graham Klyne
Sent: 17 February 2004 16:53
Subject: RE: Heads up: RFC2996bis, possible problem for RDF
Jeremy,
It appears we are in agreement about RDF (phew! ;-)...
Again, I don't think we are silent. In RDF, they are different URIs by
my understanding. And what about:
compared with:
ftp://foobar/ and ftp://foobar:80/
RDF knows nothing about schemes, so they must be different, surely?
My understanding is that RDF Semantics does not say that these are the
same, however, it does not prohibit adding
(with an understanding of owl:sameAs).
Exactly. My concern is that the revised RFC2396bis suggests that it is
*always* safe to replace one with the other, by the language:
Even though it is possible to determine that two URIs are equivalent, it is
never possible to be sure that two URIs identify different resources. For
example, an owner of two different domain names could decide to serve the
same resource from both, resulting in two different URIs. Therefore,
comparison methods are designed to minimize false negatives while strictly
avoiding false positives.
-- http://gbiv.com/protocols/uri/rev-2002/rfc2396bis.html#equivalence
Specifically: "while strictly avoiding false positives"
A SemWeb reading of the section of RFC2396bis that we are reviewing could
be that a web service could automatically generate such a triple for every
http URI it sees. I would see such a web service as compliant with both
RFC 2396 bis, and with RDF Semantics. (It is adding new information, but
information which one of the authorities involved (IETF) underwrites).
I figure I must be misunderstanding what you are saying. Maybe my
responses will flush out the disconnect.
I have tried to turn into it a test triple:
is not implied by RDF Semantics combined with OWL Semantics
but is implied by RDF Semantics + OWL Semantics + comparison ladder from
RFC 2396bis.
Yes. But I have two concerns:
(a) a future version of RDF would presumably cite RFC2396bis, in which case
it acquires an additional axiom, which I think is a potential source of
surprise.
(b) the RDF rules for formation of URIrefs from namespaces and local names
mean that URIrefs may be changed (by the RFC2396bis normalization) in ways
that cannot be described by additional assertions of this kind.
Conversely
NOT
is not implied by any recommendation.
Hence, most RDF systems should not endorse the test triple, but must not
contradict it.
Yes.
RDF systems may explicitly implement the comparison ladder and then would
endorse the test triple.
Then some given RDF may have different meanings when processed by different
systems. If the triple is to be endorsed, I think it should be explicit
(somewhere) in the RDF data.
In the open world, the test triple is true;
That seems like an unjustified leap to me. It may be true in the "open
world" *when used for the purposes of retrieval*, but there are other
purposes (e.g. URIref formation from namespace URI) for which it is not true.
In practice, we would hope that people do not assign different meanings to
URIs that differ in these ways, but we seem to agree that this is not
prohibited by RDF.
... but it is not part of the open world that we expect RDF systems to be
aware of.
#g
Graham Klyne
But the primary issue here is, if they ARE used then they should NOT
be considered to be identical or interchangeable. Substituting one
form of a URI for another could produce unforseeable and potentially
catastrophic consequences for any SW reasoner.
I agree with Graham that this is a potentially serious problem that
we should nip in the bud. I also would like to be a co-signatory on
the proposed textual changes; Graham, please include me. I
particularly like the inclusion of the phrase " for purposes of
retrieval" as it acknowledges that URIs have other purposes.
Pat
From: w3c-rdfcore-wg-request@w3.org
[mailto:w3c-rdfcore-wg-request@w3.org]On Behalf Of Graham Klyne
Sent: 17 February 2004 16:53
Subject: RE: Heads up: RFC2996bis, possible problem for RDF
IHMC(850)434 8903 or (650)494 3973 home
40 South Alcaniz St.(850)202 4416 office
FL 32501(850)291 0667 cell
phayes@ihmc.us http://www.ihmc.us/users/phayes
OK, here's what I propose:
Further to my earlier message [1], I've discussed the issue of URI
normalization with some colleagues and we'd like to propose the following
small change of wording with respect to [2] (announcement [3]):
Section 6.1, para 2, final sentence:
The suggested change is to this sentence:
Therefore, comparison methods are designed to minimize false negatives
while strictly avoiding false positives.
To be:
Therefore, comparison methods are designed to minimize false negatives
while strictly avoiding false positives when used for purposes of retrieval.
Rationale:
This reinforces the earlier comment that "URI comparison is performed in
respect to some particular purpose" [section 6 intro], and I think provides
the necessary get-out for those purposes other than retrieval for which the
normalization processes described can result in false URI-equivalence (i.e.
in circumstances where existing applications may legitimately deliver
differing results).
Graham Klyne
Jeremy Carroll
Pat Hayes
[1] http://lists.w3.org/Archives/Public/uri/2004Feb/0094.html
[2] http://www.ietf.org/internet-drafts/draft-fielding-uri-rfc2396bis-04.txt
[3] http://www.ietf.org/mail-archive/ietf-announce/Current/msg28902.html
The IETF debating culture is slightly different, so the multiple
signatories count for less than the quality of the argument, but I don't
think it harms.
#g
Graham Klyne
It's looking like we should make a formal comment as a WG ... what's the
timescale?
Jeremy
I am happy with my name on that ... if it adds no value having the WG
endorse it then let's leave it at that.
Jeremy
A formal comment as such has no special weight in the IETF process.
The URI mailing list may not be a formal IETF working group, but it is
planning to make a submission for IETF publication, so I'd imagine the IETF
modus operandi will be predominant.
I suggest we make an less-formal response for now (e.g. per [1]), and if a
problem remains when the draft goes to IETF last-call, we may consider
something more collective.
[1] http://lists.w3.org/Archives/Public/w3c-rdfcore-wg/2004Feb/0061.html
As for timescales: Roy mentioned requesting IETF last-call in two
weeks. The IETF last-call for a non-working-group specification is 4
weeks. In practice, I expect we have a bit longer because of a forthcoming
IETF meeting.
#g
Graham Klyne
Formal comments from groups are not very much respected in the IETF.
Comments from individuals are the only things that matter.
You can say "I'm sending this on behalf of the WG" but Roy
will likely ignore that part and just read your message like
he reads any other... or: he should, as an IETF editor.
Dan Connolly, W3C http://www.w3.org/People/Connolly/
see you at the W3C Tech Plenary in Cannes 1-5 Mar 2003?
That looks plausible to me. Anyone unhappy?
Graham, does it help to have more folks chip in with "me too" messages
at this stage?
Brian
Probably not. Better, I think, to debate the case coherently than make it
a political issue. Having Jeremy and Pat supporting my comments will, I
think, be enough to show it's not an isolated comment. We're not at the
stage of IETF last-call yet.
On the other hand, if people have additional comments to make that add
substantially to the debate, that's always welcome. (But please bear in
mind that this specification is in its final stages of being nailed down,
so any comments should be addressed specifically to the specification
rather than to broader issues, preferably with suggestions for improvement.)
If Pat agrees with the specific wording in [1] cited above (Jeremy already
has), then I'm ready to send it off.
#g
Graham Klyne
Yes, go ahead.
pat
IHMC(850)434 8903 or (650)494 3973 home
40 South Alcaniz St.(850)202 4416 office
FL 32501(850)291 0667 cell
phayes@ihmc.us http://www.ihmc.us/users/phayes
