Hi,
I am using Microsoft Visual C++ v6 to compile Amaya on WinNT4 SP4. I tried
to compile Amaya v3.2.1 following the "Building Amaya using *.dsp files"
from the Amaya Pages (http://www.w3.org/Amaya/User/Win-Compiling.html).
Compilers.exe get's compiled with some warnings. During Amaya.exe
compilation, I'll get warning and then errors in the Linking phase. Enclose
at the end of this mail the errors during this phase.
Any hints?
Best regards,
Catherine.
Linking...
Creating library ..\bin/thotprinter.lib and object ..\bin/thotprinter.exp
print.obj : error LNK2001: unresolved external symbol _Table2LoadResources
print.obj : error LNK2001: unresolved external symbol _TableHLoadResources
printlib.lib(jpeghandler.obj) : error LNK2001: unresolved external symbol
_jpeg_finish_decompress
printlib.lib(jpeghandler.obj) : error LNK2001: unresolved external symbol
_jpeg_read_scanlines
printlib.lib(jpeghandler.obj) : error LNK2001: unresolved external symbol
_jpeg_start_decompress
printlib.lib(jpeghandler.obj) : error LNK2001: unresolved external symbol
_jpeg_read_header
printlib.lib(jpeghandler.obj) : error LNK2001: unresolved external symbol
_jpeg_stdio_src
printlib.lib(jpeghandler.obj) : error LNK2001: unresolved external symbol
_jpeg_CreateDecompress
printlib.lib(jpeghandler.obj) : error LNK2001: unresolved external symbol
_jpeg_destroy_decompress
printlib.lib(jpeghandler.obj) : error LNK2001: unresolved external symbol
_jpeg_std_error
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_read_row
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_start_read_image
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_error
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_read_update_info
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_set_dither
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_set_interlace_handling
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_set_strip_16
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_set_gamma
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_set_expand
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_read_info
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_init_io
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_read_init
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_info_init
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_read_destroy
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_set_error_fn
printlib.lib(pnghandler.obj) : error LNK2001: unresolved external symbol
_png_check_sig
..\bin/thotprinter.dll : fatal error LNK1120: 26 unresolved externals
Error executing link.exe.
amaya.exe - 27 error(s), 68 warning(s)
Catherine CHAT - Responsable Technique
VIA BUSINESS S.A.
Domaine de Voluceau - BP 105 - 78153 Le Chesnay cedex - FRANCE
Hi,
did Compilers.exe and the build with the *.mkf file run without an error?
Regards,
CC
derago, Wiesenstr. 3-5, 79807 Lottstetten, Germany, http://www.derago.com
No errors at this level: running Compilers.exe then loading amaya.mkf and
building it was successful.
Regards,
Cat.
..\bin/thotprinter.exp
Hello Catherine,
In our previous episode, Catherine CHAT said:
Are you using the Amaya v3.2.1 tar file or the CVS version? It may be that
the .dsp files that come with the tar file aren't up to date. What seems
to be missing in the print makefile are the jpeg and png library dependencies.
Go to Project/dependencies
A popup will appear. There, choose thotprinter and click on the
libjpeg and libpng cases if they are not selected.
This should fix up things.
-Jose
Thanks Jose,
libjpeg and libpng were not checked. That's better but I still get 3 errors
during the link process :
--------------------Configuration: thotprinter - Win32
Debug--------------------
Linking...
Creating library ..\bin/thotprinter.lib and object ..\bin/thotprinter.exp
print.obj : error LNK2001: unresolved external symbol _Table2LoadResources
print.obj : error LNK2001: unresolved external symbol _TableHLoadResources
..\bin/thotprinter.dll : fatal error LNK1120: 2 unresolved externals
Error executing link.exe.
amaya.exe - 3 error(s), 0 warning(s)
Any other precious hints ?
Best regards,
Catherine.
dependencies.
Hello Catherine,
In our previous episode, Catherine CHAT said:
Ah, something else is missing then. Try to check in first the printlib
and, if it doesn't change anything, then check in also the libThotTable.
I can't tell you which one is the one missing because the office where I have
the winboxes is closed right now.
-Jose
Thanks Jose,
I had to check the libThotTable, and the compilation process went fine
until the end. Great!
So, if I try to sumerize the Dependencies for Amaya :
amaya depends on libjpeg libpng libThotEditor libThotTable libwww thotpinter
libpng depends on zlib
libwww depends on zlib
thotprinter depends on libjpeg libpng libThotTable printlib
Hope this will help for the documentation.
By the way, ...\Amaya-v3.2.1\amaya\AmayaPage.html, nice style sheet and page.
Best regards,
Catherine.
..\bin/thotprinter.exp
