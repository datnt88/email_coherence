The grammar for the User-Agent header currently reads like this:
User-Agent = "User-Agent" ":" 1*( product )
product = token ["/" product-version]
product-version = 1*DIGIT "." 1*DIGIT
In my opinion, this is a bit too restrictive. For example, all of the
following version numbers are illegal using this grammar.
1 simple integer, no minor rev
2.0a1 Apple standard format for an alpha release
1.0.2.87 Microsoft standard format
Other version numbering schemes may cause other problems. May I suggest
that we not try to impose the format of the version number beyond saying
which characters we allow there?
Sounds fair - what about:
User-Agent = "User-Agent" ":" 1*( product )
product = token ["/" token]
-- cheers --
Henrik Frystyk
frystyk@W3.org
+ 41 22 767 8265
World-Wide Web Project,
CERN, CH-1211 Geneva 23,
Switzerland
The grammar for the User-Agent header currently reads like this:
In my opinion, this is a bit too restrictive. For example, all of the
following version numbers are illegal using this grammar.
1 simple integer, no minor rev
2.0a1 Apple standard format for an alpha release
1.0.2.87 Microsoft standard format
Other version numbering schemes may cause other problems. May I suggest
that we not try to impose the format of the version number beyond saying
which characters we allow there?
Eric W. Sink, Senior Software Engineer -- eric@spyglass.com
I don't speak for Spyglass.
Yes, where token is any string of characters which doesn't require URL
encoding *OR* any string of characters inside of quotes. User-Agent
should be required to be a unique identifier for a particular version
of User-Agent. The standard should be absolutely relaxed about the
format of the identifer except that it should be allowed to inhibit
proper parsing of subsequent headers. Might include words to describe
how to insure uniqueness? Or leave it to follow the course of domain
names. Or register the unique portion of the ID, etc..
It should be recommended that a human be able to read the string and
relate it to external version control parameters.
What else matters?
Dave Morris
I can live with
User-Agent = "User-Agent" ":" 1*( product )
product = token ["/" product-version]
product-version = token
Note, however, that token has a restricted set of allowed characters
as specified in the BNF. The reason product-version is separate is
so that I can explicitly state what is not allowed in the version from
a semantic point-of-view.
None of the above. The HTTP protocol will assume that client authors
will want to give their products suitable product tokens. Requiring a
registry will not work due to the overhead and market considerations.
However, it would be nice if W3C set up a voluntary registry.
Nope. This string is explicitly not intended for human readability.
......Roy Fielding ICS Grad Student, University of California, Irvine USA
Some browser authors (Netscape, Spyglass) seem to be using
"product/product-version (platform)" which has the advantage of
distinguishing between, say, NCSA Mosaic/2.0a8 (Windows) and
NCSA Mosaic/2.0a8 (Macintosh), two distinct User-Agents. Would it be too
restrictive to expand "product-version = token" so that it includes some
reference to OS/platform?
M. Hedlund march@europa.com
