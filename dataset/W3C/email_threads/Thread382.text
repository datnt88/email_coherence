Whenever Tidy supplies a corrected DOCTYPE, it produces one such as
"!DOCTYPE html PUBLIC...", i.e., with the "html" in lower case. In
lexer.c, the "FindGivenVersion" routine, which is responsible for parsing
the DOCTYPE statement, has this comment at line 769:
/* but at least ensure the case is correct */
FindGivenVersion then replaces the DOCTYPE string supplied in the source
HTML file with the identical string but containing "html" in lower case.
Can someone please explain why changing this to lower case is
"correct?" Thanks.
-- Dave Bryan
I too am interested in the answer to this question, especially in light of
the fact that all DOCTYPEs I've seen from the W3C have HTML in caps,
including the supplied DOCTYPE declarations from
http://validator.w3.org/ . Even the DTD for HTML 4.01 has it in caps. It
seems only xhtml demands its DOCTYPEs have a lowercase "html".
HTML Tidy is the only source I've seen that insists it be lowercase in all
cases. I would ask that its case at least conform to the case chosen for
tags, i.e. if I'm writing in a version of HTML that allows tag names to be
capitalized and I've told HTML Tidy to capitalize them, the DOCTYPE
reference should have "HTML" capitalized. I'll sacrifice the readability
of my HTML source when I switch to XML and not before (I think demanding
all tags and attribute names be lowercase in XML was the wrong choice, but
one I'll suffer with when I'm ready).
Because in SGML-based HTML (i.e. 2.0, 3.2, 4.0), the case of the elements
doesn't matter, while in xHTML (which is case sensitive) they *have* to be in
lower case. Thus lower case satisfies both conditions.
/Jelks
Thank you for the explanation.
-- Dave Bryan
Doesn't Tidy generate an XHTML DOCTYPE only if the "output-xhtml" option is
set? If so, then that could be the trigger that determines if the "html"
string is in upper or lower case.
-- Dave Bryan
In SGML the case of a tag doesn't matter. In XML it does. For XHTML,
which is a reformulation of HTML in XML, the W3C HTML working group
was forced into making a choice of case for HTML elements and
decided to use lower case. The root element "html" therefore needs
to be in lower case for XHTML but could be in either case when the
document conforms to SGML.
Regards,
-- Dave Raggett dsr@w3.org http://www.w3.org/People/Raggett
World Wide Web Consortium (on assignment from HP Labs)
The root element "html" therefore needs to be in lower case for XHTML but
could be in either case when the document conforms to SGML.
Thanks for the explanation.
-- Dave Bryan
Because in SGML-based HTML (i.e. 2.0, 3.2, 4.0), the case of the elements
doesn't matter, while in xHTML (which is case sensitive) they *have* to be
in
lower case. Thus lower case satisfies both conditions.
/Jelks
I too am interested in the answer to this question, especially in light of
the fact that all DOCTYPEs I've seen from the W3C have HTML in caps,
including the supplied DOCTYPE declarations from
http://validator.w3.org/ . Even the DTD for HTML 4.01 has it in caps. It
seems only xhtml demands its DOCTYPEs have a lowercase "html".
HTML Tidy is the only source I've seen that insists it be lowercase in all
cases. I would ask that its case at least conform to the case chosen for
tags, i.e. if I'm writing in a version of HTML that allows tag names to be
capitalized and I've told HTML Tidy to capitalize them, the DOCTYPE
reference should have "HTML" capitalized. I'll sacrifice the readability
of my HTML source when I switch to XML and not before (I think demanding
all tags and attribute names be lowercase in XML was the wrong choice, but
one I'll suffer with when I'm ready).
be
in lower case. Thus lower case satisfies both conditions.
Thank you for the explanation.
-- Dave Bryan
Doesn't Tidy generate an XHTML DOCTYPE only if the "output-xhtml" option is
set? If so, then that could be the trigger that determines if the "html"
string is in upper or lower case.
-- Dave Bryan
In SGML the case of a tag doesn't matter. In XML it does. For XHTML,
which is a reformulation of HTML in XML, the W3C HTML working group
was forced into making a choice of case for HTML elements and
decided to use lower case. The root element "html" therefore needs
to be in lower case for XHTML but could be in either case when the
document conforms to SGML.
Regards,
-- Dave Raggett dsr@w3.org http://www.w3.org/People/Raggett
World Wide Web Consortium (on assignment from HP Labs)
The root element "html" therefore needs to be in lower case for XHTML but
could be in either case when the document conforms to SGML.
Thanks for the explanation.
-- Dave Bryan
