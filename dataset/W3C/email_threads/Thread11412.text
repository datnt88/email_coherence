From: Jean Paoli jeanpa@microsoft.com
Subject: SD3 - Data Types
Date: Thu, 15 May 1997 21:14:17 -0700
SD3 - Data Types
For many data processing applications, knowing the semantics of an
element is not enough. Certain typical types of data, such as numbers
and dates, form the basic measurements of whatever it is their
elements represent. These types imply a typical sort order, an
opportunity for efficient storage, and a grammar beyond XML.
Proposal: (With special thanks to Tim Bray's paper
"http://www.textuality.com/xml/typing.html"). Define a standard
attribute, XML-TYPE, based on SQL data types. Valid values are CHAR,
VARCHAR, INTEGER, FLOAT, DECIMAL, DATE, TIME and TIMESTAMP. Numbers
and dates, times, etc. will have implied text representations given
by some t.b.d. ISO standards (e.g. ISO 8601::1988). At a minimum,
float formats must allow both scientific and non-scientific formats
(e.g. "12.34" and "0.1234E+2".) If no XML-TYPE attribute is given,
VARCHAR is default.
These data types have the effect of subclassing the contents of any
element whose content type is ANY or MIXED. (More generally, I think
of xml-type as inline subclassing of the contents of any element; the
subclassing must be compatible with the element's content spec.)
Many of these types can be qualified by further attributes. Here is a
first-cut:
!ATTLIST CHAR
XML-MAXSIZE CDATA
XML-SIZE CDATA #IMPLIED
!ATTLIST DECIMAL
XML-DIGITS-R CDATA 4
XML-DIGITS-TOTAL CDATA 18
XML-SCALE CDATA 0
!ATTLIST INTEGER
XML-DIGITS-R CDATA #FIXED 0
XML-DIGITS-TOTAL CDATA 9
Here is an example of data types in action:
<NAME> I, the Jury </NAME>
I think it's long past time to add data typing to SGML. I will be
adding some details to my proposal on this subject to deal with good
issues raised by Andrew Layman and Peter Murray-Rust. Then there are
some plumbing/naming/detail issues we'll have to clean up.
I propose that we not try to put this into XML-lang, but rather issue
another (very small) spec, maybe Part 4, in the lang/link/display series.
Among other things, the typing machinery works just fine for full SGML
too. -T.
Typing is not something you can add lightly. The mechanism needs to
support defined types, and support some way of loading a type
validator.
Notation seems ideal for this...
I would not want data typing to go into the XML-lang spec itself
(or to hold up the XML design process), but I would entertain
proposals to support data typing of both attribute values and
character data content within elements via a separate specification.
paul
