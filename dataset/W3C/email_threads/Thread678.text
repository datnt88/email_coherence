Hello,,
i am trying to converting an html document to xml. In the intial, my document conversion was fine until when i used XT parser to parse the resulting xml ouput . I have the obtained the following error.
xml:154: reference to undefined entity "nbsp"
I have following setting in the jtidy-04aug2000r6/src/org/w3c/tidy/
# sample config file for Java HTML tidy
indent=auto
indent-spaces=3
wrap=72
markup=yes
clean=yes
output-xml=no
input-xml=no
show-warnings=yes
numeric-entities=yes
quote-marks=yes
quote-nbsp=no
quote-ampersand=yes
break-before-br=no
uppercase-tags=yes
uppercase-attributes=yes
smart-indent=yes
output-xhtml=yes
char-encoding=latin1
I want to know is there a way not by HTMLTidy or that will no prevent the &amp;nbsp from printing out to the output file...
Help is greatly and pointers from all of your all is greatly appericated.
Yours Sincerely
Erik Tan
Using your config file, I get a character with hex value A0, which is
correct for latin-1 encoding. I don't know why you're getting "&amp;nbsp;".
However, if I delete the "quote-nbsp=no" from your config file, I get
"&amp;#160;" instead, which may be what you want (we use Tidy to output
XHTML this way and it has been working just fine).
Title:
Tidy inserts &amp;nbsp; entity in -xml mode.
Example:
% tidy -xml
p &amp;#160;
^Z
Comment:
No config file. I already reported this bug some months ago.
Possible solutions:
* let pprint.c:PPrintChar() check for XmlOut or
* let -xml set NumEntities = yes
Patch for the first solution:
% diff -u -p -u ..\original\pprint.c pprint.c
--- ..\original\pprint.c Fri Jul 28 17:57:56 2000
+++ pprint.c Fri May 25 00:34:06 2001
@@ -404,7 +404,7 @@ static void PPrintChar(uint c, uint mode
AddC('&amp;', linelen++);
- if (NumEntities)
+ if (NumEntities || XmlOut)
AddC('#', linelen++);
AddC('1', linelen++);
PS: As usual, against 04 August Release.
Bj?rn H?hrmann { mailto:bjoern@hoehrmann.de } http://www.bjoernsworld.de
am Badedeich 7 } Telefon: +49(0)4667/981028 { http://bjoern.hoehrmann.de
25899 Dageb?ll { PGP Pub. KeyID: 0xA4357E78 } http://www.learn.to/quote/
