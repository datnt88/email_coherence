Hi,
don't know whether this is the right place for the question. If not, please take my apologies.
I wonder about the XQuery type hierarchy. There are a lot of documents around but I did not really find some kind of implicit conversion rule for types. Suppose the expression:
"20"  1000
A string literal is compared with an integer literal. In "XQuery 1.0 and XPath 2.0 Formal Semantics" section [B.2 Mapping of Overloaded Internal Functions]. A list of internal functions is provided. According to it there are comparison functions that take either numerics or strings as parameters. But what is to take in the provided example. For the practical use the numeric variant seems to be the best. But the question is: Is there an explicit rule that describes when to convert which type to what other type and when not? Is there a document that contains the ruling? Which section?
Cheers &amp; Thanks
Daniel Kirmse
Hi Daniel,
Questions about XPath or XSLT can be asked on XSL-List (see
should probably go to XQuery-Talk (see
Conversion rules can be found in the XQuery language document. Your
example:
"20"  1000
uses the  operator, and the conversion rules for that can be found
in:
This directs you to the "gt" operator; the conversion rules for that
can be found in:
This directs you to the Appendix B.2 Operator Mapping at:
to determine whether the types of the two operands are comparable.
They aren't (there's no listing for A gt B where A is a xs:string and
B is numeric), so you will get a type error.
It's generally the case in XPath 2.0/XQuery that the only implicit
conversion rules are from the xdt:untypedAtomic type to other types.
xdt:untypedAtomic values only really arise in unvalidated documents.
Cheers,
Jeni
Jeni Tennison
Questions about XQuery should probably go to XQuery-Talk (see
Or even better send your XQuery questions to www-ql@w3.org.
/paulc
Paul Cotton, Microsoft Canada
17 Eleanor Drive, Nepean, Ontario K2E 6A3
Such questions are best asked on the www-ql alias.
XQuery is mainly a strongly typed language which means that your
expression below leads to a type error.
Exceptions are the treatment of untyped data, the notion of atomization,
and the implicit promotion of numeric data (and xs:anyURI to be added).
These rules are described in the corresponding sections in the language
document or the formal semantics (look for atomization, numeric type
promotion, xdt:untypedAtomic).
HTH
Michael
From: public-qt-comments-request@w3.org
[mailto:public-qt-comments-request@w3.org] On Behalf Of Kirmse, Daniel
Subject: Question regarding the typehirarchy
Hi,
don't know whether this is the right place for the question. If not,
please take my apologies.
I wonder about the XQuery type hierarchy. There are a lot of documents
around but I did not really find some kind of implicit conversion rule
for types. Suppose the expression:
"20"  1000
A string literal is compared with an integer literal. In "XQuery 1.0 and
XPath 2.0 Formal Semantics" section [B.2 Mapping of Overloaded Internal
Functions]. A list of internal functions is provided. According to it
there are comparison functions that take either numerics or strings as
parameters. But what is to take in the provided example. For the
practical use the numeric variant seems to be the best. But the question
is: Is there an explicit rule that describes when to convert which type
to what other type and when not? Is there a document that contains the
ruling? Which section?
Cheers &amp; Thanks
Daniel Kirmse
