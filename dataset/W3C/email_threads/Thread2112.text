***The 406 None Acceptable response
We have a couple of problems with the 406 None Acceptable response.
Jim Seidman (also here at Spyglass) posted these some time ago, but
we didn't any proper resolution, so I'm asking for info on how these
issues stand:
First, it specifies that Content-*
headers are required. If there's more than one version of the file,
which set of content headers do we send? That is, if there's a PNG and a
TIFF version of a file, and the client requests only accepts GIF and JPEG,
which info do we send? It's ambiguous to just specify
multiple content-types, content-languages, etc., since you could have a
situation where you have a French PostScript file and a German HTML file.
Second, it says you can't have any entity body. What are browsers supposed
to display in this case, since for every other error the server can return
an entity body giving explanatory text?
Eric W. Sink
Senior Software Engineer, Spyglass
eric@spyglass.com
This was discussed at the Danvers IETF, and will be in the next version
of the spec.
The 406 response will be changed to return content, in which the
available variants are described, preferably in a format that can
be used by a browser to select the appropriate choice.
In other words, a URC in HTML format.
....Roy T. Fielding Department of ICS, University of California, Irvine USA
Visiting Scholar, MIT/LCS + World-Wide Web Consortium
(fielding@w3.org) (fielding@ics.uci.edu)
is the new text in HTTP/1.0 or in HTTP/1.1?
It will be in HTTP/1.0.
Is anyone presently using 406?
I don't know, but it has long been known to be a missing feature
required to implement content negotiation correctly.
....Roy T. Fielding Department of ICS, University of California, Irvine USA
Visiting Scholar, MIT/LCS + World-Wide Web Consortium
(fielding@w3.org) (fielding@ics.uci.edu)
is the new text in HTTP/1.0 or in HTTP/1.1?
Is anyone presently using 406?
In fact, it would seem like this would be the preferable way to do
content negotiation without requiring hundreds of bytes of Accept:
headers. A browser sends a small set of types it knows it can handle
(html, gif, mpeg, etc), and if there are None Acceptible, it can select
from the list of representations returned in the 406 response (by
resending a request with just the content-type they want in the Accept:)
Take that, lazy browser writers :)
Brian
brian@organic.com brian@hyperreal.com http://www.[hyperreal,organic].com/
Thanks for the clarification - I'm looking forward to the day when I can
expect content negotiation to work properly, and I agree that 406 was
an obstacle to this!
Harald A
