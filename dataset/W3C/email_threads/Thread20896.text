I recently installed Amaya 7.0 via the RPM on its homepage, and when I
try to run it, I get the following output:
$ amaya
libpng warning: Application was compiled with png.h from libpng-1.2.2
libpng warning: Application is running with png.c from libpng-1.0.13
libpng error: Incompatible libpng version in application and library
gdk_imlib ERROR: Cannot load image: /usr/share/Amaya/amaya/amaya.png
All fallbacks failed.
$ error ***
A quick check of my libpng version gives this:
$ rpm -q libpng
libpng-1.2.2-6
Any ideas?
-Joel
I was getting that with earlier versions, on my RH7.2 system. So I
started compiling it from the source code. Ever since I started doing
that, I haven't had the problem. My guess is that compiling it yourself
might be the best solution to the problem.
Bill Hartwell Anpwhotep@confederatelinux.com
Hello,
Thanks for your bug reports.
I'd been generating the RPM file on a Debian box. This had worked
well before, until now.
Fixing this problem won't be easy. Rather than using all of imlib
in the GTK version, some parts of Amaya use it and other parts make
direct calls to libpng and libjpeg! We should have been making
a direct call to imlib.
I commited a first fix, so that the libjpeg and libpng include files
correspond to the same libraries we're linking to.
As you're already compiling your own version, maybe you or someone
else in the list could contribute an RPM file for Amaya (compiled in a
Redhat box). I can give you more instructions on how to generate it.
In the meantime, we'll stop shipping the RPM file as it's not usable
anyway in its present state.
