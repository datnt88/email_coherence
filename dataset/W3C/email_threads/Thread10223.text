This issue is ...
Some members of the XML Schema WG have expressed concern that XML
Schema's rules for whitespace handling may interfere with expected
behavior in other contexts. This may be the appropriate place to bring
this question up.
etc
see
part 1.2
My understanding is that RDF datatyping does *not* use XML Schema rules for
whitespace processing (since they are not part of the lexical2value mapping
as expressed in XSD).
examples:
Descibes a resource with two properties eg:p2 has an integer value (1),
whereas eg:p1 does not have but is an ill-formed typed literal.
It seems to me that the whitespace handling of RDF is often misunderstood,
e.g. today I was passed an example by a co-author which incorrectly expected
whitespace trimming of values.
I think we could go in either of two directions:
A: accept the comment
"worried that it may not be
obvious that the whitespace processing is not part of the process of
checking lexical forms for type validity," and add test cases to
demonstrate that whitespace is significant even inside typed literals of
types which in a XML Schema context would get processed away (such as the
integer examples)
B: accept the comment, amd moreover we think it will be less confusing to
follow the XML Schema whitespace facet and the RDF L2V mapping is the mapping
of:
1) apply the relevant whitepsace processing rules according to the
whitespace facet
2) apply the XSD L2V mapping
with corresponding changes to the lexical space.
This would change the eg:p1 eg:p2 example (above) so that both properties had
the same value.
thoughts?
Jeremy
I vote for option A.
Patrick
PROPOSE RDF Core accepts the comment xmlsch-02 and agree to add the
following test case:
Does not entail
Moreover the following comment to be added to concepts:
NOTE: In [XML Schema (part 1)], white space normalization occurs
during validation according to the value of the whiteSpace
facet. The lexical-to-value mapping used in RDF datatyping
occurs after this, so that the whiteSpace facet has no
effect in RDF datatyping.
alization-during-Validation
From: ext Jeremy Carroll [mailto:jjc@hplb.hpl.hp.com]
Sent: 09 May, 2003 13:23
Subject: RE: xmlsch-02 whitespace facet discussion
Does not RDF or RDFS entail, but *does* datatype entail, right?
Good.
Patrick
rdf:Description rdf:about="http://www.example.org/a"
eg:prop rdf:datatype="&amp;xsd;int" 3 /eg:prop
/rdf:Description
No it doesn't entail at all.
3 " is not an integer but "3" is. So the second graph is not a consequence
of the first, because the whitespace makes a difference.
(I frankly haven't a clue what the second graph means - I promised Brian I
would read the semantics editors draft before the telecon, so I might know
by then).
Jeremy
From: ext Jeremy Carroll [mailto:jjc@hplb.hpl.hp.com]
Sent: 09 May, 2003 15:29
w3c-rdfcore-wg@w3.org
Subject: RE: xmlsch-02 whitespace facet discussion
rdf:Description rdf:about="http://www.example.org/a"
eg:prop rdf:datatype="&amp;xsd;int" 3 /eg:prop
/rdf:Description
Hmmm....
This is an interesting entailment.
I think the key question is whether XML Schema whitespace processing
is part of the XML Schema specific interpretation of typed literals
having XSD datatypes.
You are saying that it is not. Is there anything from the XML Schema
specs or the XML Schema WG that support that?
IMO, it's really for the XML Schema folks to say whether " 3 "
is or is not an acceptable lexical representation when interpreted
in terms of the datatype xsd:int.
It might be.
My presumption was that it would be.
If there is some clear evidence showing that my presumption is
incorrect, I'd like to know it.
Patrick
We might not be ready to close this one.
The XML Schema rec is clear (sort of like the RDF working drafts :) that
whitespace normalization is performed in part 1, but precisely which
processing is specified in part 2.
i.e. the processing chain is:
input-text = entity substitution = whitespace normalization = [[Lexical
Form]] = lexical-to-value mapping = value
If you look at
for example, the defn of lexical space does not include the leading and
trailing blanks.
Whitespace normalization is specified in
alization-during-Validation
Jeremy
From: ext Jeremy Carroll [mailto:jjc@hplb.hpl.hp.com]
Sent: 09 May, 2003 16:22
w3c-rdfcore-wg@w3.org
Subject: RE: xmlsch-02 whitespace facet discussion
OK. I'm sufficiently convinced.
Patrick
