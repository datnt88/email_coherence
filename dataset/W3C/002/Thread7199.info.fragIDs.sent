<s> 4.9.  </s>
<s> Versioning In the following discussion, "versioned resource" means a resource that has the structure of a directed acyclic graph, each node of which is a version.  </s>
<s> "Version" means a node in this structure, which is itself a resource.  </s>
<s> Each version typically stands in a "derived from" relationship to its predecessor(s).  </s>
<s> We also need to express the concept that a versioned resource is immutable, except for deletion.  </s>
<s> I know this is covered in detail in section 4.9.1.1.  </s>
<s> but I still think it is worth including in the introduction.  </s>
<s> If only to flag the repository people that we aren't talking about their type of versioning.  </s>
<s> I would suggest something like: Once a resource is versioned it becomes immutable and may only be retrieved or deleted.  </s>
<s> 4.9.1.1.  </s>
<s> Stableness of versions.  </s>
<s> Most versioning systems are intended to provide an accurate record of the history of evolution of a document.  </s>
<s> This accuracy is ensured by the fact that a version eventually becomes "frozen" and immutable.  </s>
<s> Once a version is frozen, further changes will create new versions rather than modifying the original.  </s>
<s> In order for caching and persistent references to be properly maintained, a client must be able to determine that a version has been frozen.  </s>
<s> We require that unlocked resource versions be frozen.  </s>
<s> This enables the common practice of keeping unfrozen "working versions".  </s>
<s> Any successful attempt to retrieve a frozen version of a resource will always retrieve exactly the same content, or return an error if that version (or the resource itself) are no longer available.  </s>
<s> Since URLs may be reassigned at a server's discretion this requirement applies only for that period of time during which a URL identifies the same resource.  </s>
<s> HTTP 1.1's Entity tags will need to be integrated into the versioning strategy in order for caching to work properly.  </s>
<s> ***Judy - Does the specification support this?  </s>
<s> I'm not sure.  </s>
<s> The sentence "We require that unlocked resource versions be frozen."  </s>
<s> sets off a lot of bells.  </s>
<s> I thought we were going to support lock free versioning?  </s>
<s> 4.9.1.2.  </s>
<s> Policy-free Versioning.  </s>
<s> Haake and Hicks [5] have identified the notion of versioning styles (referred to here as versioning policies, to reflect the nature of client/server interaction) as one way to think about the different policies that versioning systems implement.  </s>
<s> Versioning policies include decisions on the shape of version histories (linear or branched), the granularity of change tracking, locking requirements made by a server, etc.  </s>
<s> The protocol should not unnecessarily restrict version management policies to any one paradigm.  </s>
<s> For instance, locking and version number assignment should be inter-operable across servers and clients, even if there are some differences in their preferred models.  </s>
<s> I believe this requirement and section 4.9.1.3 are no longer possible.  </s>
<s> The logical result of this requirement is non-interoperability.  </s>
<s> The current spec is proof of this.  </s>
<s> If we want interoperability we are going to have to choose a basic versioning systems w/extremely few axis of variability in order to allow for interoperability.  </s>
<s> I move that 4.9.1.3 be deleted and 4.9.1.2 be rewritten to read: 4.9.1.2.  </s>
<s> Interoperability.  </s>
<s> In order to meet the previously stated goal of interoperability between any WebDAV compliant client and server it is necessary for the working group to identify a versioning style which will be codified in the final specification.  </s>
<s> This versioning style may have several axis of variability to allow for some variation, for example lock based and lock free versioning, but these axis's must be kept to an absolute minimum in order to allow for interoperability.  </s>
<s> 4.9.2.6.  </s>
<s> A way to determine whether a given URL points to a version of a versioned resource.  </s>
<s> ***Judy - Are we requiring that you be able to tell this just by examining the URL?  </s>
<s> Absolutely not.  </s>
<s> This really codifies the ability to use linksearch on a resource to determine if the resource is versioned or not.  </s>
<s> 4.9.2.7.  </s>
<s> A way to distinguish, given a URL of a version, the part of the URL that identifies the version from the part that identifies the versioned resource.  </s>
<s> ***Judy - Do we really have to (want to) require that you be able to find out the URL of the versioned resource by examining the URL of the version?  </s>
<s> Is the requirement really just that there be some way to find out, for any version, the URL of its versioned resource?  </s>
<s> I move that either this requirement be removed or this group be moved out of the HTTP working group to the URL working group.  </s>
<s> It also supports some comparison operations: It makes it possible to determine whether two URLs designate versions of the same versioned resource.  </s>
<s> However, given the phenomenon of URL aliasing, it is insufficient to determine that they are not versions of the same resource.  </s>
<s> This is what entity-tags and history lists are for.  </s>
<s> ***Judy - If 4.9.2.8 - 14 are intended to require separate operations for each of these functions, they conflict with the approach taken in the WEBDAV specification.  </s>
<s> This goes under the heading of axis's of variability.  </s>
<s> If we want interoperability we must cut down on variability.  </s>
<s> 4.9.2.10.  </s>
<s> A way for a client to declare an intention to modify a resource (Reserve).  </s>
<s> (See Section 4.4 "Notification of Intent to Edit" above.)  </s>
<s> This operation is required before any versioned update.  </s>
<s> Its effects may vary depending on server policy, from locking a resource, to forking a new variant, to a NOOP on servers that do not track sessions or restrict updates.  </s>
<s> If this operation returns a version number, the client is required to make sure that it uses a copy of the data associated with that version number of the resource for any update operations it carries out.  </s>
<s> Servers that wish to enforce a mandatory GET operation before update, should simply use a fresh version identifier on the return from this operation.  </s>
<s> Any time an action may have any of a number of unrelated results we must provide discoverability.  </s>
<s> As we do not wish to provide discoverability because of the complexity it introduces we must not provide for a notification of edit that is complex as the above.  </s>
<s> ***Judy - Uncheckout is neither in the requirements nor in the specification.  </s>
<s> Do we need it?  </s>
<s> I would strongly argue that we do.  </s>
<s> The scenario of a user checking out a document and then changing their mind and wanting to Uncheckout the document is so common that just about every single versioning system in existence supports it.  </s>
<s> Well, taking the risk of another flame, let me explain this sentence.  </s>
<s> If you think we were stepping over the work of the spec builder, say so... only, gentler, please.  </s>
<s> :-) In order for a multi-author system to work, it must handle consistency for multiple check-ins.  </s>
<s> This can either be through a strong lock, or by providing a different mechanism (e.g. branching version trees, and so on).  </s>
<s> So asking for an unlocked version to be frozen simply means that only locked versions can be substituted with a fresher copy, while unlocked versions either require a lock before being modified, or, for lock-free systems, always create a new version, and thus can never be modified directly.  </s>
<s> There are thousands of other (possibly better) ways to put it.  </s>
<s> In my proposal for section 4.9 I deleted it altogether.  </s>
<s> I believe this functionality was given with a "release".  </s>
<s> I believe "uncheckout" is the opposite of the "intention to edit".  </s>
<s> It should not e assumed to imply also an "unlock", though, since I believe it is possible that I change my idea about modifying a resource, but still I don't want the resource to be freely modifiable.  </s>
<s> Fabio  </s>
<s> Regarding 4.9.1.1  </s>
<s> I believe that a requirements document should discuss the concept of frozen and unfrozen versions and the need for the protocol to distinguish between the two.  </s>
<s> It should not, however, specify how that distinction is made.  </s>
<s> As for uncheckout, I suspect I will eventually convince myself that you are right so I will drop the subject.  </s>
<s> =) Yaron  </s>
<s> From:Fabio Vitali [SMTP:fabio@CS.UniBO.IT]  </s>
<s> Sent:Friday, February 14, 1997 2:55 AM Subject:Re: Comments on section 4.9 of the requirements specification  </s>
<s> Sorry for the late reply on this thread.  </s>
<s> I would like to make sure that the concepts promoted by Document Management Systems (DMS) be supported as well.  </s>
<s> Basically, a "version" in a DMS is just a previous version (or revision) of the document and CAN be altered any time in the future.  </s>
<s> That is why we make the distinction between the CHECKOUT/IN and (UN)LOCK methods in the specification.  </s>
<s> -src  </s>
<s> Yaron Goland yarong@microsoft.com  </s>
<s> 02/17/97 01:43AM  </s>
<s> Regarding 4.9.1.1  </s>
<s> I believe that a requirements document should discuss the concept of frozen and unfrozen versions and the need for the protocol to distinguish between the two.  </s>
<s> It should not, however, specify how that distinction is made.  </s>
<s> As for uncheckout, I suspect I will eventually convince myself that you are right so I will drop the subject.  </s>
<s> =) Yaron  </s>
<s> From: Fabio Vitali [SMTP:fabio@CS.UniBO.IT]  </s>
<s> Sent: Friday, February 14, 1997 2:55 AM Subject: Re: Comments on section 4.9 of the requirements specification  </s>
