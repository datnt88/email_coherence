<s> The advanced collections design team has been debating whether to require the ordering semantics (DAV:orderingtype property) to be returned with every PROPFIND response for an ordered collection.  </s>
<s> The spec currently says that the server SHOULD return this property, whether or not the client explicitly requested it.  </s>
<s> It's likely that we'll either change this language to "MUST" or get rid of  </s>
<s> it altogether.  </s>
<s> On the one hand, it is a good thing for the client to be made aware that the PROPFIND response is ordered, so that the client can decide whether to override that ordering with its own.  </s>
<s> On the other hand, it seems like a bad idea to return random information that we think might (or should) be interesting to the client.  </s>
<s> Any opinions?  </s>
<s> --Judy  </s>
<s> Judith A. Slein Xerox Corporation jslein@crt.xerox.com  </s>
<s> (716)422-5169 800 Phillips Road 105/50C Webster, NY 14580  </s>
<s> Just as a general approach, should we not favour the latter view?  </s>
<s> For a client that cannot or does not take notice of the order it is irrelevant information to receive anyway.  </s>
<s> And for the client that can order, they should ask for it.  </s>
<s> Otherwise, where do you stop adding info that you think should be significant?  </s>
<s> Regards, Mark Mark Birbeck Managing Director x-port.net Ltd. 220 Bon March?  </s>
<s> Centre 241-251 Ferndale Road London SW9 8BJ w: http://www.iedigital.net/  </s>
<s> t: +44 (171) 501 9502 e: Mark.Birbeck@iedigital.net  </s>
<s> I have two thoughts on this proposal.  </s>
<s> They are below.  </s>
<s> THOUGHT 1: 1) ordered collections exist 2) If a client does not place d:orderingtype or d:allprop in its propfind or DASL query, then the server does not return the collection ordered.  </s>
<s> 3) If a client does request the d:orderingtype or d:allprop in propfind or DASL then the server returns the collection ordered.  </s>
<s> This is due to the fact that some clients will ignore any ordering that the server gives them.  </s>
<s> Therefore the server did more work than it had to do.  </s>
<s> My belief is that if the client wants the collections ordered, let them ask for them that way.  </s>
<s> If the client does not care, then the server can return normally.  </s>
<s> The SHOULD in the spec, mentioned below, will not help interoperability if it is left as a SHOULD.  </s>
<s> The client will never know whether the server is returning the collection ordered because some servers will say they are ordered, while others will not tell the client.  </s>
<s> I am not a fan of MUST, because the server will then ALWAYS do more work,  </s>
<s> even if the client will be ignoring the results.  </s>
<s> As I have mentioned, I think the best case is the client will ASK for the collection to be ordered if that is what it wants.  </s>
<s> THOUGHT 2: When in DASL ordered collections will be a little weird no matter what.  </s>
<s> If the client asks for a specific order via the d:order clause, does the server always append on the order of the collection as the last ordering.  </s>
<s> In other words, if I ask for and the query has an ordered collection (if we stick with how the spec reads), or has asked for d:orderingtype if we go with my THOUGHT 1 proposal.  </s>
<s> Is the real order by clause This because we must do an implicit order by the collection?  </s>
<s> I believe an even better answer to this situation is to add d:orderby clause to the propfind.  </s>
<s> In this way we generalized the problem, and turn it into a better solution.  </s>
<s> By the way, PROPFIND is a dumbed down DASL query so this works great.  </s>
<s> We then need to add a d:orderedcollection or something like it to the DASL and 2518 spec.  </s>
<s> Thus if a client wants the PROPFIND ordered in ANY way, including the ordered collections, they simply ask for it.  </s>
<s> There is no weird situations with ordered collections in DASL, everything works the same way, and server developers are developing to a spec that makes since through both 2518 and DASL.  </s>
<s> I really like thought 2. I guess the biggest problem is that we need to get the d:orderby clause into 2518 quickly so that we won't have backward compatibility problems.  </s>
<s> I think if we make this change now, we will kill the problem before it starts.  </s>
<s> On a somewhat separate note, I will probably one day push for the removal of PROPFIND, since DASL can do everything it can plus more :) Kevin [mailto:w3c-dist-auth-request@w3.org]On  </s>
<s> Behalf Of Slein, Judith A  </s>
<s> The advanced collections design team has been debating whether to require the ordering semantics (DAV:orderingtype property) to be returned with every PROPFIND response for an ordered collection.  </s>
<s> The spec currently says that the server SHOULD return this property, whether or not the client explicitly requested it.  </s>
<s> It's likely that we'll either change this language to "MUST" or get rid of it altogether.  </s>
<s> On the one hand, it is a good thing for the client to be made aware that the PROPFIND response is ordered, so that the client can decide whether to override that ordering with its own.  </s>
<s> On the other hand, it seems like a bad idea to return random information that we think might (or should) be interesting to the client.  </s>
<s> Any opinions?  </s>
<s> --Judy Judith A. Slein Xerox Corporation jslein@crt.xerox.com  </s>
<s> (716)422-5169 800 Phillips Road 105/50C Webster, NY 14580  </s>
<s> I don't think ordering is random information.  </s>
<s> It's only a few handfuls of bytes to provide information that should be useful to an overwhelming number of clients (since I think WebDAV is going to see primary use as a network filesystem for quite some time to come).  </s>
<s> I agree with "MUST".  </s>
<s> %% Max Rible %% max@glyphica.com  </s>
<s> %% http://www.amurgsval.org/~slothman/  </s>
<s> %% %% "Before enlightenment: sharpen claws, catch mice.  </s>
<s> %%  </s>
<s> %% After enlightenment: sharpen claws, catch mice." - me %%  </s>
<s> I'm using WebDAV for inter-server database updates.  </s>
<s> The server 'clients' are therefore *very* dumb - they don't care about collection ordering.  </s>
<s> Mark  </s>
<s> [good reasons that propfind should not return the ordering propery unless  </s>
<s> explicitly asked] I agree with Mark.  </s>
<s> Drop the "should" from the spec.  </s>
<s> Thought 1 was fine.  </s>
<s> Nice thought but I am afraid I do not agree.  </s>
<s> I think the DASL arbiter should not append anything to the query.  </s>
<s> First, it is costly.  </s>
<s> Most search engines are going to ignore DAV collection ordering, it wont be part of the underlying indexing information.  </s>
<s> The entries in the indexing are most likely going to be a flat set of rows (for an RDB) of all the entities that are indexed, they won't be grouped by collection.  </s>
<s> Second, it is meaningless.  </s>
<s> If there was an underlying order to the collection, that order has gotten scrambled by the ordering in the query , so we gain nothing by restoring only part of it.  </s>
<s> I mean, if the collection was sorted by date, but the dasl query was a sort by alphabetic name (only), then what good does it do to sort by date within name?  </s>
<s> If the client wanted that secondary sort, it would have asked for it, or done it itself.  </s>
<s> Third, orderby is part of DASL's basicsearch but might not be part of other DASL query grammars.  </s>
<s> fourth, I don't want ordered collections to depend on DASL or vice versa if it can be helped.  </s>
<s> Are you proposing that a PROPFIND request by able to provide an arbitrary (re) ordering, just as in DASL?  </s>
<s> While I admit that I do see the charm, I am afraid that I would strongly disagree.  </s>
<s> I would object to it in RFC 2518, and I would object to it for the Ordered Collection extension.  </s>
<s> Your proposal would require a server to potentially have to perform a sorts for each PROPFIND request, a significant burden.  </s>
<s> We have heard consistently that people do not want Ordered Collections to be expensive.  </s>
<s> Your proposal would make not only Ordered Collections but even plain old RFC 2518 expensive.  </s>
<s> Also the ordering in Ordered Collections is explicitly intended for client -provided orderings, where the burden and the cost of such ordering is paid by the client, not the server.  </s>
<s> Not all WebDAV servers will support DASL, and they should not have to pay the price of supporting sorting.  </s>
<s> Until someone points out why this isn't good, I'm in the camp that says the  </s>
<s> server should only return the properties that the client requested.  </s>
<s> I am also in the "only return what the client requests" camp as well.  </s>
<s> All of the arguments in favor of returning some particular bit of information take the form "this is really important information, and it's not that long".  </s>
<s> The essential flaw in this argument is that *every* piece of data is important to some client, or we wouldn't have spent the effort on standardizing on it.  </s>
<s> There have been several proposals to provide "named batches" of information, so that a client can say things like: "I'm interested in all the DAV:display information".  </s>
<s> That would be fine with me.  </s>
<s> Cheers, Geoff  </s>
<s> the  </s>
<s> I agree with Geoff.  </s>
<s> "Geoffrey Clemm" geoffrey.clemm@Rational.Com on 12/01/99 10:33:12 AM Subject: Re: Ordered Collections and PROPFIND Responses I am also in the "only return what the client requests" camp as well.  </s>
<s> All of the arguments in favor of returning some particular bit of information take the form "this is really important information, and it's not that long".  </s>
<s> The essential flaw in this argument is that *every* piece of data is important to some client, or we wouldn't have spent the effort on standardizing on it.  </s>
<s> There have been several proposals to provide "named batches" of information, so that a client can say things like: "I'm interested in all the DAV:display information".  </s>
<s> That would be fine with me.  </s>
<s> Cheers, Geoff  </s>
<s> the  </s>
