<s> Denis: The XML dsig working group had several months of discussion on this topic ("CMS features") and specifically rejected signed attributes among others.  </s>
<s> In my own postings, I argued that there is no compelling need for attributes (authenticated or not) when you already have the expressive power of XML.  </s>
<s> If a signer wants to make qualified statements about a particular XML blob, then the signer should make those statements in XML (perhaps including a strong reference/hash of the original blob) and sign *that*.  </s>
<s> In any event, you're always signing a particular XML object.  </s>
<s> I think you will also find that while we started with the notion of CMS-style signatures (wrapped only, requiring certificates, etc.) we evolved that model significantly to make it more appropriate to a broad range of web applications.  </s>
<s> These scenarios appear on the W3C page at --Barb This is first version of the document has already a good shape.  </s>
<s> However, I would like to raise several related comments: It would be nice to be able to get the same features as those present in CMS (Cryptographic Message Syntax).  </s>
<s> This seems nearly there, but not completely.  </s>
<s> A major feature of CMS is the concept of signed attributes which should be mirrored in this document.  </s>
<s> In section 2.0, SignedInfo is defined as: the actual data over which the signature is calculated.  </s>
<s> It contains control information (algorithm identifiers, pre-processing transformations) and digest(s) over the object(s) being signed.  </s>
<s> In section 1.3.4 it is said that: "additional objects have been defined which may be referenced by SignedInfo.  </s>
<s> The Manifest element is provided which similarly contains a collection of references and objects (like SignedInfo), but leaves it entirely up to the application which digest or digests it will verify."  </s>
<s> This does not seem crystal clear.  </s>
<s> These additional objects are equivalent to the signed attribuytes from CMS (what don't we use that term as well ?) and thus must be verified by the application.  </s>
<s> In section 4.0, it is mentioned that: SignedInfo does not include explicit signature attributes.  </s>
<s> If an application needs to associate attributes (such as signing time, signing device, etc.) with the signature, it may add an additional Object that includes that data and reference that Object via an ObjectReference.  </s>
<s> It would be very nice to define such "useful attributes" in the document itself.  </s>
<s> A last, but related comment.  </s>
<s> In section 1.3.1 it is said: KeyInfo indicates what key was used to create the signature.  </s>
<s> It is optional because in some applications the key is implied by the circumstances.  </s>
<s> A wide variety of KeyInfo forms are available including certificates, key names, key agreement algorithms and information, etc.  </s>
<s> The keying information is outside of the signed information so that it need not be signed.  </s>
<s> KeyInfo might contain auxiliary information it is not desired to reveal to all signature verifiers.  </s>
<s> If KeyInfo were signed, it would be necessary to pass all of it to all verifiers.  </s>
<s> On the other hand, if it is desired to bind the keying information in to the signature, its digest and a pointer to it can easily be included in the signed information.  </s>
<s> In order to prevent some substitution attacks of certificates holding the same public key value, it is necessary to sign the KeyInfo.  </s>
<s> Providing a standard way to do this (using the equivalent of a signed attribute) would be most useful.  </s>
<s> Denis  </s>
<s> This is first version of the document has already a good shape.  </s>
<s> However, I would like to raise several related comments: It would be nice to be able to get the same features as those present in CMS (Cryptographic Message Syntax).  </s>
<s> This seems nearly there, but not completely.  </s>
<s> A major feature of CMS is the concept of signed attributes which should be mirrored in this document.  </s>
<s> In section 2.0, SignedInfo is defined as: the actual data over which the signature is calculated.  </s>
<s> It contains control information (algorithm identifiers, pre-processing transformations) and digest(s) over the object(s) being signed.  </s>
<s> In section 1.3.4 it is said that: "additional objects have been defined which may be referenced by SignedInfo.  </s>
<s> The Manifest element is provided which similarly contains a collection of references and objects (like SignedInfo), but leaves it entirely up to the application which digest or digests it will verify."  </s>
<s> This does not seem crystal clear.  </s>
<s> These additional objects are equivalent to the signed attribuytes from CMS (what don't we use that term as well ?) and thus must be verified by the application.  </s>
<s> In section 4.0, it is mentioned that: SignedInfo does not include explicit signature attributes.  </s>
<s> If an application needs to associate attributes (such as signing time, signing device, etc.) with the signature, it may add an additional Object that includes that data and reference that Object via an ObjectReference.  </s>
<s> It would be very nice to define such "useful attributes" in the document itself.  </s>
<s> A last, but related comment.  </s>
<s> In section 1.3.1 it is said: KeyInfo indicates what key was used to create the signature.  </s>
<s> It is optional because in some applications the key is implied by the circumstances.  </s>
<s> A wide variety of KeyInfo forms are available including certificates, key names, key agreement algorithms and information, etc.  </s>
<s> The keying information is outside of the signed information so that it need not be signed.  </s>
<s> KeyInfo might contain auxiliary information it is not desired to reveal to all signature verifiers.  </s>
<s> If KeyInfo were signed, it would be necessary to pass all of it to all verifiers.  </s>
<s> On the other hand, if it is desired to bind the keying information in to the signature, its digest and a pointer to it can easily be included in the signed information.  </s>
<s> In order to prevent some substitution attacks of certificates holding the same public key value, it is necessary to sign the KeyInfo.  </s>
<s> Providing a standard way to do this (using the equivalent of a signed attribute) would be most useful.  </s>
<s> Denis  </s>
<s> RE: Comments on XML-Signature Core SyntaxAlthough, I agree in principal that the type of information carried as CMS attributes can be part of the XML signed Blob.  </s>
<s> One of the advantages of the CMS approach is the clear separation between the security related data (the signed attributes) and the application data (the content).  </s>
<s> With the signed attribute approach, all the data needed by the security process like a signature validation process is readily available at the time of signature validation, without having to decode the signed Blob.  </s>
<s> I support Denis and think if the concept of signedAttributes and unSignedAttributes were added it would add value to the XML signature.  </s>
<s> The signedAttributes and unSignedAttributes should obviously be encoded using XML at the signedData level.  </s>
<s> John Ross Denis: The XML dsig working group had several months of discussion on this topic ("CMS features") and specifically rejected signed attributes among others.  </s>
<s> In my own postings, I argued that there is no compelling need for attributes (authenticated or not) when you already have the expressive power of XML.  </s>
<s> If a signer wants to make qualified statements about a particular XML blob, then the signer should make those statements in XML (perhaps including a strong reference/hash of the original blob) and sign *that*.  </s>
<s> In any event, you're always signing a particular XML object.  </s>
<s> I think you will also find that while we started with the notion of CMS-style signatures (wrapped only, requiring certificates, etc.) we evolved that model significantly to make it more appropriate to a broad range of web applications.  </s>
<s> These scenarios appear on the W3C page at http://www.w3.org/Signature/Drafts/xmldsig-scenarios-990818.html --Barb -----Original Message----- This is first version of the document has already a good shape.  </s>
<s> However, I would like to raise several related comments: It would be nice to be able to get the same features as those present in CMS (Cryptographic Message Syntax).  </s>
<s> This seems nearly there, but not completely.  </s>
<s> A major feature of CMS is the concept of signed attributes which should be mirrored in this document.  </s>
<s> In section 2.0, SignedInfo is defined as: the actual data over which the signature is calculated.  </s>
<s> It contains control information (algorithm identifiers, pre-processing transformations) and digest(s) over the object(s) being signed.  </s>
<s> In section 1.3.4 it is said that: "additional objects have been defined which may be referenced by SignedInfo.  </s>
<s> The Manifest element is provided which similarly contains a collection of references and objects (like SignedInfo), but leaves it entirely up to the application which digest or digests it will verify."  </s>
<s> This does not seem crystal clear.  </s>
<s> These additional objects are equivalent to the signed attribuytes from CMS (what don't we use that term as well ?) and thus must be verified by the application.  </s>
<s> In section 4.0, it is mentioned that: SignedInfo does not include explicit signature attributes.  </s>
<s> If an application needs to associate attributes (such as signing time, signing device, etc.) with the signature, it may add an additional Object that includes that data and reference that Object via an ObjectReference.  </s>
<s> It would be very nice to define such "useful attributes" in the document itself.  </s>
<s> A last, but related comment.  </s>
<s> In section 1.3.1 it is said: KeyInfo indicates what key was used to create the signature.  </s>
<s> It is optional because in some applications the key is implied by the circumstances.  </s>
<s> A wide variety of KeyInfo forms are available including certificates, key names, key agreement algorithms and information, etc.  </s>
<s> The keying information is outside of the signed information so that it need not be signed.  </s>
<s> KeyInfo might contain auxiliary information it is not desired to reveal to all signature verifiers.  </s>
<s> If KeyInfo were signed, it would be necessary to pass all of it to all verifiers.  </s>
<s> On the other hand, if it is desired to bind the keying information in to the signature, its digest and a pointer to it can easily be included in the signed information.  </s>
<s> In order to prevent some substitution attacks of certificates holding the same public key value, it is necessary to sign the KeyInfo.  </s>
<s> Providing a standard way to do this (using the equivalent of a signed attribute) would be most useful.  </s>
<s> Denis  </s>
<s> John: I have to take issue with your statement: " One of the advantages of the CMS approach is the clear separation between the security related data (the signed attributes) and the application data (the content)."  </s>
<s> In the XML space this isn't an advantage; in XML we do not need A PRIORI, hard-coded semantics definitions to separate "application-related" data and "security-related" data.  </s>
<s> Furthermore, the underlying mechanics of CMS assume that the entity generating the digital signature knows what information is relevant to the signature verifier for making trust decisions!  </s>
<s> This may be true in the world of PKIX where everyone is required to process and evaluate trust decisions in exactly the same way, but that's not the world of XML and the web.  </s>
<s> Dragging XML signatures back into the limited world scope of CMS is not something we're willing to do.  </s>
<s> --Barbara Fox Microsoft Although, I agree in principal that the type of information carried as CMS attributes can be part of the XML signed Blob.  </s>
<s> One of the advantages of the CMS approach is the clear separation between the security related data (the signed attributes) and the application data (the content).  </s>
<s> With the signed attribute approach, all the data needed by the security process like a signature validation process is readily available at the time of signature validation, without having to decode the signed Blob.  </s>
<s> I support Denis and think if the concept of signedAttributes and unSignedAttributes were added it would add value to the XML signature.  </s>
<s> The signedAttributes and unSignedAttributes should obviously be encoded using XML at the signedData level.  </s>
<s> John Ross -----Original Message----- XML-DSIG  w3c-ietf-xmldsig@w3.org mailto:w3c-ietf-xmldsig@w3.org  </s>
<s> Denis: The XML dsig working group had several months of discussion on this topic ("CMS features") and specifically rejected signed attributes among others.  </s>
<s> In my own postings, I argued that there is no compelling need for attributes (authenticated or not) when you already have the expressive power of XML.  </s>
<s> If a signer wants to make qualified statements about a particular XML blob, then the signer should make those statements in XML (perhaps including a strong reference/hash of the original blob) and sign *that*.  </s>
<s> In any event, you're always signing a particular XML object.  </s>
<s> I think you will also find that while we started with the notion of CMS-style signatures (wrapped only, requiring certificates, etc.) we evolved that model significantly to make it more appropriate to a broad range of web applications.  </s>
<s> These scenarios appear on the W3C page at --Barb -----Original Message----- mailto:Denis.Pinkas@bull.net  </s>
<s> ] This is first version of the document has already a good shape.  </s>
<s> However, I would like to raise several related comments: It would be nice to be able to get the same features as those present in CMS (Cryptographic Message Syntax).  </s>
<s> This seems nearly there, but not completely.  </s>
<s> A major feature of CMS is the concept of signed attributes which should be mirrored in this document.  </s>
<s> In section 2.0, SignedInfo is defined as: the actual data over which the signature is calculated.  </s>
<s> It contains control information (algorithm identifiers, pre-processing transformations) and digest(s) over the object(s) being signed.  </s>
<s> In section 1.3.4 it is said that: "additional objects have been defined which may be referenced by SignedInfo.  </s>
<s> The Manifest element is provided which similarly contains a collection of references and objects (like SignedInfo), but leaves it entirely up to the application which digest or digests it will verify."  </s>
<s> This does not seem crystal clear.  </s>
<s> These additional objects are equivalent to the signed attribuytes from CMS (what don't we use that term as well ?) and thus must be verified by the application.  </s>
<s> In section 4.0, it is mentioned that: SignedInfo does not include explicit signature attributes.  </s>
<s> If an application needs to associate attributes (such as signing time, signing device, etc.) with the signature, it may add an additional Object that includes that data and reference that Object via an ObjectReference.  </s>
<s> It would be very nice to define such "useful attributes" in the document itself.  </s>
<s> A last, but related comment.  </s>
<s> In section 1.3.1 it is said: KeyInfo indicates what key was used to create the signature.  </s>
<s> It is optional because in some applications the key is implied by the circumstances.  </s>
<s> A wide variety of KeyInfo forms are available including certificates, key names, key agreement algorithms and information, etc.  </s>
<s> The keying information is outside of the signed information so that it need not be signed.  </s>
<s> KeyInfo might contain auxiliary information it is not desired to reveal to all signature verifiers.  </s>
<s> If KeyInfo were signed, it would be necessary to pass all of it to all verifiers.  </s>
<s> On the other hand, if it is desired to bind the keying information in to the signature, its digest and a pointer to it can easily be included in the signed information.  </s>
<s> In order to prevent some substitution attacks of certificates holding the same public key value, it is necessary to sign the KeyInfo.  </s>
<s> Providing a standard way to do this (using the equivalent of a signed attribute) would be most useful.  </s>
<s> Denis  </s>
<s> Is there agreement that the equivalent of PKCS-7 or CMS authenticated attributes go into SignatureProperties?  </s>
<s> I do think that the equivalents of CMS authenticated attributes are very valuable in signing applications.  </s>
<s> In particular, in something like a notary service, the most natural form for an "attestation" by a witness is a CMS authenticated attribute.  </s>
<s> An example of what I mean would be something like the following: A) An American notary (no extra legal powers) checks the photographic ID of the customer who wants a signature notarized.  </s>
<s> B) Today, the notary adds the details of the ID to a large bound book which is kept under lock and key.  </s>
<s> C) In CMS or PKCS-7, the natural thing to do would be to add an authenticated attribute for "checked driver's license" or "checked passport" to the base of the notary's signature, with a value containing, among other things, "common name", "issuing jurisdiction", "serial number", and "validity period".  </s>
<s> Losing this capability in XML signing would not, IMHO, be a good thing.  </s>
<s> The notary's signature would be applied to the base document, to the customer's signature, to the signing time, and to the attestations together.  </s>
<s> Tom Gindin  </s>
<s> Your statement assumes that XML signatures need "the equivalent of PKCS-7 or CMS authenticated attributes".  </s>
<s> They don't.  </s>
<s> XML makes things like CMS signed attributes (and unsigned attributes) completely unnecessary and obsolete; when you can exactly express the semantic content you wish to secure as a single XML blob, there's no need to complicate the signature structure with further adornments.  </s>
<s> In your example below, as you point out the notary does not "sign" the base document.  </s>
<s> Rather, the notary signs a new document which includes four elements: (1) a "base" document, (2) customer's signature object on base document, (3) a time-related object (perhaps something like a Surety timestamp object), and (4) other semantic statements made by the notary.  </s>
<s> Together, this compound object, which has its own type and semantics, is then signed by the notary.  </s>
<s> The semantic meaning of the notary-signed object is clear from its type and contents, and the signed statement stands on its own, independent of the customer's signature object (2) referenced inside.  </s>
<s> If I rephrase your question as, "Assuming that I want to use something like CMS signed attributes in my XML-DSIG application, is there agreement that the attributes I define and create go into a SignatureProperties object?",  </s>
<s> I believe the answer to this question is "No.  </s>
<s> It is certainly possible to do it that way, if you so choose, but it's not required."  </s>
<s> --bal Is there agreement that the equivalent of PKCS-7 or CMS authenticated attributes go into SignatureProperties?  </s>
<s> I do think that the equivalents of CMS authenticated attributes are very valuable in signing applications.  </s>
<s> In particular, in something like a notary service, the most natural form for an "attestation" by a witness is a CMS authenticated attribute.  </s>
<s> An example of what I mean would be something like the following: A) An American notary (no extra legal powers) checks the photographic ID of the customer who wants a signature notarized.  </s>
<s> B) Today, the notary adds the details of the ID to a large bound book which is kept under lock and key.  </s>
<s> C) In CMS or PKCS-7, the natural thing to do would be to add an authenticated attribute for "checked driver's license" or "checked passport" to the base of the notary's signature, with a value containing, among other things, "common name", "issuing jurisdiction", "serial number", and "validity period".  </s>
<s> Losing this capability in XML signing would not, IMHO, be a good thing.  </s>
<s> The notary's signature would be applied to the base document, to the customer's signature, to the signing time, and to the attestations together.  </s>
<s> Tom Gindin  </s>
