<s> Hi All, this is a response to a discussion thread in the xmldsig mailing list in Sept last year.  </s>
<s> I was digging through the archive when I found this :) (copied below).  </s>
<s> I am seeking some clarification on what is the current W3C RECOMMENDATION pertaining to the encoding.  </s>
<s> With your current proposed recommendation in sectin 4.4.4, it was mentioned : Escape all occurences of ASCII control characters (Unicode range \x00 - \x20) by replacing them with "\" followed by a two digit hex number showing its Unicode number.  </s>
<s> Since a XML document logically consists of characters, not octets, the resulting unicode string is finally encoded according to the character encoding used for producing the physical representation of the XML document.  </s>
<s> which I take it to mean( please correct me if I am wrong) that for example, a (short) DName [CN=My Name] will translate, in the physical XML document, to [CN=My\20Name].  </s>
<s> However in the draft mentioned the mail below, the Unicode range was 'shortened' to (\x00 - \x1f) which excludes the space (with the exception of the trailing space) So if I have an application that needs to support W3C _proposed recommendation_, should the DName end up like [CN=My\20Name]?  </s>
<s> Just seeking some clarification.  </s>
<s> Regards, Herry.  </s>
<s> From: Joseph Reagle reagle@w3.org  </s>
<s> Geuer-Pollmann geuer-pollmann@nue.et-inf.uni-siegen.de  </s>
<s> , gregor.karlinger@iaik.at , bal@microsoft.com Date: Fri, 14 Sep 2001 12:58:38 -0400 Message-Id: 20010914165839.788E987561@policy.w3.org Subject: Re: X509SubjectName and binary values  </s>
<s> Hi Christian, I would summarize our encoding (assuming the changes  </s>
<s> recently  </s>
<s> discussed on the list) as: Translation from RFC 2253 - XMLDSIG: .  </s>
<s> UTF-8 decode the string.  </s>
<s> .  </s>
<s> Encode characters  ' ' as "\XY". .  </s>
<s> Replace any trailing "\ " in the full dname with  </s>
<s> "\20".  </s>
<s> Translation from XMLDSIG - RFC 2253: .  </s>
<s> Replace any trailing "\20" with "\ ". .  </s>
<s> Replace any "\XY" with the corresponding  </s>
<s> character.  </s>
<s> . UTF-8 encode the string.  </s>
<s> Broadly, this is RFC 2253 without the UTF-8 encoding  </s>
<s> step,  </s>
<s> with all characters  ' ' encoded as "\XY" and any  </s>
<s> trailing  </s>
<s> "\ " in the full dname replaced with "\20".  </s>
<s> Given no objection to my summary/proposal [1], I've moved the escape of whitespace to those only occuring at the end of DNAME as you proposed: $Revision: 1.123 $ on $Date: 2001/09/14 16:55:21 $ * Escape all occurrences of ASCII control characters (Unicode range \x00 - \x [INS: 1f :INS] ) by replacing them with "\" followed by a two digit hex number showing its Unicode number.  </s>
<s> * [INS: Escape any trailing white space by replacing "\ " with "\20".  </s>
<s> :INS] [1]  </s>
<s> To be honest, I would be cautious about the text  </s>
<s> that we have  </s>
<s> in XMLDSIG; it duplicates material from RFC 2253 and  </s>
<s> may lose  </s>
<s> clarity in so doing.  </s>
<s> If you'd like to an improvement, please do!  </s>
<s> Do You Yahoo!? Yahoo!  </s>
<s> Mobile - Jazz up your mobile phone!  </s>
<s> Get funky ringtones and logos!  </s>
<s> Henry,  </s>
<s> If your application needs to support Proposed Rec, then your example DName should be "My\20Name".  </s>
<s> However it is likely that this will change in the Rec.  </s>
<s> Please also follow the current discussion on clarifying the encoding of DNames according to XMLDSIG [1],[2],[3], [4] and its reflection in section 4.4.4.1 of the current working document [5].  </s>
<s> [1] [2] [3] [4]  </s>
<s> [5] http://www.w3.org/Signature/Drafts/xmldsig-core  </s>
<s> /Gregor DI Gregor Karlinger Phone +43 316 873 5541 Institute for Applied Information Processing and Communications Austria  </s>
<s> As an update, there hasn't been any movement on the list for substantive tweaks.  </s>
<s> So what I think we are still looking at is as it is specified in [5].  </s>
<s> I'm still hoping we can squeeze the purely editorial clarification (correcting the statement that says it's RFC2253 conformant and creating its own little subheading) into the resulting Proposed Standard.  </s>
<s> If not, the W3C REC will have the error too but will have this quickly documented in the erratum.  </s>
<s> Joseph Reagle Jr. http://www.w3.org/People/Reagle/ W3C Policy Analyst mailto:reagle@w3.org  </s>
<s> IETF/W3C XML-Signature Co-Chair http://www.w3.org/Signature/ W3C XML Encryption Chair http://www.w3.org/Encryption/2001/  </s>
