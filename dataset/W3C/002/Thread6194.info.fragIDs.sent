<s> Hi Regarding "XPath 2.0: No change required.  </s>
<s> The id() function recognizes both DTD- and Schema-declared identifiers, and as such would also recognize xml:id attributes identified with a minimally conforming schema processor."  </s>
<s> Scenario: I receive an XML document which includes xml:ids, and neither contains any (DTD, WXS) internal subset nor does it reference a DTD or XSD or any other schema instance which modifies it (I might validate it with Relax NG).  </s>
<s> I process the doc using a fully conforming Basic XSLT Processor [1] which thusly is not schema-aware.  </s>
<s> id() [2] should return element nodes with matching xml:id value.  </s>
<s> AFAICS this requires a change/addition to XPath 2.0 [3] (currently in last call), but I might miss something.  </s>
<s> Tobi [1] [2] [3] Vim users, don't forget to  </s>
<s> [2] states "those elements that are in the same document as the context node, and that have an ID value equal to one or more of the IDREFs in the list" How is "element having an ID value defined ?  </s>
<s> If the definition is that if hosts an attribute with an [attribute type] property of type ID or  </s>
<s> a [type definition] property of type ID, then there is no change needed.  </s>
<s> If they define IDness in a different way then yes that would not work  </s>
<s> and require coordination.  </s>
<s> Since I expect the XPAth2 data model to be based on the Infoset,  </s>
<s> section 6.3.3.  </s>
<s> lists the [attribute type] property and the ID value but I could not find any definition of "element ID value" in the datamodel spec, it is unclear what the id() function really references.  </s>
<s> Daniel  </s>
<s> Daniel Veillard | Red Hat Desktop team http://redhat.com/ veillard@redhat.com  </s>
<s> | libxml GNOME XML XSLT toolkit http://xmlsoft.org/  </s>
<s> [thread:  </s>
<s> The XPath 2 guys might answer that.  </s>
<s> So in the scenario I describe, id('foo') would return the element with advantage of xml:id will be to have IDs without relying on any schema code (neither external nor internal) or any specific schema language).  </s>
<s> I don't really know, in this specific case I'm merely a user describing a scenario and an expectation.  </s>
<s> then yes that would not work and require coordination.  </s>
<s> If coordination is required then last call seems to be a good period for you xml:id guys to work this out with the XPath/XSLT people.  </s>
<s> Since I expect the XPAth2 data model to be based on the Infoset,  </s>
<s> I thought it's different (XPath 1 was diff IIRC), but can't remember; and don't forget that at least one type of conforming XSLT 2 processor is not schema-aware.  </s>
<s> If that's the case then additional specification and clarification is needed as well.  </s>
<s> I think it's reasonable to expect id() to return elements with matching xml:id values (as it does for attributes which are defined (eg in an internal DTD subset) to be IDs), this should get specified somewhere.  </s>
<s> Tobi Vim users, don't forget to  </s>
