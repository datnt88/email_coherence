<s> This message summarizes discussions about Advanced Collections Resources from the 42nd IETF in Chicago.  </s>
<s> It includes items from the BOF for Advanced Collections Protocol and the WebDAV WG meeting itself.  </s>
<s> The items are grouped into three categories: I. Requirements for references II.  </s>
<s> Protocol for references III Ordered collections.  </s>
<s> I solicit the opinions of the list on these points.  </s>
<s> When replying, should you choose to include the body of this message in your reply, please edit it to have only as little text as necessary to show the context.  </s>
<s> I. Requirements for references: 1. Possible Requirement for hiding information.  </s>
<s> Steve Cousins suggests possible requirement, that creator of a reference be able to hide the location of the target.  </s>
<s> 2. ref. integrity requirement.  </s>
<s> Roy Fielding thinks that there should be choice about whether deleting the target of a direct reference deletes all (direct) references.  </s>
<s> 3. Issue: Should access control of references be distinct from those of target?  </s>
<s> 4. Issue: Should the owner of a resource should be able to prevent creation of references to it via ACL?  </s>
<s> This would affect requirements for ACL, not ACR. 5. Mike Oliver (Open Text) thinks there might be a need for references that pass some but not all operations.  </s>
<s> This would certainly affect the  </s>
<s> requirements.  </s>
<s> He will send an example to the list.  </s>
<s> 6. Larry Masinter thinks the documents are not clear about whether references are to resources or to URIs II.  </s>
<s> Protocol for references 1. Define new property dav:references which provides backpointers from a target to all resources that refer to it.  </s>
<s> (This was actually first proposed in email just prior to the meeting, see This property would be live on those servers that choose to support it, and dead on others.  </s>
<s> Even when the property is dead, it is useful to provided a well known standard name for this property.  </s>
<s> Add under "Security considerations" Applications should not operate on the references property without ensuring either that it is live on the server, or ensuring that only trusted applications write this property.  </s>
<s> For example, a program that tried to enforce referential integrity by deleting references to targets that are to be deleted could be tricked into deleting a resource that should not be deleted by an attacker who set the backpointer on a resource to point to the to-be-deleted resource.  </s>
<s> 2. Redefine DAV's semantics for MOVE to insert a step between the COPY and the DELETE.  </s>
<s> This inserted step, called UPDATE, updates any references to the resource, if possible, changing the ref-target property to reflect the new location.  </s>
<s> This is an optional step, the server is not required to provide it.  </s>
<s> The update is not affected by locks, because reftarget is a live property.  </s>
<s> Issue: moving a directory tree could be expensive (must update many references.) Issue: possible security exposure: Suppose resource R, owned by principal P is a reference to a target T which was initially in a public place but is now moved to a private place that P can't access.  </s>
<s> Does the reftarget on R get updated?  </s>
<s> Yes, that doesn't mean P can still read T, but P still can see the location of T, which is perhaps an exposure.  </s>
<s> On the other hand, it's not anything new, since P had to know that T existed when the ref was first created.  </s>
<s> but it means P knows the private location.  </s>
<s> Solution: owner of target should COPY the resource, then delete the old one.  </s>
<s> 3. Get rid of "passthrough" property, instead, just define a dav:reftype which can be either dav:direct or dav:indirect.  </s>
<s> Rationale: passthrough would have allowed client to create paradoxical references, e.g. which passed through GET but not HEAD.  </s>
<s> For a useful direct reference, there seems to be only one sensible set of values for what should be passed through, and what not, namely affect target: GET, HEAD, PUT, POST, PROPFIND, PROPPATCH affect reference: DELREF, DELETE, COPY, or MOVE except that the returned headers from GET and HEAD include extra headers (Ref-Type and Ref-Target) added by the reference itself, which thus allow the client to discover that the reference is a reference.  </s>
<s> 4. Question: Can a direct ref point to a direct ref? Yes.  </s>
<s> All the Ref-Type and Ref-Target headers are returned.  </s>
<s> This is sufficient for the client to determine where the reference points to.  </s>
<s> 5. Editorial: The protocol document, section 3.1 should say that a direct reference enables *different* efficiency tradeoffs, not that it is strictly *better*.  </s>
<s> This is because when a direct reference is used, clients (and proxies) are not aware that two references have the same content, and hence caching is duplicated.  </s>
<s> 6. Get rid of DELREF Since DELETE deletes a reference no matter what type we don't need DELREF III.  </s>
<s> Ordered collections 1.  </s>
<s> The LOCK method must also take headers for assigning initial position in ordering, because LOCK creates (at least temporarily) a new item in the collection.  </s>
<s> 2. Change the protocol document to tell clients that they SHOULD NOT dereference this property.  </s>
<s> 3. Rename dav:arbitary to dav:custom Some feel that the name dav:custom better reflects the meaning of a collection that is ordered, but where the ordering is ad-hoc and known only to a human.  </s>
<s> It allows for four possible conditions of ordering 1) not supported on server.  </s>
<s> No orderingtype prop 2) supported, but this collection is not ordered.  </s>
<s> dav:unordered 3) dav:custom 4) some other URL 4. Question: What was the objection to supporting ORDERPATCH with more than one argument?  </s>
<s> 3. Issue: Should access control of references be distinct from those of target?  </s>
<s> Yes.  </s>
<s> SQL views are a good example of a similar concept.  </s>
<s> 4. Issue: Should the owner of a resource should be able to prevent creation of references to it via ACL?  </s>
<s> This would affect requirements for ACL, not ACR.  </s>
<s> No, creating a reference to a resource should only require read access to the resource.  </s>
<s> In general, the ACL scheme needs to be simplified from ACLs on every  </s>
<s> DAV method to ACLs on the effect the DAV method has on the state of the resource.  </s>
<s> Basically CRUD plus Execute like in most operating systems.  </s>
<s> Probably not even that--a reference presents no more risk to the resource than a link.  </s>
<s> |John (Francis) Stracke |My opinions are my own.|S/MIME supported | |Software Retrophrenologist|=========================================| |Netscape Comm.  </s>
<s> Corp. |Beware of wizards, for you are crunchy | |francis@netscape.com  </s>
<s> | and good with ketchup.  </s>
<s> | New area code for work number: 650  </s>
