<s> Hello all, I am writing to ask (esp.  </s>
<s> implementers) about the feasibility of a behavioral tweak to c14n.  </s>
<s> In the XPath data model, a non-empty default namespace is represented by a namespace node, but an empty default namespace is represented by the absence of a namespace node.  </s>
<s> Therefore, when there is no default namespace node in a node-set, we cannot tell whether that is so because it was excluded or because the namespace declaration is actually empty.  </s>
<s> To deal with this issue, I start out the namespace context of every element by putting xmlns="" if the element has no default namespace.  </s>
<s> Someone expressed minor annoyance over the verbosity of this.  </s>
<s> Question is, do you want it changed to the following:  </s>
<s> If there is no default namespace node, then if the parent is omitted from the node-set or if the parent's default namespace is non-empty, then generate an xmlns=""  </s>
<s> Thanks, John Boyer Development Team Leader, Distributed Processing and XML PureEdge Solutions Inc. Creating Binding E-Commerce v: 250-479-8334, ext.  </s>
<s> 143 f: 250-479-3772 1-888-517-2675 http://www.PureEdge.com  </s>
<s> Hi John,  </s>
<s> If the parent's default namespace is non-empty, shouldn't this namespace be propagated to the child?  </s>
<s> Regards, Gregor Gregor Karlinger Phone +43 316 873 5541 Institute for Applied Information Processing and Communications Austria  </s>
<s> Hi Gregor, If a parent has a non-empty default namespace declaration, and the child does not actually have xmlns="" declared, then the XPath data model creates a non-empty default namespace node *in the child*.  </s>
<s> In other words, the full namespace context of an element (e.g. the child) is represented in the namespace axis of the element.  </s>
<s> However, an empty default namespace is represented as the absence of a node  </s>
<s> with local name xmlns and empty URI.  </s>
<s> We can't tell whether the element source explicitly declared xmlns="" or inherited it from an ancestor.  </s>
<s> To solve this problem, I've simply said that when there is no default namespace node (empty URI, local name of xmlns), then I will output xmlns="".  </s>
<s> This ensures there is no ambiguity (a good thing for c14n), but it adds a lot of xmlns="" to the document.  </s>
<s> So, although there is no criticality in this issue, if the WG would prefer to have more intelligence w.r.t. handling the default namespace AND if the implementers indicate it is easy to do so, then I am amenable to a change.  </s>
<s> Thanks, John Boyer Development Team Leader, Distributed Processing and XML PureEdge Solutions Inc. Creating Binding E-Commerce v: 250-479-8334, ext.  </s>
<s> 143 f: 250-479-3772 1-888-517-2675 http://www.PureEdge.com  </s>
<s> http://www.pureedge.com/  </s>
<s> [mailto:w3c-ietf-xmldsig-request@w3.org]On  </s>
<s> Behalf Of Gregor Karlinger Hi John,  </s>
<s> If the parent's default namespace is non-empty, shouldn't this namespace be propagated to the child?  </s>
<s> Regards, Gregor Gregor Karlinger Phone +43 316 873 5541 Institute for Applied Information Processing and Communications Austria  </s>
<s> Hi John,  </s>
<s> * C14n explicitely declares the full namespace context for an element.  </s>
<s> I think to add a "xmlns=''" if the element is in the default namespace context, is in accordance with this principal behaviour.  </s>
<s> * C14n's purpose is to generate a somewhat unambigous physical representation of a logical XML structure, and not to be as compact as possible.  </s>
<s> So I don't think there is a need for change.  </s>
<s> Regards, Gregor Gregor Karlinger Phone +43 316 873 5541 Institute for Applied Information Processing and Communications Austria  </s>
