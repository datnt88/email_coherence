<s> The latest draft tweak required the SignedInfo c14nAlg element to be present.  </s>
<s> The more I think about this the more I think that rather than being mandatory, this element should just be eliminated.  </s>
<s> We know and are specifying the syntax and processing of SignedInfo.  </s>
<s> I see no reason not to just specify thorough canonicalization, such as "DOM Canon".  </s>
<s> True, this is not necessary in some benign environments.  </s>
<s> In some static binary clean environments, you might even be able to get away with Null canonicalization of SignedInfo.  </s>
<s> But we know and are specifying enough about SignedInfo that we can assure that thorough canonicalization will not hurt Signatures now or in the future.  </s>
<s> And such canonicalization might be necessary to make some signatures robust enough to not break when they are processed through more obstreperous environments.  </s>
<s> In other words, I don't see enough of a downside to make it worth the additional complexity of having to specify the SignedInfo c14nAlg.  </s>
<s> Thanks, Donald Donald E. Eastlake 3rd +1 914-276-2668 dee3@torque.pothole.com  </s>
<s> 65 Shindegan Hill Road, RR#1 +1 914-784-7913(work) dee3@us.ibm.com  </s>
<s> Carmel, NY 10512 USA  </s>
<s> I think Don is absolutely right.  </s>
<s> If one is signing XML content that is meant to be understood and processed at the XML level, one needs to use an XML-aware canonicalization algorithm.  </s>
<s> I know I'm risking raising this subject too many times but here goes again in detail.  </s>
<s> Suppose you have some XML content, e.g.  </s>
<s> For processing purposes, the above XML content could be equivalently expressed as Amount country="Canada" currency="dollars" 100.00 /Amount Note the changes to namespace, order of attributes, and intra-element whitespace.  </s>
<s> Running a hash algorithm over the two instances would result in different hashes.  </s>
<s> This is alright if you care about each byte but problematic if you only care at the XML level.  </s>
<s> It is problematic because at the XML-level, the two ways of expressing the Cheque element are equivalent; there is no change in the XML semantics.  </s>
<s> To me, the SignedInfo element is one type of XML content that we need to canonicalize at the XML level rather than at just the byte/character level.  </s>
<s> Hence, I strongly favour a DOM canonicalization approach designed with the principles like those expressed in the DOMHASH Internet Draft ("http://www.ietf.org/internet-drafts/draft-ietf-trade-hiroshi-dom-hash-03.t xt").  </s>
<s> Using DOM canonicalization, one wouldn't get the false negatives that would likely occur using lower forms of canonicalization.  </s>
<s> Note: I have no problem supporting null and minimal canonicalization methods for the content of Transformation elements.  </s>
<s> Ultimately, the question ultimately comes down to whether we want and to be equivalent.  </s>
<s> Note that only the namespace, intra-element whitespace and attribute order are different.  </s>
<s> The content of SignatureValue remains the same in both (as it should) despite the XML surface string differences.  </s>
<s> Ed The latest draft tweak required the SignedInfo c14nAlg element to be present.  </s>
<s> The more I think about this the more I think that rather than being mandatory, this element should just be eliminated.  </s>
<s> We know and are specifying the syntax and processing of SignedInfo.  </s>
<s> I see no reason not to just specify thorough canonicalization, such as "DOM Canon".  </s>
<s> True, this is not necessary in some benign environments.  </s>
<s> In some static binary clean environments, you might even be able to get away with Null canonicalization of SignedInfo.  </s>
<s> But we know and are specifying enough about SignedInfo that we can assure that thorough canonicalization will not hurt Signatures now or in the future.  </s>
<s> And such canonicalization might be necessary to make some signatures robust enough to not break when they are processed through more obstreperous environments.  </s>
<s> In other words, I don't see enough of a downside to make it worth the additional complexity of having to specify the SignedInfo c14nAlg.  </s>
<s> Thanks, Donald Donald E. Eastlake 3rd +1 914-276-2668 dee3@torque.pothole.com  </s>
<s> 65 Shindegan Hill Road, RR#1 +1 914-784-7913(work) dee3@us.ibm.com  </s>
<s> Carmel, NY 10512 USA  </s>
<s> I agree completely!  </s>
<s> -Greg The latest draft tweak required the SignedInfo c14nAlg element to be present.  </s>
<s> The more I think about this the more I think that rather than being mandatory, this element should just be eliminated.  </s>
<s> We know and are specifying the syntax and processing of SignedInfo.  </s>
<s> I see no reason not to just specify thorough canonicalization, such as "DOM Canon".  </s>
<s> True, this is not necessary in some benign environments.  </s>
<s> In some static binary clean environments, you might even be able to get away with Null canonicalization of SignedInfo.  </s>
<s> But we know and are specifying enough about SignedInfo that we can assure that thorough canonicalization will not hurt Signatures now or in the future.  </s>
<s> And such canonicalization might be necessary to make some signatures robust enough to not break when they are processed through more obstreperous environments.  </s>
<s> In other words, I don't see enough of a downside to make it worth the additional complexity of having to specify the SignedInfo c14nAlg.  </s>
<s> Thanks, Donald Donald E. Eastlake 3rd +1 914-276-2668 dee3@torque.pothole.com  </s>
<s> 65 Shindegan Hill Road, RR#1 +1 914-784-7913(work) dee3@us.ibm.com  </s>
<s> Carmel, NY 10512 USA  </s>
