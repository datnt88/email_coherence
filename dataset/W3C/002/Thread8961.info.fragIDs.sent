<s> Exclusive XML Canonicalization Becomes a W3C Proposed Recommendation 24 May 2002: W3C is pleased to announce the advancement of Exclusive XML Canonicalization Version 1.0 to Proposed Recommendation.  </s>
<s> Produced by the joint IETF/W3C XML Signature Working Group on digital signatures, the specification provides a method to exclude ancestor context from a canonicalized subset of an XML document.  </s>
<s> Read about XML Signature.  </s>
<s> W3C Proposed Recommendation 24 May 2002 This version: Latest version: Previous version: Authors/Editors: John Boyer, PureEdge Solutions Inc., jboyer@PureEdge.com  </s>
<s> Donald E. Eastlake 3rd, Motorola, Donald.Eastlake@Motorola.com Joseph Reagle, W3C, reagle@w3.org  </s>
<s> Hi Joseph,  </s>
<s> I think there is one paragraph of the exclusive c14n spec that is unclear:  </s>
<s> Section 3, item 3: For every namespace node with a prefix that does not appear in the InclusiveNamespacePrefix List, a namespace declaration is output at every output element where that prefix is visibly utilized and /that prefix and its value does not appear in the nearest output ancestor with the same prefix/.  </s>
<s> I presume that 'output element' means an element in the node set; i.e., non-inclusive namespace nodes are never emitted if their parent element is not in the node set.  </s>
<s> I presume that 'with the same prefix' means that the namespace prefix is visibly utilized.  </s>
<s> And, I presume that 'does not appear' means that the element does not have a namespace node in the node set with the same local name and value.  </s>
<s> I would suggest, if it is not too late, the following more-explicit text (which is basically the language from c14n adapted to our needs):  </s>
<s> A namespace node N with a prefix that does not appear in the InclusiveNamespacePrefix is ignored if any of the following conditions are met: 1.  </s>
<s> Its parent element is not in the node set.  </s>
<s> 2. It is not visibly utilized by its parent element.  </s>
<s> 3. The nearest ancestor element of its parent element that visibly utilizes the namespace prefix and is in the node-set has a namespace node in the node-set with the  </s>
<s> same local name and value as N.  </s>
<s> This is not a change, per se, but a clarification of the text.  </s>
<s> If we can't change the text at this stage, maybe this should be an erratum/clarification.  </s>
<s> Our current text is otherwise open to interpretation.. Merlin r/reagle@w3.org/2002.05.24/15:19:44  </s>
<s> After thinking about it, I think your text is more clear.  </s>
<s> I should be able to get the following into the REC (two small tweaks on your text): 3. A namespace node N with a prefix that does not appear in the InclusiveNamespacePrefix List is ignored if any of the following conditions are met: 1.  </s>
<s> Its parent element is not in the node set.  </s>
<s> 2. It is not visibly utilized by its parent element.  </s>
<s> 3. The output ancestor visibly utilizes the namespace prefix and has a namespace node in the node-set with the same namespace prefix and value as N.  </s>
<s> r/reagle@w3.org/2002.05.28/17:30:59  </s>
<s> I don't quite get 3. How about: The nearest output ancestor of its parent element that visibly utilizes the namespace prefix has a namespace node in the node-set with the same namespace prefix and value as N.  </s>
<s> merlin  </s>
<s> Ok. $Revision: 1.66 $ on $Date: 2002/05/28 22:05:01 $ GMT by $Author: reagle $  </s>
