<s> Hi, we just installed JTidy(R6) at work today.  </s>
<s> We added the Tidy.jar to the environment and created a wrapper Class to ease acess.  </s>
<s> The local JUnit test worked fine.  </s>
<s> But acessing the file over RMI (the method call comes from an EJB) we get following stacktrace: Mi Mai 16 16:42:46 GMT+02:00 2001: I EJB JAR deployment c:/dev/fbs/application/fbs/serverclasses/fbs_session_finstral_wl51.jar  </s>
<s> Exception in non-transactional EJB invoke: java.lang.IllegalAccessError: try to access field org.w3c.tidy.ParserImpl._parseHead  </s>
<s> from class org.w3c.tidy.ParserImpl$ParseHTML at org.w3c.tidy.ParserImpl$ParseHTML.parse(ParserImpl.java) at org.w3c.tidy.ParserImpl.parseDocument(ParserImpl.java) at org.w3c.tidy.Tidy.parse(Tidy.java)  </s>
<s> at de.sitewaerts.futuna.common.XHTMLHandler.parseHTMLtoXML(XHTMLHandler.java:58 at de.sitewaerts.futuna.ejb.session.GuiServiceBean.getContentsGuiWrapper(GuiSer  </s>
<s> viceBean.java:2212)  </s>
<s> at de.sitewaerts.futuna.ejb.session.GuiServiceBean.getContentsGuiWrapper(GuiSer  </s>
<s> viceBean.java:2091)  </s>
<s> at de.sitewaerts.futuna.ejb.session.GuiServiceBeanEOImpl.getContentsGuiWrapper(  </s>
<s> GuiServiceBeanEOImpl.java:918) at de.sitewaerts.futuna.ejb.session.GuiServiceBeanEOImpl_WLSkel.invoke(GuiServi ceBeanEOImpl_WLSkel.java:1040) at weblogic.rmi.extensions.BasicServerObjectAdapter.invoke(BasicServerObjectAda pter.java:347) at weblogic.rmi.extensions.BasicRequestHandler.handleRequest(BasicRequestHandle r.java:86) at weblogic.rmi.internal.BasicExecuteRequest.execute(BasicExecuteRequest.java:1 5) at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:129)  </s>
<s> de.sitewaerts.futuna.common.XHTMLHandler:  </s>
<s> being our wrapper class de.sitewaerts.futuna.ejb.session.GuiServiceBean:  </s>
<s> being our Session Bean The Application Server is weblogic 5.1.  </s>
<s> I found a mail stated from Feb 2001 discussing the same topic, but no remedy was seemed to be found.  </s>
<s> It said something about switching back to R5 which I did.  </s>
<s> The Library seems to work fine now, but its too buggy for a normal usage.  </s>
<s> What can I do?  </s>
<s> Thanx a lot  </s>
<s> Stefan Siprell Software-Development  </s>
<s>  </s>
<s> sitewaerts GmbH  </s>
<s> Hebelstr. 15 76133 Karlsruhe Germany  </s>
<s> Stefan -- From the sources, recompile Tidy.java which should recompile all of the other .java  </s>
<s> files and then build your own .jar.  </s>
<s> This should fix the problem.  </s>
<s> Gary  </s>
<s> This is not a static linking or compile problem.  </s>
<s> This error is caused by classloader behavior.  </s>
<s> Many frameworks define their own classloaders and can even reload classes as needed.  </s>
<s> This can sometimes cause problems with statics accessed through inner classes.  </s>
<s> The best thing to do is to change JTidy so it no longer does that.  </s>
<s> Russell Gold | "... society is tradition and order russgold@acm.org  </s>
<s> | and reverence, not a series of cheap  </s>
<s> bargains between selfish interests."  </s>
