<s> Hi, in this mail, I'll try to clarify both the current state of things and what Geoff and I are actually proposing.  </s>
<s> Let's start with some facts that we hopefully all agree on.  </s>
<s> 1) Multiple URIs mapping to the same resource are not introduced by the BIND spec.  </s>
<s> They've been a fact of live for HTTP per se, are explicily mentioned in RFC2518, and can be created as side effect in some RFC3253 operations.  </s>
<s> The BIND spec doesn't introduce bindings as new feature; it only clarifies some namespace operations, adds authoring methods for *explicitly* creating new bindings; adds discovery mechanisms and error marshalling.  </s>
<s> 2) Locking is a useful, but *optional* feature of RFC2518.  </s>
<s> Many clients require locking to be able to author a resource, for instance MS Office.  </s>
<s> However, there are valid server implementation scenarios where locks won't be available, and clients will have to cope with that as well.  </s>
<s> In many cases, strong ETags are more useful than locking.  </s>
<s> Ideally a server provides both.  </s>
<s> 3) RFC3253, RFC3648 and ACL (RFC to be published soon) work both with and without locking.  </s>
<s> In particular, they don't specify any specific lock behaviours; the just rely on the base document RFC2518.  </s>
<s> 4) The locking definitions in RFC2518 need to be updated; most if not all issues are on the RFC2518 issues list ( http://www.webdav.org/wg/rfcdev/issues.htm ).  </s>
<s> This includes extensions (DAV:lockroot, If header syntax), clarifications (LOCK operation returning Lock-Token header, DAV:owner content...), simplifications (get rid of special lock-null resources, simplify lock refresh).  </s>
<s> It also should include an updated general description of write lock behaviour, which should be identical to what we wrote down in GULP ( http://lists.w3.org/Archives/Public/w3c-dist-auth/2004JanMar/0001.html ).  </s>
<s> Given this base, I personally conclude: A) We should avoid a situation where optional specs need to specifically define interaction with other optional features.  </s>
<s> Rather than that, that interaction should follow from the definition in the base spec.  </s>
<s> If the base locking model is clear about where state resides, and what a lock protects, the additional semantics for new features (such as versioning, or ACL) will follow automatically.  </s>
<s> A1) Example: the ACL spec that the IETF just accepted does not state that if a resource is locked, you'll need to provide the lock token in the request to modify the ACL.  </s>
<s> It doesn't need to, because the spec states that the ACL belongs to the state of the resource.  </s>
<s> Similar considerations apply to versioning and ordering methods.  </s>
<s> B) WebDAV's locking definitions needs to be fixed and updated.  </s>
<s> Optimally, this would be done in RFC2518bis; but for reasons that I currently don't understand this spec doesn't seem to progress at all.  </s>
<s> C) A big part of what changes in RFC2518bis relates to locking.  </s>
<s> On the other hand, locking is the area where we have/had the most interoperability problems.  </s>
<s> If we can't get RFC2518bis finished in the near future, it makes sense to extract all this information into a separate document (starting at standards level "proposed").  </s>
<s> D) This separate document shouldn't be an appendix to BIND, because it's relevant to all WebDAV specs, not only BIND.  </s>
<s> In particular, people not interested in BIND may not even be aware of this appendix.  </s>
<s> For the same reason, we should now last-call BIND.  </s>
<s> This is the best way to find out about other possible issues unrelated to the locking question.  </s>
<s> E) If we decide to clarify/update outside the RFC2518bis spec, we need support for that activity from the WG in general and the RFC2518bis authors in particular.  </s>
<s> A "fork" in the locking spec is a no-no.  </s>
<s> Whatever the new document says *must* be repeated (modulo fixes) in RFC2518bis, unless... F) ...we publish a standalone document that fully specifies WebDAV locking and updates RFC2518 (in which case, locking can simply be removed from RFC2518bis).  </s>
<s> This is what Geoff and I are both proposing *and* volunteering to do.  </s>
<s> G) It was said that this very discussion is the reason for the slow progress of RFC2518bis.  </s>
<s> In fact, this discussion has started *because* of the slow progress.  </s>
<s> Removing the optional locking feature from RFC2518bis will make that spec more manageable and will cause it to contain much less *changes* from RFC2518, probably making the transition to "Draft" much easier.  </s>
<s> Ted, Patrik: I'll assume that removing an optional feature from a spec when going from "Draft" to "Proposed" is absolutely ok.  </s>
<s> If I'm wrong here, please clarify.  </s>
<s> Feedback appreciated, Julian  </s>
<s> Hi all.  </s>
<s> Three weeks ago, I have tried to summarize this dicussion in the following mail...: Unfortunately, there hasn't been any feedback at all.  </s>
<s> I'd like to think that this means that everybody agrees, but realistically it probably means that people are either getting tired of this discussion (no new arguments), or for reasons unclear to me prefer the WG not to make any progress at all.  </s>
<s> Geoff and I have volunteered to author a standalone WebDAV Locking specification, and I haven't seen any other proposal that would both resolve the current situation and have people volunteering to implement it.  </s>
<s> Unless people can think of new arguments, I'd propose that the WG simply votes on the issue.  </s>
<s> To restate our proposal: 1) We will *not* add locking discussion to BIND (in fact, we may want to remove some locking-specific preconditions).  </s>
<s> 2) We'll extract all parts relevant to Locking from RFC2518, integrate GULP and resolve all locking related issues from the RF2518 issues list, and publish this as a separate LOCKING document (starting as Proposed standard updating RFC2518).  </s>
<s> 3) As a consequence, the authors of RFC2518bis should remove the locking part of the specification (once both RFC2518bis becomes a Draft standard and LOCKING is a Proposed standard, it will be relatively simple to advance LOCKING as well).  </s>
<s> 4) draft-ietf-webdav-bind-05 as published can be wg-last-called after possibly referencing the LOCKING spec.  </s>
<s> currently is a simple container of all stuff that would go into the LOCKING spec (RFC2518 parts, open issues, GULP). is an experimental edit of RFC2518 demonstrating the effects of removing Locking from the protocol.  </s>
<s> Feedback appreciated.  </s>
<s> Best regards, Julian  </s>
<s> Julian, Great approach in my opinion.  </s>
<s> Locking is by far the worst thing about implementing WebDAV.  </s>
<s> I had no plans at all to implement it since my WebDAV back end already supporting all of the locking features I needed.  </s>
<s> But I was forced to implement it because some WebDAV clients (e.g. MacOS X) won't allow any writes unless locking is implemented.  </s>
<s> Thanks for your work on this.  </s>
<s> John DeSoi, Ph.D.  </s>
