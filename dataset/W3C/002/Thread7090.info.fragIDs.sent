<s> Hi,  </s>
<s> I am trying to find the best way to represent a windows share UNC as a file:// URI and am not having much luck finding a definite example on the net so I hope here is a good place to ask.  </s>
<s> If I have a windows share called //myshare/mydir then in windows explorer typing both of these in to the address bar resolves to the correct location  </s>
<s> file:////myshare/mydir  </s>
<s> file://myshare/mydir  </s>
<s> but the path segment of these is different and the file://myshare/mydir is only valid with regard to computers that are in the same windows domain.  </s>
<s> also if I use file:////myshare/mydir then the current rfc tells me that if there is no authority then //authority can be removed with would leave with file://myshare/mydir witch is not the same URI.  </s>
<s> Also the ABNF has the rule path-abs ; begins with "/" but not "//" witch I guess should prevent the above from happening.  </s>
<s> I am guessing the answer should be that //myshare/mydir should be considered a path-abempty and so I should use file:////myshare/mydir and don't remove // empty authority if the path starts with // when writing out the complete URI Is this correct?  </s>
<s> thanks pascal  </s>
<s> For the perl URI module I decided to use the second form.  </s>
<s> The first one does not give sensible answers if combined with relative URIs.  </s>
<s> Try to resolve these according to the RFC 2396 rules:  </s>
<s> abs("../otherdir", "file:////myshare/mydir");  </s>
<s> abs("../../otherdir", "file:////myshare/mydir"); abs("../../../otherdir", "file:////myshare/mydir"); Regards, Gisle Aas  </s>
<s> Hi, I'd suggest you look at the SMB File Sharing URI Scheme: ftp://ftp.ietf.org/internet-drafts/draft-crhertel-smb-url-06.txt which includes the following on page 13: 7. The Relationship Between the SMB URI and the UNC Format Some operating systems support a format known as Universal Naming Convention (UNC).  </s>
<s> UNC is a means for identifying network resources.  </s>
<s> SMB is one of the protocols supported by UNC.  </s>
<s> In general, a UNC string specifying a resource available via SMB protocol can be converted into an SMB URI string by simply adding the "smb:" or "cifs:" prefix and reversing the direction of all of the separating slashes.  </s>
<s> For example: UNC form URI form \\corgis\docs\ smb://corgis/docs/ \\corgis\docs\jolyon\ smb://corgis/docs/jolyon/ \\corgis\docs\jolyon\rabbit.txt smb://corgis/docs/jolyon/rabbit.txt  </s>
<s> Cheers, - Ira Ira McDonald (Musician / Software Architect) Blue Roof Music / High North Inc PO Box 221 Grand Marais, MI 49839 Hi, I am trying to find the best way to represent a windows share UNC as a file:// URI and am not having much luck finding a definite example on the net so I hope here is a good place to ask.  </s>
<s> If I have a windows share called //myshare/mydir then in windows explorer typing both of these in to the address bar resolves to the correct location  </s>
<s> file:////myshare/mydir  </s>
<s> file://myshare/mydir but the path segment of these is different and the file://myshare/mydir is only valid with regard to computers that are in the same windows domain.  </s>
<s> also if I use file:////myshare/mydir then the current rfc tells me that if there is no authority then //authority can be removed with would leave with file://myshare/mydir witch is not the same URI.  </s>
<s> Also the ABNF has the rule path-abs ; begins with "/" but not "//" witch I guess should prevent the above from happening.  </s>
<s> I am guessing the answer should be that //myshare/mydir should be considered a path-abempty and so I should use file:////myshare/mydir and don't remove // empty authority if the path starts with // when writing out the complete URI Is this correct?  </s>
<s> thanks pascal  </s>
<s> Just to add to the chorus, that's what I implemented in 4Suite.  </s>
<s> And when interpreting a URI as a Windows path, I treat file://myshare/mydir file:////myshare/mydir the same; they both mean UNC path \\myshare\mydir.  </s>
<s> -Mike  </s>
