To alleviate concerns expressed in [1], I've tweaked the serialization of text, PI and namespace/attribute nodes (attached). 
I also clarified the namespace node ordering, and I set apart the QName definition and reiterated the parsing requirement. 
[1] By the way, might we expect to have a new draft prior to the Victoria FTF? 
Thanks, John Boyer Software Development Manager PureEdge Solutions, Inc. (formerly UWI.Com) Creating Binding E-Commerce jboyer@PureEdge.com 
In message "XPath transform tweak and Draft before FTF" 
li b Namespace and Attribute Nodes- /b a space, the node's QName, an equals sign, an open double quote, the modified string value, and a close double quote. 
The string value of the node is modified by replacing all ampersands (&amp;amp;) with code &amp;amp;amp; /code , all double quote characters with code &amp;amp;quot; /code , and all whitespace characters (#x9, #xA, #xD, and #x20) with two digit hexadecimal character references except for #x20 characters with no preceding #x20. 
/li li b Text Nodes- /b the string value, except all ampersands are replaced by code &amp;amp;amp; /code , all open angle brackets () are replaced by code  /code , and all #xD characters are replaced by code &amp;amp;#x0D; /code . 
/li 
Clarify how to express hexadecimal character references, please. 
- A-F must be capital letters or not. 
- Preceding '0' is allowed or not. 
TAMURA Kent @ Tokyo Research Laboratory, IBM 
Hi TAMURA-san, The "two digit" meant put a leading 0 for values of 0F and less, but I should've said 'upper case' for the letters. 
Thanks, John Boyer Software Development Manager PureEdge Solutions, Inc. (formerly UWI.Com) Creating Binding E-Commerce jboyer@PureEdge.com 
[mailto:w3c-ietf-xmldsig-request@w3.org]On 
Behalf Of TAMURA Kent In message "XPath transform tweak and Draft before FTF" 
li b Namespace and Attribute Nodes- /b a space, the node's QName, an 
equals sign, 
an open double quote, the modified string value, and a close double quote. 
The string value of the node is modified by replacing all ampersands 
(&amp;amp;) with code &amp;amp;amp; /code , 
all double quote characters with code &amp;amp;quot; /code , and all 
whitespace characters 
(#x9, #xA, #xD, and #x20) with two digit hexadecimal character references 
except for #x20 
characters with no preceding #x20. 
/li li b Text Nodes- /b the string value, except all ampersands are 
replaced by code &amp;amp;amp; /code , 
all open angle brackets () are replaced by code  /code , and 
all #xD characters 
are replaced by code &amp;amp;#x0D; /code . 
/li 
Clarify how to express hexadecimal character references, please. 
- A-F must be capital letters or not. 
- Preceding '0' is allowed or not. 
TAMURA Kent @ Tokyo Research Laboratory, IBM 
