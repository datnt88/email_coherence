<s> 8.11.5 has the Depth value "infinity" written as "Infinity".  </s>
<s> Should be lower case  </s>
<s> Sometimes the opaquelocktoken scheme is written in all lower case (8.13.10)  </s>
<s> and sometimes in mixed case (8.12.5)  </s>
<s> Also 8.13.10 writes the locktoken "directly", rather than as a Coded-URL, as mandated by 9.11  </s>
<s> Perhaps it would be useful to move the definition of Coded-URL from 9.5 Destroy Header to someplace more generic, since it is used in many places (e.g. Enforce-Live-Properties, Lock-Token request and response headers etc)  </s>
<s> Why is Coded-URL not used in the "AdditionalLocks" portion of the Lock-Info  </s>
<s> request header (unless that's because AdditionalLocks is to be dropped, as  </s>
<s> I suspect?)  </s>
<s> Finally, can someone explain to me why we need "Coded-URL"?  </s>
<s> Why can't we just write property names as property names?  </s>
<s> We don't seem to need to code  </s>
<s> the URI in the Destination header, so why do we need to code it when used in e.g. Enforce-Live-Properties, or for a list of locks?  </s>
<s> To take this from a slightly different angle, when a property name is written as a coded-URL, it looks just the same as if if were an XML open tag.  </s>
<s> Would it be better to express them as "empty" tags instead?  </s>
<s> The difference is that foo bar quux is not legal XML, but foo/ bar/ /quux/ is.  </s>
<s> Another advantage, although unlikely to arise in  </s>
<s> practise is that XML allows for tags to have arbitrary attibutes, e.g.  </s>
<s> I could have foo type="3"/ .  </s>
<s> Here, the "property name" is just foo.  </s>
<s> so there's a real difference, I think, between expressing this is a coded-URL  </s>
<s> of the property name as opposed to as a tag.  </s>
<s> Jim, Thank you for your comments.  </s>
<s> Some affirmations and responses below.  </s>
<s> On Tuesday, December 16, 1997 5:30 PM, Jim Davis  </s>
<s> Agreed.  </s>
<s> (8.13.10)  </s>
<s> This should definitely be converted to all lower case for all instances.  </s>
<s> Good catch.  </s>
<s> etc) Agreed, especially since the Destroy header is being moved to the versioning document.  </s>
<s> Lock-Info  </s>
<s> as  </s>
<s> As you suspected, AdditionalLocks is being worked on.  </s>
<s> If it remains, it will use the Coded-URL syntax.  </s>
<s> code  </s>
<s> My recollection of the rationale (as originally told by Roy Fielding) is as follows: - We needed a list of URLs, which implies a set of URLs with some form of separator.  </s>
<s> - Separator characters are ideally not legal URL characters, since this allows URLs to be placed into the protocol stream without an encoding step to URL-encode instances of the separator character - The typical separator character, "," happens to be a legal URL character, hence it would be difficult to detect the end of a URL in a comma-separated list.  </s>
<s> - While space is also not a valid URL character, its use as a separator is deprecated (I can't remember why -- perhaps due to gateway manipulation of spaces) - The characters " " and " " are not valid URL characters, and hence, when used to wrap a URL, allow the wrapped URL to be included in a comma-separated list.  </s>
<s> - Since many headers use comma-separated lists, a comma-separated list of URLs would be able to use existing parsers in HTTP applications.  </s>
<s> Use of another separator would cause applications to develop a new parser for that type of separated field.  </s>
<s> - While the quote character could be used as a URL wrapping character, we decided to be consistent with RFC 2068 which uses the " " and " " characters to wrap URLs in the Link header in the appendix.  </s>
<s> Granted, this is a somewhat weak rationale now that this appendix has been removed.  </s>
<s> I do recall there was a reason why quote characters aren't the ideal choice, but the exact reason escapes me at present (Roy?).  </s>
<s> For the Destination header, we follow the conventions of RFC 2068, where singleton URLs are not encoded in header fields.  </s>
<s> The exception to this is the Lock-Token header, where we do use the Coded-URL.  </s>
<s> This, at first blush, does appear to be arbitrary, and could be changed back to an uncoded URL, unless there is a reasonable case that this field could become a list of URLs in the future (have to think about this one).  </s>
<s> in  </s>
<s> coded-URL  </s>
<s> Given the context of use of Coded-URLs is limited to headers only, I don't see there being a cause for confusion.  </s>
<s> Where do you see this confusion arising?  </s>
<s> - Jim  </s>
<s> [Note to readers: Please read, there are some proposals below]  </s>
<s> fixed  </s>
<s> fixed  </s>
<s> fixed  </s>
<s> Traditionally the way such definitions are handled is by defining them at their first use.  </s>
<s> That's why when we use the URI production we only give a reference on its first use.  </s>
<s> This all having been said, so the hell what?  </s>
<s> I will add a section on generic BNF productions.  </s>
<s> Damn your good!  </s>
<s> You wrote this before I wrote my proposal.  </s>
<s> See Jim's explanation, he covers all the basis.  </s>
<s> I do agree about encoding lock-token on responses which are singletons.  </s>
<s> The only reason it uses a coded-URL is to make it symmetric with the lock-token request header.  </s>
<s> In fact I will make the lock-token response a #coded-url.  </s>
<s> There is no reason the server couldn't return multiple identifiers for a single lock, the client need only remember one.  </s>
<s> I have added the following language to the response lock-token header: If multiple lock-tokens are returned then they MUST all refer to the exact same lock.  </s>
<s> As the lock tokens all refer to the exact same lock a client need only record one of them.  </s>
<s> Ditto Jim, I don't think this is an issue.  </s>
<s> Yaron  </s>
