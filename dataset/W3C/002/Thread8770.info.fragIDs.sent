<s> Joseph,  </s>
<s> Is [1] sufficient for your concerns about base64?  </s>
<s> [1]  </s>
<s> The relevant point is: 4. what is the canonical form for base64Binary values?  </s>
<s> Respose: Option A: 76 characters from the base64 alphabet, then a newline sequence; repeat as needed; last line of more than 0, less than 76 characters, also terminated by newline sequence.  </s>
<s> But I am not sure about the consequences of introducing a canonical form for base64Binary values: Is a schema validating parser enforced to report only the canonical form of the value to the application?  </s>
<s> * If yes, then my concerns are addressed, if the signature application is ENFORCED to produce the canonical form of the digest value's base64 lexical representation.  </s>
<s> * In the current draft of XMLDSIG, this enforcement is not established.  </s>
<s> Without such an enforement, the signature will break if the creator of a signature does not produce the canonical representation, and if the validator of the signature uses a validating parser.  </s>
<s> * If no, my concerns are not addressed.  </s>
<s> Liebe Gruesse/Regards, DI Gregor Karlinger Phone +43 316 873 5541 Institute for Applied Information Processing and Communications Austria  </s>
<s> Hi Gregor,  </s>
<s> As far as I (possibly we) understand it, schema-normalized values are *not* exposed as part of the standard XML infoset (and thus probably not DOM), but as part of the post schema-validation infoset, which is an augmentation, not a replacement, of the XML infoset.  </s>
<s> So, any canonical form for base64 should not affect signature processing.  </s>
<s> Also, there is a proposal that schema validation be an *explicit* transform, so the possibility of sender/recipient schema validation  </s>
<s> conflict (defaulted values) may be reduced.  </s>
<s> Of course, this won't really help in the case of same-document references.  </s>
<s> Merlin r/gregor.karlinger@iaik.at/2001.08.06/09:43:41  </s>
<s> Is [1] sufficient for your concerns about base64?  </s>
<s> [1]  </s>
<s> Baltimore Technologies plc will not be liable for direct, special, indirect or consequential damages arising from alteration of the contents of this message by a third party or as a result of any virus being passed on.  </s>
<s> In addition, certain Marketing collateral may be added from time to time to promote Baltimore Technologies products, services, Global e-Security or appearance at trade shows and conferences.  </s>
<s> This footnote confirms that this email message has been swept by Baltimore MIMEsweeper for Content Security threats, including computer viruses.  </s>
<s> This is correct unless these values where specified via a default value in the schema content model.  </s>
<s> Right, generally it won't be a problem, but since schema validation (in a few instances) could affect the serialized form, it should be considered a transform that is explicitly enumerated.  </s>
<s> Merlin,  </s>
<s> As far as I know you are using Xerces as parser for your toolkit.  </s>
<s> How do you deal with the related behaviour of Xerces?  </s>
<s> Xerces does not provide an interface for "exposing the post-schema validation infoset , beyond that provided by DOM or SAX;".  </s>
<s> So this means that if I turn on validating parsing in Xerces I get a DOM document with schema-normalized base64Binary values.  </s>
<s> It seems that Xerces does this validation not on all types.  </s>
<s> For instance, no normalization is done for an integer type.  </s>
<s> Currently I have not found a way to avoid this behaviour.  </s>
<s> As you state, this does help neither for same-document references nor for getting the octets that form the input of cryptographic signature validation.  </s>
<s> BTW, Merlin: I have not able to send you email to merlin@baltimore.ie in the last couple of days, since I always get back an unknown user error from the baltimere.ie  </s>
<s> postmaster.  </s>
<s> Liebe Gruesse/Regards, DI Gregor Karlinger Phone +43 316 873 5541 Institute for Applied Information Processing and Communications Austria  </s>
