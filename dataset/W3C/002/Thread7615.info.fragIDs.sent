<s> Section 8.10.1  </s>
<s> states that a LOCK request "SHOULD" have a request body.  </s>
<s> However, it does not state what the server should use as a default if the client does not supply a body.  </s>
<s> What should a server do?  </s>
<s> Create a lock of its own choosing?  </s>
<s> The text does state "unless this is a refresh request", but the parsing of the sentence is not entirely clear.  </s>
<s> I believe the intent is probably that it MUST have a body for asserting a lock, and that it MUST NOT have a body for refreshing a lock.  </s>
<s> On a slightly different topic: why is a refresh done using locktokens gathered from the If: header, rather than the more obvious Lock-Token: header?  </s>
<s> Cheers, -g Greg Stein, http://www.lyra.org/  </s>
<s> I agree with Greg.  </s>
<s> The wording from 8.10.1 should be a "MUST".  </s>
<s> Currently the Xythos Storage Server will give an error back if no body is sent.  </s>
<s> We make no assumptions about what the client desires and thus simply fail it.  </s>
<s> Kevin [mailto:w3c-dist-auth-request@w3.org]On  </s>
<s> Behalf Of Greg Stein  </s>
<s> Section 8.10.1  </s>
<s> states that a LOCK request "SHOULD" have a request body.  </s>
<s> However, it does not state what the server should use as a default if the client does not supply a body.  </s>
<s> What should a server do?  </s>
<s> Create a lock of its own choosing?  </s>
<s> The text does state "unless this is a refresh request", but the parsing of the sentence is not entirely clear.  </s>
<s> I believe the intent is probably that it MUST have a body for asserting a lock, and that it MUST NOT have a body for refreshing a lock.  </s>
<s> On a slightly different topic: why is a refresh done using locktokens gathered from the If: header, rather than the more obvious Lock-Token: header?  </s>
<s> Cheers, -g Greg Stein, http://www.lyra.org/  </s>
<s> I agree.  </s>
<s> I've added it to the locking issues list just to be sure it doesn't get overlooked.  </s>
<s> Uhhhhhhh...  </s>
<s> This makes sense to me.  </s>
<s> I can't recall our original rationale.  </s>
<s> We might have been thinking that, since the lock had to exist for the request to be honored, this effectively made the locks existence a precondition, and preconditions are expressed  </s>
<s> using the If header.  </s>
<s> - Jim  </s>
<s> I can't recall our original rationale.  </s>
<s> We might have been thinking that, since the lock had to exist for the request to be honored, this effectively made the locks existence a precondition, and preconditions are expressed  </s>
<s> using the If header.  </s>
<s> So do we need to define server behavior if more than one lock is specified in the If header?  </s>
<s> fyi: mod_dav refreshes all of them.  </s>
<s> -g Greg Stein, http://www.lyra.org/  </s>
