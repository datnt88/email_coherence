<s> Roy, thanks for what you said in the first part of this note.  </s>
<s> And whatever you think while reading this, keep in mind that the resource is not the storage thingy on the back-end -- it is the concept being referenced by the originator of the URI.  </s>
<s> Agreed.  </s>
<s> I don't understand how the server is supposed to know what the resource is when the user is allowed to create new bindings willy-nilly.  </s>
<s> Therefore, either the server needs to be told what the resource is when the bindings are created (which doesn't seem likely, since most of the users wouldn't understand the difference) or the definition of DELETE should be changed to reflect the easier-to-grasp notion of removing the binding.  </s>
<s> Are those the only choices?...  </s>
<s> Can't we leave the definition of resource suitably vague as we and our predecessors have?  </s>
<s> If we do I suspect servers will drive a WebDAV compliant definition that content authors on their site will use.  </s>
<s> Not the opposite.  </s>
<s> Almost all servers will support the model of flat/dead file or repository object that basically is just an echo of a PUT/GET.provide their own underlying meaning of resource.  </s>
<s> A server might also offer support for more intelligent objects like servlets or perl scripts and also treat those as resources.  </s>
<s> The author's job is to encapsulate his concept of a resource within the one of the server's concepts of a resource which is probably a file or some sort of repostiory object.  </s>
<s> As I just said, most of the time, the server will drive a WebDAV compliant concept of a resource that that the content authors will use.  </s>
<s> One likely exceptions is the concept of a resource essentially being at the URI.  </s>
<s> This model doesn't need server support and may not leverage the server model or even necessarily the WebDAV model of resource.  </s>
<s> An example is, "page_of_the_day.html".  </s>
<s> Certainly the author could use a proxy resource that essentially gets it's contents from other resources depending on today's date, but it's more likely that the author will just choose to rebind that URI each day.  </s>
<s> Sure, the casual referencer's concept of the resource will not be the same as the server's, but the right thing happens.  </s>
<s> Does it matter that the author chose to have one foot in each model?  </s>
<s> Jason. PS.  </s>
<s> I hate HTML mail too.  </s>
<s> All that I can think of at the moment.  </s>
<s> Another way to put it is: if the server is not informed of the difference between a new binding to an existing resource and a new binding representing a new resource that happens to currently point to an existing resource, then the server must treat all bindings as unique resources.  </s>
<s> The alternative---that all bindings to the same resource represent a single resource---is known to be false.  </s>
<s> If the server is treating all bindings as unique resources, then DELETE on a binding is equivalent to DELETE on a resource.  </s>
<s> Since we have a good grasp of what it means to DELETE a binding, and we can assume that the server can be configured to act appropriately when the last accessible binding is deleted from a resource, I think it is reasonable to alter the definition of DELETE so that it follows the spirit of what is defined in RFC 2616 rather than the exact terminology.  </s>
<s> Well, either that or simply declare that every binding is a separate resource, even when it isn't.  </s>
<s> Or, declare a new method called UNBIND that removes bindings but not resources.  </s>
<s> I guess then the WG would have to figure out what should happen when the client attempts to UNBIND the last binding attached to a resource, and likewise BIND would have to indicate whether the new binding should be considered a new resource or an alias of an existing resource.  </s>
<s> I pretty much assumed that the WG had already discussed this option and moved on.  </s>
<s> Hmmm, my experience is that most implementers will randomly stagger towards the first implementation that appears to work for their limited test set, and then refuse to fix it out of fear of breaking backwards compatibility.  </s>
<s> Only those who understand the overall architecture are likely to get it right the first time.  </s>
<s> Actually, no.  </s>
<s> If we treat the web as if it were a distributed filesystem, it will eventually lose those qualities that make it better than a distributed filesystem.  </s>
<s> The most important goal of WebDAV is to enable manipulation of resources without assuming anything about how the resource is implemented; it is okay to learn how it is implemented during the process of interaction, but only to the extent that the server reveals that information to the client.  </s>
<s> So we build up this interface model where the client makes operations on the generic interface and then the server translates those operations into the mechanism applicable for that resource.  </s>
<s> Namespace operations are a little unnatural in that, even though the request-URI consists of the target name, the actual mechanism targeted by the request is the collection resource that governs that namespace.  </s>
<s> Hence, MOVE changes the collection, not the resource.  </s>
<s> [Gack!  </s>
<s> I just noticed that the request target of a BIND request is, well, wrong in the spec.  </s>
<s> More on this later.]  </s>
<s> I don't follow that -- I only see one model there, even if the "page_of_the_day.html" is a physical file on the server.  </s>
<s> How it is implemented doesn't make any difference to the interface presented to the client except during the authoring operations.  </s>
<s> A better example is a collection consisting of "Fred", "Frederick", and "Douglass".  </s>
<s> Those could be three different resources (for example, individuals within a team of coders) or three different aliases for the same resource.  </s>
<s> The only person who really knows the answer is the person defining the namespace -- it just isn't something that a server can figure out by analyzing the implementation, because what differentiates one resource from another is the semantics given to them when each URI is used within some external reference.  </s>
<s> The server can't even rely on the implementation giving some indication of the difference, since the implementation is allowed to change over time, whereas the semantics of a resource does not (legitimately) change over time.  </s>
<s> ....Roy  </s>
<s> I agreed or didn't understand various parts of your note until I got to the following.  </s>
<s> I think it explains what you're trying to get at when you speak of the server knowing if something is the same resource or not.  </s>
<s> A better example is a collection consisting of "Fred", "Frederick", and "Douglass".  </s>
<s> Those could be three different resources (for example, individuals within a team of coders) or three different aliases for the same resource.  </s>
<s> The only person who really knows the answer is the person defining the namespace -- it just isn't something that a server can figure out by analyzing the implementation, because what differentiates one resource from another is the semantics given to them when each URI is used within some external reference.  </s>
<s> The server can't even rely on the implementation giving some indication of the difference, since the implementation is allowed to change over time, whereas the semantics of a resource does not (legitimately) change over time.  </s>
<s> You are trying to emphasize the definition of a resource as being in the eyes of the author.  </s>
<s> And that you want the server somehow be able to know and track the author's concept of "the resource"... and distinguish it from the current implementation  </s>
<s> of the resource.  </s>
<s> And because bindings remove the tight one-to-one association  </s>
<s> of the conceptual resource from its implementation, you feel the advent of bindings is a good place to have the server start maintaining that separation  </s>
<s> and support both concepts fully.  </s>
<s> It sounds like you'd like to be able to insert another level of indirection in our model.  </s>
<s> A "a-resource" is the author's conceptual resource.  </s>
<s> A "s-resource" is a server's concept of a resource and represents an implementation.  </s>
<s> URI: leadprogrammer.html  </s>
<s> john.html fred.html aresource: lead_programmer_personal_page aresource: john aresource: fred sresource: John.html sresource: John.pl sresource: Fred.html states of sresources: John.html.001 John.html.002 John.pl.001 Fred.html.001  </s>
<s> The "binding" from URI to aresource is pretty static.  </s>
<s> The URI basically should continue to point to the same concept until the end of time.... ideally.  </s>
<s> OTOH over time the author might change the implementation to use a different sresource for a given conceptual resource.  </s>
<s> And over time the implementation of the sresource might evolve as it is debugged.  </s>
<s> So what we've done in WebDAV is compressed the URI and conceptual resource layers together since ideally they should remain as a one:one mapping for eternity.  </s>
<s> That means if we have a situation like... leadprog.html  </s>
<s> john.html fred.html lead_prog john fred John.html Fred.html  </s>
<s> In webdav we'd create a situation like the following.  </s>
<s> leadprog.html  </s>
<s> john.html fred.html  </s>
<s> John.html Fred.html  </s>
<s> And you are thinking of the resource as an implementation of the resource rather than the resource.  </s>
<s> Actually I was thinking both.  </s>
<s> I was emphasizing the server's concept as something that the author could still leverage to maintain his concept.  </s>
<s> I didn't feel it was important for the server to maintain the author's concept of a resource, but I felt that if the author wanted the server to, it could.  </s>
<s> That's what I meant when I spoke about a proxy object.  </s>
<s> What I was saying about a proxy object is that the author could actually create a server resource to represent his concept of a resource and distinguish it from its implementation.  </s>
<s> That object would not implement anything.  </s>
<s> It's only job would be to redirect to the server object that currently implements the authors concept.  </s>
<s> The server could manage both the conceptual resource and the implementation resource as WebDAV resources.  </s>
<s> The fly in the ointment is that ideally we'd like the proxy object to have a ***strong*** link/binding (whatever you want to call it) to its implemenation object.  </s>
<s> The only type of strong links that we provide right now are bindings.  </s>
<s> And they are only kept by collections.  </s>
<s> So this proxy object would basically need to be a collection.  </s>
<s> Presumably that collection would only be allowed one child and it would always internally redirect to it.  </s>
<s> Of course it can't always redirect ALL requests.  </s>
<s> Presumably there are operations that we might want to do on the proxy itself.  </s>
<s> (Maybe there aren't.) Anyway, the basic ground work is there to do this if the author wants to.  </s>
<s> It isn't explicitly supported in the protocol though.  </s>
<s> It could be at a later date though.  </s>
<s> As I said, the ground work is there.  </s>
<s> BTW... you mentioned that BIND acts on the wrong object.  </s>
<s> I think most of us recognize this, but I just wanted to remind you to get back to us with your commments and insight on that.  </s>
<s> Jason.  </s>
<s> Yes, and not just trying -- that is the definition of a resource.  </s>
<s> The definition derives from the central requirement of the Web: independent authoring of interconnected hypertext across multiple trust domains.  </s>
<s> Forcing the interface definitions to match the interface requirements makes some things *seem* vague, but that is only because the interface being manipulated is only an interface and not an implementation.  </s>
<s> That's not quite what I meant.  </s>
<s> What I was saying is that IF the spec is going to make a distinction between bindings and resources, THEN the protocol must provide a mechanism for the author to communicate that distinction to the server.  </s>
<s> IF, instead, the interface simply assumes that all bindings are separate resources (as does RFC 2616), then there is no need for that communication mechanism.  </s>
<s> Don't get me wrong: there are some advantages to having a protocol mechanism for identifying true aliases of a resource outside of DAV (e.g., elimination of replicas in caches), but in the past those advantages haven't been worth the effort.  </s>
<s> No, that's where lossage occurs in this discussion.  </s>
<s> A resource is not the storage object.  </s>
<s> A resource is not the mechanism that the server uses to handle the storage object.  </s>
<s> A resource is a conceptual mapping -- the server receives the identifier (which identifies the mapping) and applies it to its current mapping implementation (usually a combination of collection-specific deep tree traversal and/or hash tables) to find the currently responsible handler implementation and the handler implementation then selects the appropriate action+response based on the request content.  </s>
<s> None of this implementation is part of the Web interface.  </s>
<s> For example, consider what happens when a site grows in user base and decides to replace its old IIS server with a brand spanking new Apache server running on a Sun ULTRA.  </s>
<s> The disks are replaced.  </s>
<s> The operating system is replaced.  </s>
<s> The HTTP server is replaced.  </s>
<s> Perhaps even the method of generating responses for all of the content is replaced.  </s>
<s> What doesn't change is the Web interface: if designed correctly, the namespace on the new server can mirror that of the old, meaning that from the client's perspective, which only knows about resources and not about how they are implemented, nothing has changed aside from the improved robustness of the site.  </s>
<s> (;-) So, while it is okay for the bindings spec to say that bindings are somehow different from resources, it is absolutely critical that it not equate resources to some part of the server implementation.  </s>
<s> Call those other things handlers if you like, but understand the difference when interpreting what the existing HTTP requirements mean, because those HTTP requirements are on resources and resource identifiers, not on handlers.  </s>
<s> ....Roy Meet me at ApacheCon 2000 http://www.apachecon.com/ , March 8-10.  </s>
