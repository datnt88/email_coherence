<s> A colleague and I have been talking about how to do more precise testing of W3C specifications, and how the specification markup might help.  </s>
<s> GOALS: Allow an external document (test case, erratum, email, etc.) to point directly at a "testable" normative sentence in a Recommendation.  </s>
<s> Encourage document editors to view some of the sentences as "test assertions" and to write them in a style that conveys precisely what they declare.  </s>
<s> Explore possibilities for machine processing of testable sentences in the future.  </s>
<s> Link error assertions to error catalogues (see the work that Mike Kay is doing with the XSLT document: ( Provide a tagging scheme for testing of grammatical statements, such as the ad-hoc one employed in the XPath/XQuery specifications.  </s>
<s> Possibly provide markup also for discretionary behavior.  </s>
<s> So our proposal is to add a tagging structure to the above goals.  </s>
<s> Test cases will nearly always have to cite more than one testable sentence and/or production, unless the Rec is issued with test assertions in a separate appendix.  </s>
<s> We should experiment with enhanced tagging to see how it influences sentence structure.  </s>
<s> Some complex sentences with multiple "or" parts crossing each other may get restructured just to make citing them more precise.  </s>
<s> Consider this sentence from part 16.4 of XSLT 1.0: "Thus, it is an error to disable output escaping for an xsl:value-of or xsl:text element that is used to generate the string-value of a comment, processing instruction or attribute node; it is also an error to convert a result tree fragment to a number or a string if the result tree fragment contains a text node for which escaping was disabled."  </s>
<s> That one sentence has 8-10 testable assertions.  </s>
<s> So far, we are not proposing concrete details.  </s>
<s> First we wanted to see what people thought of the idea, if anyone has experimented with something like this so far, and whether or not this would be worth a concrete proposal.  </s>
<s> -scott  </s>
<s> This sounds like it might force a particular writing style and constrain the sentence structures used by editors.  </s>
<s> Am I reading too much into this?  </s>
<s> I am concerned about anything that would increase the work load or the constraints on editors.  </s>
<s> We've got an enormous amount of work to do as it is.  </s>
<s> Jonathan  </s>
<s> Well, in order to be able to test specification implementation it is helpful to impose these constraints on the way the spec is written.  </s>
<s> I agree that it adds to the already significant workload of editors who are not doing this, but I think it is an important part of ensuring the quality of our specifications to enable them to be tested.  </s>
<s> Cheers Chaals  </s>
<s> This sounds like it might force a particular writing style and constrain the sentence structures used by editors.  </s>
<s> Am I reading too much into this?  </s>
<s> I am concerned about anything that would increase the work load or the constraints on editors.  </s>
<s> We've got an enormous amount of work to do as it is.  </s>
<s> Jonathan Location: 21 Mitchell street FOOTSCRAY Vic 3011, Australia (or W3C INRIA, Route des Lucioles, BP 93, 06902 Sophia Antipolis Cedex, France)  </s>
<s> There are many ways to "enable our specifications to be tested".  </s>
<s> And we should not forget that ability to test is not the only goal.  </s>
<s> An ideal specifications would be both readable by humans and testable by machines.  </s>
<s> Most current specifications, especially complex and interesting ones, do not satisfy both of these properties.  </s>
<s> There can be two general directions for improving the situation: - making humans write machine-testable text (code) - making machines understand human-oriented text Some steps can be done in both directions.  </s>
<s> For example, making every bit of a spec addressable is not much extra work for humans and helps machines a lot.  </s>
<s> Interestingly, having smart enough machines is sufficient for humans to write testable specs because a smart machine would tell the author whether what s/he just wrote is testable.  </s>
<s> Compare this with writing poems using pre-declared Java identifiers to avoid spelling mistakes and having a spelling checker that highlights misspelled words as you type your poem.  </s>
<s> Personally, I do not like the idea of making humans write more code than they already have to.  </s>
<s> I think it is a counter-productive approach in the long term, especially since not all real specifications can have 100% test coverage (some requirements cannot be pragmatically tested at all).  </s>
<s> Making spec bits addressable is as far as I would go [today and within W3C scope].  </s>
<s> My understanding is that we already have the tools to make such addressing.  </s>
<s> And, practically speaking, it is not too much work to apply any given addressing scheme to address every interesting piece of a given specification.  </s>
<s> Do we really need a one-for-all standard that editors would be mandated to use?  </s>
<s> Thanks, Alex.  </s>
<s> There are many ways to "enable our specifications to be tested".  </s>
<s> And we should not forget that ability to test is not the only goal.  </s>
<s> Absolutely.  </s>
<s> But not being able to test whether a specification is being met means that it is less a specification than a general description of an idea.  </s>
<s> An ideal specifications would be both readable by humans and testable  </s>
<s> by machines.  </s>
<s> Most current specifications, especially complex and interesting ones, do not satisfy both of these properties.  </s>
<s> There can be two general directions for improving the situation: - making humans write machine-testable text (code) - making machines understand human-oriented text Some steps can be done in both directions.  </s>
<s> For example, making every bit of a spec addressable is not much extra work for humans and helps machines a lot.  </s>
<s> EARL takes this approach - it simply requires that there is an identifiable test - i.e. it can be addressed, and the test itself is assumed to be specified in human-readable language.  </s>
<s> For some categories of test it is possible to compare a reference example to a test example (e.g. visually), and for others it is useful to provide the relevant part of the specification (which is assumed to explain what the test is) along with the example being tested (e.g. the CSS test suite, or WAI checkpoints).  </s>
<s> There is another class of cases where it is possible to do the testing - e.g. validation of various kinds, but where it is difficult to build general tools that can use the results of testing because there is little machine-readable information to identify which requirement was failed.  </s>
<s> I agree that a useful step would be to make each requirement addressable, and to work with that before we go further into this realtively uncharted territory.  </s>
<s> (Well, there are organisations who have spent years on this.  </s>
<s> Maybe some of them are represented on this list).  </s>
<s> cheers Chaals Interestingly, having smart enough machines is sufficient for humans to write testable specs because a smart machine would tell the author whether what s/he just wrote is testable.  </s>
<s> Compare this with writing poems using pre-declared Java identifiers to avoid spelling mistakes and having a spelling checker that highlights misspelled words as you type your poem.  </s>
<s> Personally, I do not like the idea of making humans write more code than they already have to.  </s>
<s> I think it is a counter-productive approach in the long term, especially since not all real specifications can have 100% test coverage (some requirements cannot be pragmatically tested at all).  </s>
<s> Making spec bits addressable is as far as I would go [today and within W3C scope].  </s>
<s> My understanding is that we already have the tools to make such addressing.  </s>
<s> And, practically speaking, it is not too much work to apply any given addressing scheme to address every interesting piece of a given specification.  </s>
<s> Do we really need a one-for-all standard that editors would be mandated to use?  </s>
<s> Thanks, Alex. Location: 21 Mitchell street FOOTSCRAY Vic 3011, Australia (or W3C INRIA, Route des Lucioles, BP 93, 06902 Sophia Antipolis Cedex, France)  </s>
<s> I do not think the above is true in general.  </s>
<s> For example, there are numerous working implementations of HTTP specs while many HTTP statements cannot be tested in a pragmatic way.  </s>
<s> The primary goal of a specification is to enable building [compliant] implementations.  </s>
<s> This goal is different from enabling [compliance] tests.  </s>
<s> It would be great if all specs were 100% testable, but I do not think it is possible in practice, regardless of the specs language.  </s>
<s> My belief is based on a simple fact that both black- and white-box testing techniques cannot achieve 100% coverage of a complex program implementing the specs.  </s>
<s> Testability should definitely be a priority, but it would be sad if we get fewer good specs by accepting rigid and expensive testability requirements.  </s>
<s> A poor solution is often worse than a simple acknowledgment of the problem.  </s>
<s> Alex.  </s>
<s> Good point.  </s>
<s> Chaals  </s>
<s> I do not think the above is true in general.  </s>
<s> For example, there are numerous working implementations of HTTP specs while many HTTP statements cannot be tested in a pragmatic way.  </s>
<s> The primary goal of a specification is to enable building [compliant] implementations.  </s>
<s> This goal is different from enabling [compliance] tests.  </s>
<s> It would be great if all specs were 100% testable, but I do not think it is possible in practice, regardless of the specs language.  </s>
<s> My belief is based on a simple fact that both black- and white-box testing techniques cannot achieve 100% coverage of a complex program implementing the specs.  </s>
<s> Testability should definitely be a priority, but it would be sad if we get fewer good specs by accepting rigid and expensive testability requirements.  </s>
<s> A poor solution is often worse than a simple acknowledgment of the problem.  </s>
<s> Alex. Location: 21 Mitchell street FOOTSCRAY Vic 3011, Australia (or W3C INRIA, Route des Lucioles, BP 93, 06902 Sophia Antipolis Cedex, France)  </s>
