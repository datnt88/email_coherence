<s> On reading the XML Canonical spcification, I have some comments and concerns, which I think should be addressed.  </s>
<s> 1) 'However, the statement in Namespaces in XML that "the prefix functions only as a placeholder for a namespace name" is only true in the limited context of the Namespaces in XML Recommendation.' This is not true; although some specifications do not follow this, others do.  </s>
<s> There are several DOM applications which treat the prefix as "syntactic sugar"; it is only important for serialization and may be changed at that stage.  </s>
<s> DOM Level 2 makes no attempt to make sure prefixes match namespace URIs, for example, and there are DOM applications which don't ever assign prefixes, because the XML is never serialized.  </s>
<s> Several people are of the opinion that the Namespaces Recommendation is correct in this regard, and those specifications which differ are incorrect.  </s>
<s> So I would recommend that the language in the canonicalization specification be chosen carefully.  </s>
<s> 2) 'The XPath data model expects the XML processor to convert relative URIs to absolute URIs.' This is an errata in the XPath specification, which will be fixed.  </s>
<s> See the Hypertext Coordination Group archives.  </s>
<s> Lauren Wood  </s>
<s> Hi Lauren,  </s>
<s> 1) namespace prefixes Actually, the language around namespaces was already softened once to the state it is in now from the state of saying it is flat out wrong.  </s>
<s> In the former document, I actually presented a theorem/proof pair to show how namespace rewriting was actively harmful to some documents.  </s>
<s> Some felt it was 'too serious' so we toned it down, but the argument remains in prose.  </s>
<s> I would suggest that you consider the argument again because it is quite irrefutable.  </s>
<s> Taking the position that other specs are wrong if they do not regard this information as syntax sugar seems to be an undefendable position.  </s>
<s> To wit, we would have to throw away, XSLT, XPointer and XPath.  </s>
<s> I really don't think that's going to happen at this point.  </s>
<s> 2) relative to absolute URIs I will be *very* happy to see this as an erratum, but I cannot remove the  </s>
<s> statement from c14n until that erratum is published.  </s>
<s> I am hoping this occurs  </s>
<s> before C14N goes to candidate rec.  </s>
<s> As far as I can tell, the XPath requirement to absolutize was always misguided anyway since it has nothing to do with XPath but rather with something that must be done by the XML processor that creates the input to XPath.  </s>
<s> If the input processor does not absolutize, it does not affect a single thing in XPath.  </s>
<s> As for signatures, I think that absolutizing would break signatures over data that contains relative URIs in the namespace nodes.  </s>
<s> Up to now, we have been encumbered to simply recommend that people don't use relative URIs in data they plan to sign, so obviously we will be quite happy if this gets changed.  </s>
<s> Until it does, though, our hands are tied... Thanks, John Boyer Development Team Leader, Distributed Processing and XML PureEdge Solutions Inc. Creating Binding E-Commerce v: 250-479-8334, ext.  </s>
<s> 143 f: 250-479-3772 1-888-517-2675 http://www.PureEdge.com  </s>
<s> http://www.pureedge.com/  </s>
<s> On reading the XML Canonical spcification, I have some comments and concerns, which I think should be addressed.  </s>
<s> 1) 'However, the statement in Namespaces in XML that "the prefix functions only as a placeholder for a namespace name" is only true in the limited context of the Namespaces in XML Recommendation.' This is not true; although some specifications do not follow this, others do.  </s>
<s> There are several DOM applications which treat the prefix as "syntactic sugar"; it is only important for serialization and may be changed at that stage.  </s>
<s> DOM Level 2 makes no attempt to make sure prefixes match namespace URIs, for example, and there are DOM applications which don't ever assign prefixes, because the XML is never serialized.  </s>
<s> Several people are of the opinion that the Namespaces Recommendation is correct in this regard, and those specifications which differ are incorrect.  </s>
<s> So I would recommend that the language in the canonicalization specification be chosen carefully.  </s>
<s> 2) 'The XPath data model expects the XML processor to convert relative URIs to absolute URIs.' This is an errata in the XPath specification, which will be fixed.  </s>
<s> See the Hypertext Coordination Group archives.  </s>
<s> Lauren Wood  </s>
<s> Thank you.  </s>
<s> It is harmful to some documents and specifications, but not all documents and applications.  </s>
<s> This doesn't mean that those applications that do not need such a dependency are wrong, which is what the current language implies.  </s>
<s> I don't want DOM applications that do treat the prefix as syntactic sugar (since those authors read the Namespaces Rec and implemented it, without regard to XPath etc) to be labelled as being wrong.  </s>
<s> So my suggestion, again, is to come up with some language that is neutral on this point.  </s>
<s> That is probably something you should pass on to the XSL WG. Lauren  </s>
<s> Hi Lauren,  </s>
<s> It is harmful to some documents and specifications, but not all documents and applications.  </s>
<s> This doesn't mean that those applications that do not need such a dependency are wrong, which is what the current language implies.  </s>
<s> I don't want DOM applications that do treat the prefix as syntactic sugar (since those authors read the Namespaces Rec and implemented it, without regard to XPath etc) to be labelled as being wrong.  </s>
<s> So my suggestion, again, is to come up with some language that is neutral on this point.  </s>
<s> john Fair enough.  </s>
<s> I can change the language further to a kind of 'There exist documents which are dependent...'.  </s>
<s> However, note that since there exist XSLT and XPath transforms in DSig's SignedInfo element, the DSig SignedInfo element is among those documents that would be harmed by namespace rewriting.  </s>
<s> occurs  </s>
<s> That is probably something you should pass on to the XSL WG. Lauren  </s>
<s> Hi, XML Schema could also be added to the list of applications which would be harmed by namespace rewriting.  </s>
<s> In this snippet for instance : xsd:schema xmlns:xsd="http://www.w3.org/1999/XMLSchema" xmlns:lib="http://xmlfr.org/ns/library" "lib:qualificationType" means the type "qualificationType" defined for namespace prefixed by "lib" and "xsd:string" means the type "string" defined for namespace prefixed by "xsd".  </s>
<s> Which means that "lib:" is syntaxic sugar but if you change it, you need to change it in the type attributes as well.  </s>
<s> Hope this helps.  </s>
<s> Eric  </s>
<s> Eric van der Vlist Dyomedea http://dyomedea.com  </s>
<s> This sounds reasonable.  </s>
<s> This would also be a flag to various applications to be careful what they do with the DSig SignedInfo element.  </s>
<s> thanks, Lauren  </s>
