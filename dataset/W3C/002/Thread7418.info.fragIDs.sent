<s> This afternoon Jim Whitehead and I tried MSIE 5 with PyDAV.  </s>
<s> I regret to say that it didn't work, and we don't know why.  </s>
<s> Perhaps someone from MS can shed some light on it.  </s>
<s> At present, we can't tell whether it's deficiencies in PyDAV, relative misinterpretations, or bugs in MSIE.  </s>
<s> All we know is that MSIE didn't successfully connect.  </s>
<s> it did not utter any diagnostic or complaint.  </s>
<s> on the PyDAV side, we see in the logs that MSIE did am OPTIONS, followed by a GET, then a POST, then said nothing else.  </s>
<s> PyDAV does not support POST.  </s>
<s> Note that an earlier version of PyDAV responded to POST with status 500, which is not the right way to show that POST is not supported.  </s>
<s> It now returns 501.  </s>
<s> Here's the log trace.  </s>
<s> Note that all the headers are coerced to upper case in the log.  </s>
<s> Comments in between request/response pairs are mine.  </s>
<s> 1998-11-18 12:58:35 [HTTP] Request OPTIONS / HTTP/1.1 1998-11-18 12:58:36 [HTTP] Headers: CONNECTION: Keep-Alive HOST: sandbox.xerox.com:8080  </s>
<s> USER-AGENT: Microsoft Data Access Internet Publishing Provider Cache Manager 1998-11-18 12:58:36 [Reply] 200 [Does MSIE inspect either the Public or the Allow header?  </s>
<s> PyDAV returns Allow, but not Public.  </s>
<s> I modified it to also return Public, but that did not change things any.] 1998-11-18 12:58:36 [HTTP] Request GET /_vti_inf.html  </s>
<s> HTTP/1.1 1998-11-18 12:58:36 [HTTP] Headers: CONNECTION: Keep-Alive USER-AGENT: Mozilla/2.0 (compatible; MS FrontPage 4.0) CONTENT-LENGTH: 0 HOST: sandbox.xerox.com:8080  </s>
<s> DATE: Wed, 18 Nov 1998 20:57:59 GMT  </s>
<s> ACCEPT: auth/sicily MIME-VERSION: 1.0  </s>
<s> 1998-11-18 12:58:36 [HTTP] Complaint 404 Not Found 1998-11-18 12:58:36 [Reply] 404 79 bytes  </s>
<s> [Note that the only mime type in ACCEPT is auth/sicily.  </s>
<s> As it happens, PyDAV ignores the Accept header anyway, but if it did try to obey it, it's not clear how it could have returned a resource of type 'auth/sicily'.  </s>
<s> Besides that, what is "sicilian" authorization?  </s>
<s> A request you can't say "no" to?  </s>
<s> :-)]  </s>
<s> 1998-11-18 12:58:36 [HTTP] Request POST /_vti_bin/shtml.exe/_vti_rpc  </s>
<s> HTTP/1.1 1998-11-18 12:58:36 [HTTP] Headers: CONNECTION: Keep-Alive USER-AGENT: MSFrontPage/4.0 CONTENT-LENGTH: 41 HOST: sandbox.xerox.com:8080  </s>
<s> CONTENT-TYPE: application/x-www-form-urlencoded X-VERMEER-CONTENT-TYPE: application/x-www-form-urlencoded DATE: Wed, 18 Nov 1998 20:58:00 GMT ACCEPT: auth/sicily MIME-VERSION: 1.0 1998-11-18 12:58:36 [HTTP] Complaint 501  </s>
<s> [PyDAV does not support POST at all.]  </s>
<s> Jim, we are working on testing it out.  </s>
<s> I'll send some more info to the list once we find out what the real situation is.  </s>
<s> Alex  </s>
<s> mod_dav will return a 404 on the POST, which (I presume) allows IE5 to proceed further.  </s>
<s> I saw the same OPTIONS, GET, then POST.  </s>
<s> After the POST fails, then IE will issue an OPTIONS followed by a PROPFIND.  </s>
<s> *then* it goes belly up :-) (well, just sits there with a dialog open) I've already traded a couple rounds of email with the IE5 team.  </s>
<s> They were quite helpful and pointed out a couple problems in mod_dav that have been corrected in the 0.9.2 release.  </s>
<s> They've run some tests against the new release, but I haven't heard any feedback yet.  </s>
<s> For now, I'm assuming they're correcting some issues on their side, then we get to do another round :-)  </s>
<s> Sicily was the code name for Distributed Password Authentication (DPA).  </s>
<s> DPA is the primary authentication mechanism used by the Microsoft Membership System (part of MCIS and Site Server).  </s>
<s> Basically, it is an enterprise-scale authentication/authorization system for Internet sites (e.g. MSN and Compuserve).  </s>
<s> See if you can return a 404 as a temporary hack and whether that gets IE5 further along.  </s>
<s> It would appear that IE5 may have a logic error in that a 5xx error affects the process (a guess based on the processing after my 404 return vs. your 501).  </s>
<s> Cheers, -g Greg Stein, http://www.lyra.org/  </s>
<s> "auth/sicily" is an illegal value in "ACCEPT", since there is (currently) no top-level MIME type named "auth", much less an "auth/sicily" registration.  </s>
