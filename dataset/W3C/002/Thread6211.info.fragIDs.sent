<s> Sandra, Here are some of the updates for the IBM 1.1 test contributions.  </s>
<s> Can you update these in CVS and I'll work on the remaining issues.  </s>
<s> Appologies for the problems.  </s>
<s> The tests were written a while back, things changed, comments were not updated properly, etc. Anyways here are some comments.  </s>
<s> (1) ibm-valid-P02-ibm02v01.xml  </s>
<s> The UTF-8 code for LSEP (2028) in this file seems to be wrong.  </s>
<s> I believe it should be e2 80 a8, the file has e0 9f ac which is a non-shortest UTF-8 sequence for something else.  </s>
<s> [GM] Agree, a typo, the byte sequence corresponds to the character #x7EC and  </s>
<s> should be changed to e2 80 a8, but its still a valid document.  </s>
<s> (2)ibm-valid-P02-ibm02v04.xml &amp; (3)ibm-valid-P03-ibm03v08.xml [GM] Tests that were originally added for clarifications (are NEL &amp; LESP in S) and are no longer valid.  </s>
<s> Updated tests are attached above.  </s>
<s> (4) ibm-valid-P04-ibm04v01.xml, ibm-valid-P05-ibm05v01.xml, ibm-valid-P05-ibm05v02.xml, ibm-valid-P05-ibm05v03.xml, ibm-valid-P05-ibm05v05.xml  </s>
<s> These contain names that use colons in ways not allowed by namespaces, so they need NAMESPACE="no" in the config file.  </s>
<s> (5) ibm-valid-P05-ibm05v05.xml [GM] Agree, the config file will have to be modified as suggested.  </s>
<s> We treat these as namespaces="no" in our suite though.  </s>
<s> (6) ibm-valid-P03-ibm03v*.xml  </s>
<s> [GM] Agree.  </s>
<s> (7) ibm-valid-P46-ibm46i01.xml, ibm-valid-P46-ibm46i02.xml [GM] Similar to (2) (3), agree the comment now needs to be changed.  </s>
<s> (8) ibm-not-wf-P02-ibm02n09.xml [GM]Agree, updated test attached.  </s>
<s> (9) ibm-not-wf-P02-ibm02n0??.xml [GM] Agree, the file names mentioned above need to be fixed in the configuration file.  </s>
<s> (10) ibm-not-wf-P02-ibm02n10.xml This file is supposed to contain "control character 0x100".  </s>
<s> But 100 is not a control character, and in fact the file contains a non-shortest UTF-8 sequence.  </s>
<s> [GM] Attached a modified test case, the comment in the config file will have to be updated.  </s>
<s> (11) ibm-not-wf-P02-ibm02n13.xml This file is supposed to contain "control character 0x0D" which would be legal, but in fact contains control-A.  </s>
<s> (Mabe all the tests corresponding to legal control characters have been messed up?) [GM] Attached a modified test case, the comment in the config file will have to be updated.  </s>
<s> (12) ibm-not-wf-P02-ibm02n38.xml This file is supposed to contain "control character 0x86" but in fact contains 82.  </s>
<s> Probably this is because it's between 84 and a real 86, and 85 is NEL. [GM] This test contains a embeded control characters x82, x83 and x84.  </s>
<s> The comment in the configuration file needs to be updated.  </s>
<s> (13) ibm-not-wf-P02-ibm02n58.xml This file is supposed to contain "control character 0x99" but in fact contains a non-shortest UTF-8 sequence.  </s>
<s> [GM] Attached updated test (15) ibm-not-wf-P04-ibm04n2[1-4].xml ibm-not-wf-P04a-ibm04an2[1-4].xml  </s>
<s> These are supposed to have bogus surrogates, but instead have question marks.  </s>
<s> [GM] Agree, the characters somehow got messed up.  </s>
<s> I have attached fixed tests.  </s>
<s> (16) ibm-not-wf-P04a-ibm04an0[1-3].xml, ibm-not-wf-P04a-ibm04an1[1-2].xml  </s>
<s> These don't have the characters they are claimed to, probably a UTF-8 screwup.  </s>
<s> [GM] Agree, Incorrect comments, they should have been ibm-not-wf-P04a-ibm04an0[1-3].xml - #xB8, #0xA1 and #0xAF ibm-not-wf-P04a-ibm04an1[1-2].xml - #0x203D and #0x2041 (17) ibm-not-wf-P04a-ibm04an17.xml, ibm-not-wf-P04a-ibm04an18.xml Test for 2edc and 2fed which are in fact legal.  </s>
<s> [GM] Agree, Incorrect comments, they should have been #x2BDC and #x2A30 (18) ibm-not-wf-P05-ibm05n02.xml Purports to test for illegal name char 300, but actually has 3000 which is also illegal.  </s>
<s> [GM] Agree, test case with illegal name char x300 attached.  </s>
<s> (19) ibm-not-wf-P77-ibm77n13.xml This doesn't test what it claims to; it is not-wf because the document entity is 1.0 and an external entity is 1.1.  </s>
<s> [GM] Agree, the comment needs to be corrected.  </s>
<s> That's all for now.  </s>
<s> Thanks,  </s>
<s> Glenn  </s>
<s> It's not the shortest sequence for 7EC, so it's a UTF-8 error and therefore not well-formed.  </s>
<s> -- Richard  </s>
<s> Ok!! I will work on these ones.  </s>
<s> I Will let you know if I have questions.  </s>
<s> Sandra  </s>
<s> Sandra I. Martinez National Institute of Standards and Technology 100 Bureau Drive, Stop 8970, Gaithersburg, Md.  </s>
<s> 20899 (301) 975-3579 sandra.martinez@nist.gov  </s>
<s> What is the final agreement on this one?  </s>
<s> Sandra  </s>
<s> Sandra I. Martinez National Institute of Standards and Technology 100 Bureau Drive, Stop 8970, Gaithersburg, Md.  </s>
<s> 20899 (301) 975-3579 sandra.martinez@nist.gov  </s>
<s> I am no expert on Unicode, but have sometimes the need to understand it.  </s>
<s> According to table 3.1B of Unicode 3.2, the sequence e0 9f ac is not a valid UTF-8 sequence.  </s>
<s> That much I understand.  </s>
<s> At this point I was assuming  </s>
<s> that this table allows one to check valid/shortest sequences.  </s>
<s> Now, this confuses me.  </s>
<s> The UTF-8 table allows this sequence, but it cannot map to 7EC, but must map to somewhere in the range 1000 to CFFF.  </s>
<s> So, is it now a sequence for 7EC, and if yes, where am I wrong?  </s>
<s> Karl  </s>
<s> I think we're agreed to change it to e2 80 a8, the only question is whether the old, mistaken value is legal or not, and we don't have to decide that.  </s>
<s> -- Richard  </s>
<s> Right.  </s>
<s> But if you don't check that it's legal, and follow the natural algorithm for decoding it, you will get 7EC.  </s>
<s> Some implementations just apply the algorithm blindly without checking.  </s>
<s> There were two mistakes: the code point used was 2028 decimal (= 7EC hex) instead of 2028 hex.  </s>
<s> And 2028 decimal was encoded as a 3-byte sequence instead of a 2-byte sequence.  </s>
<s> -- Richard  </s>
<s> Thanks, that clears it up for me.  </s>
<s> Karl  </s>
<s> Sandra, The updated configuration files are attached.  </s>
<s> Looks like they were being updated in CVS after we started pulling all this together, but attaching them anyways for completeness.  </s>
<s> (14) Tests invalid NameStartChars x2b00 and 2bff (16) Updated comment in the test case.  </s>
<s> (17) Tests invalid NameChars xFDD0 and xFDEF Regards,  </s>
<s> Glenn  </s>
<s> I have completed all the updates.  </s>
<s> CVS is ready to be checked.  </s>
<s> Glenn I still  </s>
<s> need an update for ibm-valid-P02-ibm02v01.xml Sandra  </s>
<s> Sandra I. Martinez National Institute of Standards and Technology 100 Bureau Drive, Stop 8970, Gaithersburg, Md.  </s>
<s> 20899 (301) 975-3579 sandra.martinez@nist.gov  </s>
<s> Glenn I still need an update for ibm-valid-P02-ibm02v01.xml  </s>
<s> Sorry, I had it in an earlier note that I missed sending along to you.  </s>
<s> Attached is test ibm-valid-P02-ibm02v01.xml -Glenn  </s>
<s> Thank you!! but notice the name of the test, ibm02v01 --- the one you sent me is the correct test but incorrect name (ibm02v011) I will save it under the right test name.  </s>
<s> Sandra  </s>
<s> Glenn I still need an update for ibm-valid-P02-ibm02v01.xml  </s>
<s> Sandra I. Martinez National Institute of Standards and Technology 100 Bureau Drive, Stop 8970, Gaithersburg, Md.  </s>
<s> 20899 (301) 975-3579 sandra.martinez@nist.gov  </s>
