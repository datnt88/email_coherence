<s> I attach a copy of the syntax document for your consideration for publication as a working draft.  </s>
<s> I think the following people  </s>
<s> were actioned to review it (no minutes as of this date recording it)  </s>
<s> Jeremy Carroll  </s>
<s> Jos De Roo  </s>
<s> Patrick Stickler but others, feel free :) The attached files corresponds to CVS version 1.333 of (CVS http://cvs.ilrt.org/cvsweb/redland/rdfcore/syntax/index.html ) plus the attached relaxng which are for information, not part of the document, but are intended to be published with the working draft.  </s>
<s> I think I need to carry on trying to improve the very new section 2 but it could be published as is.  </s>
<s> Dave # RELAX NG Schema (non-XML) for RDF/XML Syntax # This schema is for information only and NON-NORMATIVE # It is based on one originally written by James Clark in # http://lists.w3.org/Archives/Public/www-rdf-comments/2001JulSep/0248.html # and updated with later changes.  </s>
<s> namespace local = "" namespace rdf = "http://www.w3.org/1999/02/22-rdf-syntax-ns#" datatypes xsd = "http://www.w3.org/2001/XMLSchema-datatypes" start = doc doc = RDF RDF = element rdf:RDF { nodeElementList } nodeElementList = nodeElement* # Should be something like: # ws* , ( nodeElement , ws* )* # but RELAXNG does this by default, ignoring whitespace separating tags.  </s>
<s> nodeElement = element * - (local:* |rdf:RDF |rdf:ID|rdf:about |rdf:bagID|rdf:parseType|rdf:resource |rdf:li ) { (idAttr | aboutAttr )?, bagIdAttr?, propertyAttr*, propertyEltList # FIXME: Not sure if it is possible to say "and not things # beginning with _ in the rdf: namespace".  </s>
<s> ws = # Not used in this RELAX NG schema; but should be any legal XML # whitespace defined by http://www.w3.org/TR/2000/REC-xml-20001006#NT-S propertyEltList = propertyElt* # Should be something like: # ws* , ( propertyElt , ws* )* # but RELAXNG does this by default, ignoring whitespace separating tags.  </s>
<s> propertyElt = resourcePropertyElt | literalPropertyElt | parseTypeLiteralPropertyElt | parseTypeResourcePropertyElt | parseTypeOtherPropertyElt | emptyPropertyElt resourcePropertyElt = element * - (local:* |rdf:RDF|rdf:Description |rdf:ID|rdf:about |rdf:bagID|rdf:parseType|rdf:resource) { idAttr?, nodeElement literalPropertyElt = element * - (local:* |rdf:RDF|rdf:Description |rdf:ID|rdf:about |rdf:bagID|rdf:parseType|rdf:resource) { idAttr?, text parseTypeLiteralPropertyElt = element * - (local:* |rdf:RDF|rdf:Description |rdf:ID|rdf:about |rdf:bagID|rdf:parseType|rdf:resource) { idAttr?, parseLiteral, literal parseTypeResourcePropertyElt = element * - (local:* |rdf:RDF|rdf:Description |rdf:ID|rdf:about |rdf:bagID|rdf:parseType|rdf:resource) { idAttr?, parseResource, propertyEltList parseTypeOtherPropertyElt = element * - (local:* |rdf:RDF|rdf:Description |rdf:ID|rdf:about |rdf:bagID|rdf:parseType|rdf:resource) { idAttr?, parseOther, any emptyPropertyElt = element * - (local:* |rdf:RDF|rdf:Description |rdf:ID|rdf:about |rdf:bagID|rdf:parseType|rdf:resource) { (idAttr | resourceAttr)?, bagIdAttr?, propertyAttr* idAttr = attribute rdf:ID { IDsymbol aboutAttr = attribute rdf:about { URI-reference bagIdAttr = attribute rdf:bagID { IDsymbol propertyAttr = attribute * - (local:* |rdf:RDF|rdf:Description |rdf:ID|rdf:about |rdf:bagID|rdf:parseType|rdf:resource) { string resourceAttr = attribute rdf:resource { URI-reference parseLiteral = attribute rdf:parseType { "Literal" parseResource = attribute rdf:parseType { "Resource" parseOther = attribute rdf:parseType { text URI-reference = string literal = any IDsymbol = xsd:NMTOKEN any = mixed { element * { attribute * { text }*, any }* }  </s>
<s> Looks good.  </s>
<s> One immediate nit: "The RDF Model Theory ([RDF-MODEL]) is a graph consisting of nodes " ...the Model Theory itself isn't a graph; it's a theory.  </s>
<s> So we kind of want to say 'the RDF model is a', except we don't seem to use the word 'model' that way anymore.  </s>
<s> Same goes for 'the RDF data model', I think.  </s>
<s> "The RDF Model Theory" [RDF-MODEL] defines RDF as a graph..." perhaps?  </s>
<s> I've started using the phrase "the RDF information model" as a way of talking about the RDF style of representing stuff.  </s>
<s> Not sure it'd work in this context though.  </s>
<s> Dan  </s>
<s> Hi Dave,  </s>
<s> in "3 Data Model" last line ... part of the node ro computed from the string-value of contained nodes.  </s>
<s> ^^or in "3.6 Identifier Node" 2nd sentence ... These nodes are created by giving two values for the for the ... in "5.9 Production resourcePropertyElt" the N-Triples statement ... e.parent.subject.string-value  </s>
<s> e.URI n.subject.string-value; .  </s>
<s> I would propose to drop reification!  </s>
<s> so proposal to drop its sentences in 5.5, 5.9, 5.10, 5.11, 5.12 and 5.14 as well as "5.26 Reification Rules"  </s>
<s> Jos De Roo, AGFA http://www.agfa.com/w3c/jdroo/  </s>
<s> PS my review is in no sense complete (I lost half of this day with a serious panic situation in my family today, but it was a false alarm, and everything is alright now, luckily)  </s>
<s> Patrick's Comments: All in all, a great document, Dave.  </s>
<s> Only minor points came to mind.  </s>
<s> 1. Would it be good to add somewhere in section 2 para 2 a footnote or reference to some other section which warns users of RDF about the potential for unintended URI collisions based on direct concatenation of namespace to local name (loosing the partition) so that folks are aware of that issue and can avoid it when crafting qnames.  </s>
<s> Section 6 hints at some of these issues, but should they be more explicit?  </s>
<s> Particularly with regards to possible URI collisions?  </s>
<s> 2. Section 2 para 3, it would probably help users understand the striping structure of the serialization if there was a very simple graphic.  </s>
<s> 3. Section 2 para 5, you may want to change "property value is a string" to something like "property value is represented as a string" to avoid any incompatabilities with the eventual data typing clarifications.  </s>
<s> I think we all are at least in agreement that values denoted by serialized literals are represented as a string, whether they are or are not a string.  </s>
<s> 4. Section 2 para 6, you may wish to change "replacing the rdf:Description element" with "replacing the rdf:Description element name" as the element itself corresponds to an rdf:Description element and only the name change signifies the typing.  </s>
<s> 5. Section 3, list item "Element Information Item", you're missing a square bracket after "local name".  </s>
<s> 6. Section 3.6 para 1, you need to define what a "bNode" is in relation to a bnodeID.  </s>
<s> Since "bNodes" are not in the orig specs, folks will not know what they are (unless they've been lurking about the mailing lists).  </s>
<s> Question: Should we have a shared glossary of terms for all RDF specs?  </s>
<s> If so, we could then simply reference terms in general documents and not have to repeatedly define them or risk a loss of reader understanding if not defined.  </s>
<s> 7. Section 5.5 bullet list 1, since you define the namespace for RDF and the terms within that namespace sans any prefix, I think it is reasonable to omit the prefixes everywhere those terms are referenced, since 'rdf:' is not mandated by the spec and (it appears that) it is not necessary to differentiate those terms from other namespaces.  </s>
<s> It is also probably misleading to state conditions in terms of undefined prefixes.  </s>
<s> If the prefix is manditory in those examples, then there should be a clause somewhere saying that in this document, the prefix 'rdf:' will be used to refer to the RDF namespace.  </s>
<s> 8. Section 5.12, the generation of "local" identifiers for bNodes seems to take a per-instance scope view, yet these productions are for producing an RDF graph which may have content from multiple instances.  </s>
<s> Are we speaking only of generating a single graph from a single instance, which must later be merged into a larger graph constituting the combined knowledge space?  </s>
<s> If so, then we're OK with this scope, but it perhaps should be clarified that what we are generating is an instance specific graph and merging issues are not herein addressed.  </s>
<s> If however we are talking about a graph that should be mergeable with any other RDF graph without any considerations beyond tidying of nodes with equivalent URI labels, then we have the issue of creating bNode identifiers which are unique for that broader scope, which may in fact span more than one system.  </s>
<s> In such a case, would it be too presumptuous to recommend (though not mandate) GUIDs or UUIDs as bnodeID values?  </s>
<s> 9. Section 5.26, the names subject, predicate, and object are not included in the listed terms included in the RDF namespace given in section 4.4, where it presents an "exhaustive" list of terms.  </s>
<s> 10. Section 5.27, some discussion (possibly) should be provided for scenarios where there is a mingling of rdf:li and rdf:_n in the actual serialization.  </s>
<s> Should li-counter consider the explicit _n values?  </s>
<s> Should it ensure resume counting after the explicit _n value?  </s>
<s> Does the parser have to ensure no collisions or does it create a partial ordering?  </s>
<s> 11. Section 6, should a recommended algorithm for generating qnames on re-serialization be provided?  </s>
<s> One simple means of achieving reasonable round-tripping of at least qnames is to provide the RDF/XML writer with a set of namespace declarations to use and have it select for each URI the namespace which has the maximal intersection with the URI and use that for deriving the qname.  </s>
<s> 12. Appendix A.2 rdfms-qname-uri-mapping, this issue also includes the potential for collision, not just "wrong" URIs.  </s>
<s> 13. Appendix A.2 rdfms-difference-between-ID-and-about, should the decisions about this be more explicit in the normative sections?  </s>
<s> [Note: I didn't review Appendices B and C] Cheers, Patrick  </s>
<s> Jos:  </s>
<s> Mike Dean posted an interesting provenance example to webont: My take on this was not - wow a use case for reification, but ... This use case needs provenance.  </s>
<s> Provenance is an important part of the information; hence the provenance model should be an *explicit part* of the overall schema/ontology for the information being collected.  </s>
<s> i.e. RDF reification can be seen as a one size fits all solution for provenance, which history shows as having fitted hardly anyone.  </s>
<s> A better way, which is more in tune with the extremely open undogmatic nature of the semantic web, is to allow many different schemata for provenance to flourish and not to give preference to any one of them.  </s>
<s> I think we should not *drop* reification, just not encourage it.  </s>
<s> We can treat reification as a purely syntactic macro, turning an rdf:ID on a  </s>
<s> property element into the reification quad.  </s>
<s> We could offer no model theory, and no primer.  </s>
<s> It is there simply as a backward compatibility thing.  </s>
<s> Jeremy  </s>
<s> Jeremy:  </s>
<s> I think the rdf:ID is a good idea ;-) and then just say some-rdf-document#idea eg:saidBy hp:Jeremy .  </s>
<s> and of course, an engine/application interpreting that sentence has to *dereference* the subject (but that's all determined by the verb semantics)  </s>
<s> Jos  </s>
<s> Jeremy--  </s>
<s> I'm not sure what you're saying here.  </s>
<s> Certainly people are going to have their own views about what sort of information to provide about "provenance", and hence that needs to be part of the overall model/ontology, as you say.  </s>
<s> However, it's not clear to me that that observation means we can pass on dealing with the issue of how people do things like make comments about RDF statements (or groups of them), or do the other things for which "RDF reification" is currently cited as the solution.  </s>
<s> Mind you, I don't necessarily think that "RDF  </s>
<s> reification", as currently defined, is the right way to do these things, but these seem to be basic issues in applying RDF, and I don't think we can punt on them.  </s>
<s> --Frank  </s>
<s> Frank Manola The MITRE Corporation 202 Burlington Road, MS A345 Bedford, MA 01730-1420  </s>
<s> Jeremy:  </s>
<s> Frank:  </s>
<s> I think my point is precisely that we SHOULD punt on them.  </s>
<s> Despite the best efforts of the first group RDF reification has not solved the problems it set out to solve, or any others that anyone hopes it might solve.  </s>
<s> We are not chartered to modify it to actually solve problems (even if we knew how), hence are choices are: 1: drop it 2: or pass on it In fact, the observation that reification hasn't solved any problems argues moderately convincingly that these problems don't actually need to be solved.  </s>
<s> I note that Dave is currently minded to continue with what I see as a fatally flawed understanding of the syntax of reification (see subsequent message), and as such I am now wavering from "passing" to "dropping", however I will check with my HP colleagues before doing so ... [I wonder if Brian with his "HP colleague" hat on may support my making a proposal that he with his "chair" hat on then stomps on as out of charter?]  </s>
<s> Jeremy  </s>
<s> Patrick:  </s>
<s> These issues were all resolved before I joined the WG.  </s>
<s> The rdf:li is a simply macro that starts at 1 for each element and increments on each occurrence.  </s>
<s> Nothing clever.  </s>
<s> I guess following the issues list gets to the discussion eventually.  </s>
<s> Jeremy  </s>
<s> Still on Patrick's comments: Patrick:  </s>
<s> I think that would be a good addition; not necessarily this time round.  </s>
<s> Jeremy  </s>
<s> My comments on the body of the text (not the appendices) First - great work, a lot done over last time.  </s>
<s> I'll section my comments as BUGS (7), TYPOS (2), PHRASING (5), SUGGESTIONS (4), CLARITY (1).  </s>
<s> I'll use ***** to separate issues.  </s>
<s> I would suggest only attending to TYPOS in this release.  </s>
<s> (My view is that fixing the bugs is likely to introduce new unknown ones).  </s>
<s> Although these are the easier bugs: 1, 3, 4, 7. 2 could best be addressed for this release by noting that the processing of bagID is incomplete in this WD. 5 and 6 are not sufficiently serious to require attention, even if the bar is set higher than the Connolly level.  </s>
<s> BUGS (things where I think you have made a mistake, not merely where we differ) 1. Section 5.5 "if there is a propertyAttr attribute [...] with a.URI = rdf:li".  </s>
<s> This is illegal, as previously decided.  </s>
<s> error001.rdf  </s>
<s> 2. bagID Section 5.5 "Then for all statements generated above (except the previous statement)" A trivial point and a non-trivial one.  </s>
<s> 2.1 I prefer "(except the immediatly previous statement)" 2.2 They are not reified with node n.  </s>
<s> The rules as written would do the following: == _:a eg:a "a" .  </s>
<s> _:a eg:b "b" .  </s>
<s> #foo rdf:type rdf:Bag .  </s>
<s> #foo rdf:subject _:a .  </s>
<s> #foo rdf:predicate eg:a .  </s>
<s> #foo rdf:object "a" .  </s>
<s> #foo rdf:type rdf:Statement .  </s>
<s> #foo rdf:subject _:a .  </s>
<s> #foo rdf:predicate eg:b .  </s>
<s> #foo rdf:object "b" .  </s>
<s> #foo rdf:type rdf:Statement .  </s>
<s> The following are the underlying errors: the node n which you pass to 5.26 is used as the identifier for the reification quad, but you have created it as a bag in which to collect the various reification quads.  </s>
<s> you have not specified anywhere the fact that rdf:_NNN arcs are used to add the reifications to the bag.  </s>
<s> you appear not to have decided whether the following example creates one reification or two Approaches I have considered for correctly specifying this typically use: + a bagLiCounter that behaves similarly to your liCounter + a more complex passing of information up or down the parse tree.  </s>
<s> in ARP the current subject has a property being the bag of reifications which defaults to null.  </s>
<s> Whenever a triple is created the bag is considered, and the code branches if it is non-null, specifically catching the case above, where the reification that it was going to produce anyway is added to the Bag. in Snail the reification rules are blocked when there is a bagID, and the bagID is explicitly processed first.  </s>
<s> propertyElt productions are then marked with a reification attribute, corresponding to rdf:ID.  </s>
<s> in another approach (not documented) every property element production produces its reification, if a label is provided with an rdf:ID attribute then it is used.  </s>
<s> The nodeElement production then discards the reifications which have blank node roots, unless there is a bagID attribute.  </s>
<s> Your treatment of bagID on emptyPropertyElt is similarly defective.  </s>
<s> 3. 5.9 resourcePropertyElt In the rule: "nodeElement" == "ws* nodeElement ws*" 4. 5.12 parseTypeResourcePropertyElt Your text "start_element(URI=rdf:Description, subject=n, attributes=set(bagIdAttr=a) c end_element()" == Better text "start_element(URI=rdf:Description, subject=n, attributes=set() c end_element() " This has nothing to do with bagID.  </s>
<s> 5. 5.14 emptyPropertyElt The text doesn't cover the case with bagID and optional rdf:ID.  </s>
<s> e.g. or If you want to follow M&amp;S para 232 then the the rdf:ID is a reification :-).  </s>
<s> M&amp;S doesn't specify what the bagID means in this case either.  </s>
<s> ARP takes it to introduce a new node which is an empty Bag. 6. 5.15 idAttr 5.17 bagIDAttr No statement about unicity of ID.  </s>
<s> Any such statement needs to be clear that both come from the same space.  </s>
<s> 7. 5.18 propertyAttr rdf:li should be in the list of exclusions.  </s>
<s> Personally I would also exclude: rdf:subject rdf:predicate rdf:Seq rdf:Bag rdf:Alt rdf:Statement rdf:Property TYPOS 8. "precisely called an directed" = "precisely called a directed" 9. "properties and form for skipping" = properties and for skipping" PHRASING, ISSUES (aka minor points with no suggestions) 10.  </s>
<s> I don't like Dan's "defines RDF as a graph" - I think this is a discussion topic at some point.  </s>
<s> For me, and I think for Pat, the graph is the primary syntax for RDF.  </s>
<s> Certainly the current text will do for now.  </s>
<s> 11.  </s>
<s> "turns sequences of Node, Arc," = "turns paths in the graph of the form Node, Arc," (I prefer the more technical graph theoretic language - not important).  </s>
<s> 12. Section "4.3 Notation Forms" does not print well.  </s>
<s> 13.  </s>
<s> Do we need to say anything about dialects such as RSS or PRISM that do not require the full RDF/XML syntax or a triple based approach to processing RDF.  </s>
<s> i.e. at some level any processing that does not violate the model theory is cool!  </s>
<s> 14.  </s>
<s> In section 5.1 "the grammar may be entered several times", ARP currently remembers the ID state and prohibits the reuse of an ID across reinvocations in the same document.  </s>
<s> What do you think?  </s>
<s> I have no axe here.  </s>
<s> e.g. ARP gives an error with all of the following: and and SUGGESTIONS 15.  </s>
<s> Every use of production "ws" is currently "ws*".  </s>
<s> Since "S" already is 1 or more space characters, these uses of "ws" could be "ws?".  </s>
<s> My preference would be to define "ws" as "S?" and then use "ws" undecorated in the relevant productions (propertyEltList etc.) 16.  </s>
<s> I think the document would benefit from an introduction to the processing model used in the triple production rules e.g.  </s>
<s> This document describes the relationship between an RDF/XML document and an N-triple document by describing a particular processing of the XML Infoset.  </s>
<s> The N-triple document then naturally describes an RDF graph, (as in Model Theory).  </s>
<s> This particular processing model is illustrative and non-normative; any other processing model resulting in the same RDF graph may be used.  </s>
<s> In particular: + triples may be generated in any order + duplicates may be eliminated at any point + there is no requirement on RDF processors to support N-triples in any way The processing model converts the XML Infoset into a closely related set of Information Items, and then processes these Information Items using declarative "grammar" rules and procedural rules generating triples that are added to the N-triple output.  </s>
<s> 17.  </s>
<s> The phrase "generate a local identifier" occurs a few times.  </s>
<s> It may be clearer to add a subsection at the end of section 5 which clarifies that these identifiers are new on each invocation and unique with file scope.  </s>
<s> This would behave similarly to the List Expansion Rules or the Reification Rules as a function in the processing model.  </s>
<s> 18.  </s>
<s> How about dropping parseTypeOtherPropertyElt? In M&amp;S the corresponding section reads to me as here is how to handle bad input.  </s>
<s> As a rule we are trying to drop any such suggestions.  </s>
<s> CLARITY 19.  </s>
<s> I believe you have implied that comments and processing instructions get stripped before computing the string-value of a Text Node.  </s>
<s> This is however unclear.  </s>
<s> Jeremy  </s>
<s> Jeremy-- I don't think we disagree on how effective "RDF reification" has been in solving problems.  </s>
<s> My concern has to do with exactly what "drop" or "punt" means.  </s>
<s> In the current official W3C RDF specs, "RDF reification" is cited as the solution for certain problems (e.g., statements about statements, including which statements came from which Web source).  </s>
<s> If "drop" is interpreted literally, it means all references to reification, and those problems, are simply eliminated from the spec, without further comment.  </s>
<s> I don't believe it would be very responsible for us to do that.  </s>
<s> I'd prefer to see some explicit discussion (possibly in a non-normative appendix) describing those problems, and stating explicitly that we don't explicitly deal with those problems in our (revised) specifications.  </s>
<s> --Frank  </s>
<s> Frank Manola The MITRE Corporation 202 Burlington Road, MS A345 Bedford, MA 01730-1420  </s>
