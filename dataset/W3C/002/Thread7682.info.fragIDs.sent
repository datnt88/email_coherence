<s> When I'm trying to perform a directory browsing, that I'm going to present to a user.  </s>
<s> Should I then present the Displayname info or should I pars the href to get the name of the resource, from the Propfind request?  </s>
<s> If I should use the Displayname info, can I rely on that it only contains the name of the resource and not the complete path?  </s>
<s> ( this seems to be the case for IIS, Xythos, Zope.  </s>
<s> But not for CyberTeams server )  </s>
<s> /Rickard  </s>
<s> When I'm trying to perform a directory browsing, that I'm going to present to a user.  </s>
<s> Should I then present the Displayname info or should I pars the href to get the name of the resource, from the Propfind request?  </s>
<s> If I should use the Displayname info, can I rely on that it only contains the name of the resource and not the complete path?  </s>
<s> ( this seems to be the case for IIS, Xythos, Zope.  </s>
<s> But not for CyberTeams server )  </s>
<s> Noone has answered, so I will take a stab.  </s>
<s> I don't think you can count on it containing anything and even that it exists.  </s>
<s> If it does exist, it does seem like the thing you'd want to display.  </s>
<s> Note: I don't think it's even technically required to correspond to the URI at all.  </s>
<s> Note: in the presence of multiple bindings, if the server initializes it to the URI and treats it as a dead property, that URI might be different from the URI from which it was accessed.  </s>
<s> This unexpected behavior is even  </s>
<s> possible (but less likely) if the value is only initialized to the last segment of the URI.  </s>
<s> That's only the technical answer.  </s>
<s> If you were asking for a consensus answer, you can add DAV4J to the list.  </s>
<s> It currently treats it as a dead property that gets initialized to the full URI.  </s>
<s> It also allows the client  </s>
<s> to change the displayname to anything they wish.  </s>
<s> As another point of reference: mod_dav treats it as a dead property and does *not* initialize the value to anything.  </s>
<s> In other words, it (typically) does not exist on a resource.  </s>
<s> If it does, then it only contains whatever somebody happened to shove into it -- that could be a JPEG image for all mod_dav cares.  </s>
<s> Cheers, -g Greg Stein, http://www.lyra.org/  </s>
<s> client  </s>
<s> Well, the intent of the displayname property was to provide a mechanism by which a user could assign a more meaningful name to a resource other than just the URL.  </s>
<s> In particular I was thinking about non-latin character sets (like Kanji), which are currently poorly handled by existing URLs.  </s>
<s> However, this thread is certainly showing that there is an interoperability problem here.  </s>
<s> There are two choices: 1) Have the server make it a dead property, initialized to be empty.  </s>
<s> Clients would display the last path segment from the href URL preferentially, but would display the displayname property if set.  </s>
<s> 2) Have the sever make it a dead property, initialized to the last path segment of the href URL.  </s>
<s> The client would always use the displayname value.  </s>
<s> Since client behavior is currently closer to case (1), this might be the best plan for moving forward.  </s>
<s> - Jim  </s>
<s> Hmm, since properties are part of the state of the resource, in the presence  </s>
<s> of bindings it is more than possible for there to be multiple URI names for  </s>
<s> the same "display name".  </s>
<s> This removes the value of the displayname property.  </s>
<s> Some solutions: 1) move displayname to the collection, and have the collection maintain displayname/binding pairs (this solution seems icky to me)  </s>
<s> 2) deprecate displayname, and only use URIs for display to the user, and concentrate on i18n support for URIs.  </s>
<s> - Jim  </s>
<s> I vote for choice 2, since choice 1 is so egregiously bad.  </s>
<s> Cheers, Geoff From: Jim Whitehead ejw@ics.uci.edu  </s>
<s> Date: Fri, 21 Jan 2000 09:49:46 -0800 Content-Length: 708  </s>
<s> Hmm, since properties are part of the state of the resource, in the presence  </s>
<s> of bindings it is more than possible for there to be multiple URI names for  </s>
<s> the same "display name".  </s>
<s> This removes the value of the displayname property.  </s>
<s> Some solutions: 1) move displayname to the collection, and have the collection maintain displayname/binding pairs (this solution seems icky to me)  </s>
<s> 2) deprecate displayname, and only use URIs for display to the user, and concentrate on i18n support for URIs.  </s>
<s> - Jim  </s>
<s> I don't understand what the problem is.  </s>
<s> The client can use the displayname to store some user-interpretable name for a resource that is independent of the binding, so that the user can tell that these two URLs apply to the same resource (they probably won't look at resourceID).  </s>
<s> For example, the client could parse the title out of an HTML document and store it there.  </s>
<s> If you default the display name to the last segment of the URL, then things can get confusing as you point out.  </s>
<s> It's up to the client to do something useful here.  </s>
<s> --Eric  </s>
<s> presence  </s>
<s> for  </s>
<s> Rickard, The CyberTeams server will soon provide the displayname property, which will represent whatever is recommended for displaying to the user.  </s>
<s> We haven't been returning it before since most of our earlier testing has been against Web Folders, which calmly ignores any values in displayname.  </s>
<s> I would not rely on the href containing a meaningful resource name, especially when you are looking at something other than a file system.  </s>
<s> Cheers....... Randall Randall Severy severy@cyberteams.com  </s>
<s> http://www.cyberteams.com/severy  </s>
<s> CyberTeams, Inc. info@cyberteams.com http://www.cyberteams.com  </s>
<s> Mt. Airy, MD (301) 829-6144 "Building effective teams in cyberspace" 1-888-832-5575  </s>
<s> Jim, It's also a big issue when you're dealing with resources from something other than a simple filesystem.  </s>
<s> It's very risky to assume that the URL always refers to a filename that is meaningful to the user.  </s>
<s> For example, our WebSite Director DAV interface supports DAV access to our workflow processing.  </s>
<s> The URL for an update request in a workflow stage would be something like "/WSD/Editing/requestB18894", which of course would be virtually meaningless to users.  </s>
<s> The displayname property however, will be set to something like "ADD /mydir/myfile.html" or "MOVE /mydir/myfile.html  </s>
<s> TO /otherdir/myfile.html", which *will* be meaningful to users.  </s>
<s> Because of the fact that Web Folders ignores the displayname property, we're having to do some seriously ugly URL mangling to make our DAV interface even modestly useable.  </s>
<s> I think it should be an option for servers to initialize the property to something meaningful to users, as in the example given above.  </s>
<s> Also, clients should display the displayname property if set and only display the last part of the URL if there is no displayname property, again based on the example given above.  </s>
<s> This assumes that the last path segment of the href URL has any meaning to the user, which is often not the case when dealing with document repositories and other non-filesystem servers.  </s>
<s> Cheers....... Randall Randall Severy severy@cyberteams.com  </s>
<s> http://www.cyberteams.com/severy  </s>
<s> CyberTeams, Inc. info@cyberteams.com http://www.cyberteams.com  </s>
<s> Mt. Airy, MD (301) 829-6144 "Building effective teams in cyberspace" 1-888-832-5575  </s>
<s> Jim, As I just mentioned in an earlier response, this assumes that the URIs represent something meaningful to the user.  </s>
<s> If WebDAV is going to be used for anything other than simple file systems, I think this would be a seriously limiting solution.  </s>
<s> Cheers....... Randall Randall Severy severy@cyberteams.com  </s>
<s> http://www.cyberteams.com/severy  </s>
<s> CyberTeams, Inc. info@cyberteams.com http://www.cyberteams.com  </s>
<s> Mt. Airy, MD (301) 829-6144 "Building effective teams in cyberspace" 1-888-832-5575  </s>
<s> From: Randall Severy severy@cyberteams.com  </s>
<s> It's also a big issue when you're dealing with resources from something other than a simple filesystem.  </s>
<s> It's very risky to assume that the URL always refers to a filename that is meaningful to the user.  </s>
<s> I don't think anyone is assuming that the URL always refers to a filename.  </s>
<s> The real question is under what circumstances the URL cannot be made meaningful to the user.  </s>
<s> In a common authoring scenario, the author selects a collection, and then does a PUT, COPY, MOVE, MKCOL, MKRESOURCE, or whatever, to create a new member of that collection.  </s>
<s> It doesn't matter whether the resource is implemented as a file, a database record, or whatever.  </s>
<s> For example, our WebSite Director DAV interface supports DAV access to our workflow processing.  </s>
<s> The URL for an update request in a workflow stage would be something like "/WSD/Editing/requestB18894", which of course would be virtually meaningless to users.  </s>
<s> What WebDAV protocol do you use to create a new update request?  </s>
<s> There currently is no "create a resource and assign it whatever name you want" request.  </s>
<s> The versioning protocol has introduced a couple of methods like that to create specific versioning metadata resources, but normally resources contain the URL assigned to them by the user.  </s>
<s> The displayname property however, will be set to something like "ADD /mydir/myfile.html" or "MOVE /mydir/myfile.html  </s>
<s> TO /otherdir/myfile.html", which *will* be meaningful to users.  </s>
<s> Because of the fact that Web Folders ignores the displayname property, we're having to do some seriously ugly URL mangling to make our DAV interface even modestly useable.  </s>
<s> By ugly URL mangling, do you mean making the last segment of the URL be the displayname?  </s>
<s> Why is this a problem (other than the internationalization issues that Jim mentioned, and perhaps concern about the length of the URL)?  </s>
<s> Cheers, Geoff  </s>
<s> Geoff, My mistake.  </s>
<s> As you picked up on, the key word I was referring to was "meaningful", not "filename".  </s>
<s> What I should have asked is "isn't it risky to assume that the URL always represents something meaningful to the user?".  </s>
<s> I would argue that the answer is Yes, in that the DAV server should be able to choose to use URLs that mean something to the internal representation of the objects but that are complete gibberish to the users.  </s>
<s> Forcing the server to generate URLs that are meaningful to the user puts a severe limitation on server design, IMHO.  </s>
<s> WebSite Director is a workflow/approval-based authoring system.  </s>
<s> When you send PUT, MOVE, COPY, or DELETE methods to WebSite Director, the change is not immediately made to the filesystem, which would defeat the purpose of an approval system.  </s>
<s> Instead, WebSite Director automatically creates an update request in the workflow system that matches the original DAV request.  </s>
<s> Following the necessary approvals of that update request, the actual update to the web site takes place.  </s>
<s> It is functionally equivalent to an FTP "incoming" directory, where a system administrator has to take some action to make an uploaded document visible and available to users by moving it out of the "incoming" directory.  </s>
<s> Consequently, WebSite Director assigns each new update request an internal identifier, which is used in the URL to refer to that pending update request (there's no point in using the original URL provided by the user since the update hasn't been published yet).  </s>
<s> That URL is in the form mentioned previously, "/WSD/Editing/requestB18894", for example.  </s>
<s> To be able to use Web Folders effectively with our workflow processing (since Web Folders doesn't do anything with the displayname property), we are adding functionality to mangle the URLs of update requests so that the above mentioned request would instead have a URL of: /WSD/Editing/MOVE |mydir|myfile.html  </s>
<s> TO |otherdir|myfile.html  </s>
<s> To be able to handle DAV methods against the above object, WebSite Director has to convert that mangled URL back into the internal identifier to figure out what to do.  </s>
<s> Just the simple fact that you can't include "/" characters in the "filename" component of a URL makes the above mangling very ugly.  </s>
<s> We settled on the vertical bar ("|") character as the closest approximation that we can get away with, but it's still very ugly.  </s>
<s> If, on the other hand, Web Folders (or any other DAV client) were to check for a displayname property, containing "MOVE /mydir/myfile.html  </s>
<s> TO /otherdir/myfile.html", for example, and display that to the user if it was found, it would work very smoothly for the client, the server, and the user.  </s>
<s> Cheers...... Randall Randall Severy severy@cyberteams.com  </s>
<s> http://www.cyberteams.com/severy  </s>
<s> CyberTeams, Inc. info@cyberteams.com http://www.cyberteams.com  </s>
<s> Mt. Airy, MD (301) 829-6144 "Building effective teams in cyberspace" 1-888-832-5575  </s>
<s> It seems to me the key issue here is whether the displayname property is a unique description for the resource (invariant of URL used to access it), or depends on its location in the namespace (and hence could depend on the URL used to access it).  </s>
<s> I like the idea of having the displayname property be a quality of the resource, essentially a short, URL-invariant description of the resource.  </s>
<s> If a resource was accessible via multiple URLs, the displayname would remain the same.  </s>
<s> The displayname also might very well not bear much correlation to the URL, and hence it probably makes sense to have its default value be blank, rather than the last path segment of the URL used to create it (or the last path segment of any URL used to access it).  </s>
<s> Also, since I don't appear to have done this already, I've added this issue to the issues list.  </s>
<s> - Jim  </s>
