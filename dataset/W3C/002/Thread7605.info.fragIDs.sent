<s> Jim, I don't know how to reproduce your findings, and I can't.  </s>
<s> Can you make your test script be even more verbose and print out the Headers and XML you are sending in the Request, and then what the headers and body that my server gives you in the Response.  </s>
<s> This will make it easier for me (and you) to track down issues, as I can see the series of Request/Response pairs for your tests.  </s>
<s> dead property http://example.com/author  </s>
<s> was preserved across deletion of /~jrd/foo.html  </s>
<s> This was a bug in my test code.  </s>
<s> Xythos returns two propstat elements in this case.  </s>
<s> The first one had an empy prop element, and a status of 200.  </s>
<s> The second one had the prop I was looking for, and the appropriate status code 404.  </s>
<s> As far as I can tell it's perfectly legal for Xythos to return that first propstat, even though there were no props in it.  </s>
<s> but it confused my code.  </s>
<s> Now fixed.  </s>
<s> Xythos is not guilty.  </s>
<s> PropPatch failed with tagged-list production  </s>
<s> here is more detail.  </s>
<s> The request is  </s>
<s> PROPPATCH /~jrd/foo.html  </s>
<s> If: http://www.sharemation.com:80/~jrd/foo.html  </s>
<s> ( locktoken:www.sharemation.com  </s>
<s> LockServeridu:977 )  </s>
<s> Content-Length: 185 Content-Type: text/xml The reply is server: IBM_HTTP_Server/1.3.6 Apache/1.3.7-dev (Win32) ApacheJServ/1.0 content-length: 320 date: Mon, 15 Nov 1999 12:55:00 GMT Does the If header I am passing look wrong to you?  </s>
<s> Header was fine, we were choking on the port (.com/ != .com:80/)  </s>
<s> Fixed, please continue your testing, Kevin  </s>
<s> Jim, I don't know how to reproduce your findings, and I can't.  </s>
<s> Can you make  </s>
<s> your  </s>
<s> This was a bug in my test code.  </s>
<s> Xythos returns two propstat elements in this case.  </s>
<s> The first one had an empy prop element, and a status of 200.  </s>
<s> The second one had the prop I was looking for, and the appropriate status code 404.  </s>
<s> As far as I can tell it's perfectly legal for Xythos to return that first propstat, even though there were no props in it.  </s>
<s> but it confused my code.  </s>
<s> Now fixed.  </s>
<s> Xythos is not guilty.  </s>
<s> PropPatch failed with tagged-list production  </s>
<s> here is more detail.  </s>
<s> The request is  </s>
<s> PROPPATCH /~jrd/foo.html  </s>
<s> If: http://www.sharemation.com:80/~jrd/foo.html  </s>
<s> ( locktoken:www.sharemation.com  </s>
<s> LockServeridu:977 )  </s>
<s> Content-Length: 185 Content-Type: text/xml The reply is server: IBM_HTTP_Server/1.3.6 Apache/1.3.7-dev (Win32) ApacheJServ/1.0 content-length: 320 Does the If header I am passing look wrong to you?  </s>
<s> I am glad you fixed it (and can verify that you have) but it occurs to me that just maybe it was not a bug in Xythos but rather a bug in tdav.  </s>
<s> I would like a second opinion.  </s>
<s> I was passing a coded URL that had an explicit port (80) Is there a rule about how to compare two coded URLs for identity, when one has an an explicit port and the other has no port (it was using the default port, in this case).  </s>
<s> Perhaps in RFC 2068?  </s>
<s> RFC2616 section 3.2.3 has it...? "A port that is empty or not given is equivalent to the default port for that URI-reference;" joe  </s>
<s> Ahh I think this is one for the list..  </s>
<s> The problem is not that you sent in two different tokens in the If Header (In fact Xythos does handle multiple ones), the problem is that you mixed No-tag-list w/ Tagged-list, which I believe is not legal.  </s>
<s> Any other thoughts???  </s>
<s> The definition for If Header is If = "If" ":" (1*No-tag-list | 1*Tagged-list) In my mind (and I can be wrong here) this means 1 to many No-tag-lists OR 1 to many tagged lists.  </s>
<s> Thus what you sent is incorrect.  </s>
<s> Maybe I should give a better error.  </s>
<s> You seem to have If = "If" ":" (1*(No-tag-list | Tagged-list)) which I can do, but is not how Xythos read the spec.  </s>
<s> Thoughts??? Kevin Wowie.  </s>
<s> Great.  </s>
<s> One last bug If a resource is locked and the parent is also locked (with a different lock) then must pass both to delete it: PASS Can delete using both tokens: FAIL DELETE /~jrd/foox.html  </s>
<s> If: /~jrd/ ( locktoken:www.sharemation.comLockServeridu:1045 ) ( locktoken:www.sharemation.comLockServeridu:1044 ) None In other words, even if I pass both tokens, I still can't delete.  </s>
<s> (looks like in this case I am passing the token for the collection using tagged-list production and the token for the resource itself using no-tagged list) ps I have not tested authentication in any way with Xythos.  </s>
<s> pps I hope to test your DASL compliance real soon now.  </s>
<s> ppps great work. the xythos server is very impressive.  </s>
<s> I agree that mixing the request types is incorrect.  </s>
<s> mod_dav catches the (improper) mixing of the two list types and will return a 400 (Bad Request).  </s>
<s> [I'm not sure how verbose the response body is, though] In this case, though, the request *is* well-formed.  </s>
<s> A tagged-list can have multiple lists.  </s>
<s> In other words, the second list is *also* tagged with the "/~jrd/" URI.  </s>
<s> Since the second lock token is on /~jrd/foox.html rather than /~jrd/, the request *should* fail.  </s>
<s> On a separate note: the "locktoken:" URI scheme isn't registered with the IANA, is it?  </s>
<s> Shouldn't the Xythos server use a registered scheme?  </s>
<s> Cheers, -g  </s>
<s> Greg Stein, http://www.lyra.org/  </s>
