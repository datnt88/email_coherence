<s> Hi: This is the sample detached signature XML document (edited) generated using XSS4J library.  </s>
<s> CanonicalizationMethod Algorithm="http://www.w3.org/TR/2000/WD-xml-c14n-20000119"/ SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#dsa-sha1"/ clquuM7UNQ268b6HiHbzQdThdjmEy4rce38pUmTm415QNDM51eOZVw== Observing it closely, I find that there is no reference to the XML Schema or DTD in the signature XML document!  </s>
<s> I also looked at the sample signature XML document referenced at .  </s>
<s> There ain't no Schema /DTD reference either!  </s>
<s> In absence of the reference to the XML Schema / DTD there, it isn't a valid XML document!  </s>
<s> What is the rationale here ?  </s>
<s> Are we saying here that the intelligence of getting hold of the XMLDSig Schema resides with the signature application ?  </s>
<s> Additionally, I note in the case of enveloping signatures, the document fragment between the root element is inserted within disg:Object ID="SomeID" xmlns="" xmlns:dsig="http://www.w3.org/2000/09/xmldsig#"  </s>
<s> Here again I have lost information about the schema location!  </s>
<s> Now, if I was to present the signature XML document to the signature application, then I need to provide the schema information separately.  </s>
<s> To sum it all, my concern is the loss of Schema information in both  </s>
<s> the cases that I mention.  </s>
<s> I believe there must be something that the designer's of the XMLDSig would have thought of which I have so far not grasped.  </s>
<s> I will appreciate some inputs on this.  </s>
<s> Thanks for your time.  </s>
<s> best regards XMLDSig Dev.  </s>
<s> Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.  </s>
<s> Correct, I expect many signature applications are well-formed XML applications.  </s>
<s> They recognize the namespace URI and know exactly what to do from that for signature validation.  </s>
<s> The processing rules [1] for Signature create well-formed XML, as does Canonical XML, without doctypes.  </s>
<s> I don't *believe* (though someone might correct me) that anything in the specification requires an XML Signature to have its doctype present.  </s>
<s> We do say the signature instance should be a laxly valid according to the schema definitions but this is a rather weak requirement and can be enforced without schema processing by application code.  </s>
<s> Some namespaces have dereferencing conventions associated with them such that when you dereference them you get the right resource.  </s>
<s> Presently, dereferencing the dsig namespace gives you the spec, but I'm working on setting it up such that if the client (schema validators) ask for text/xml or application/xml, you get the schema.  </s>
<s> I hope the schema community comes to a shared convention on this point.  </s>
<s> BTW: In [3], I've created an example that has a doctype declaration as well as xsi:schemaLocation that solves this problem if it is your concern.  </s>
<s> Why is xmlns="" ?  </s>
<s> "The default namespace can be set to the empty string.  </s>
<s> This has the same effect, within the scope of the declaration, of there being no default namespace."  </s>
<s> [4] So your rootElement isn't even a namespace, right?  </s>
<s> If it had a namespace, it might be dereferenceable, otherwise, if this is a concern of the application it could use xsi:schemaLocation .  </s>
<s> [1]  </s>
<s> 3.1.2.3 Construct the Signature element that includes SignedInfo, Object(s) (if desired, encoding may be different than that used for signing), KeyInfo (if required), and SignatureValue.  </s>
<s> [2] http://www.w3.org/TR/2001/PR-xml-c14n-20010119 [3] http://www.w3.org/Signature/Drafts/xmldsig-core/signature-example.xml [4] http://www.w3.org/TR/REC-xml-names/ Joseph Reagle Jr. http://www.w3.org/People/Reagle/ W3C Policy Analyst mailto:reagle@w3.org  </s>
<s> IETF/W3C XML-Signature Co-Chair http://www.w3.org/Signature W3C XML Encryption Chair http://www.w3.org/Encryption/2001/  </s>
<s> Might me a little of-topic, but what reason might anybody have to ask questions here anonymously.  </s>
<s> Hmm.  </s>
<s> Makes me wonder.... If you don't mind, please explain!  </s>
<s> Peter Dr. Peter Lipp IAIK, TU-Graz Inffeldgasse 16a, A-8010 Graz, Austria  </s>
