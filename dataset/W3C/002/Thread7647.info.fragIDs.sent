Hello all, I have a question regarding WebDAV responses -- 
Are responses for specific methods required to be multistatus? 
I suppose GET or HEAD requests will not result in a multistatus reponse; the RFC even gives examples for LOCK where the response is a 200 OK. 
But can other requests like PROPFIND result in a non-multistatus response, say in a situation where a single resource is being queried? 
The PROFIND section 8.1 in the RFC says that "servers MUST support returning a response [..] that contains a multistatus XML element", but later in the same section it says "a request to retrieve the value of a property which does not exist is an error and MUST be noted, **if** the response uses a 
multistatus XML element..." (emphasis mine). 
The last "if" makes it unclear whether clients should be prepared to accept PROPFIND (or other) responses that are not multistatus. 
I apologize if this question has been answered before on this list. 
Thanks, Kaushik 
Are responses for specific methods required to be multistatus? 
I apologize if this question has been answered before on this list. 
I believe it has been discussed. 
I believe I brought it up and the conclusion was that PROPPATCH and PROPFIND must return multistatus and take no shortcuts. 
The reasoning behind this was that it made things more predictable for the client and really wasn't any harder for the server. 
If it's not already on the issues list, a clarification of this should be added to that list. 
I would disagree. 
I think that it is quite valid to return something like 403 (Forbidden) or 401 (Authorization required) as a response. 
Heck, you could also return something like 412 or 301, too. 
In each of these cases, the 3xx or 4xx applies to the Request-URI. 
If a status code ever applies to a URI *other* than the Request-URI (say, caused by a Depth: header), then a 207 (Multistatus) MUST be returned. 
Cheers, -g Greg Stein, http://www.lyra.org/ 
In my initial query I had assumed that 4xx or 3xx are valid. 
I meant to ask about successful responses -- whether they must be 207, or whether a 200 could be expected as well. 
To paraphrase: Are 200 responses for PROPFIND allowed? 
Thanks, Kaushik 
Nope. 
If a PROPFIND succeeds, then it is going to be returning properties. 
Therefore, it must return a 207 which contains the multistatus element. 
Sure, it is theoretically possible to state that the 200 has the XML body, but that's not what was defined. 
PROPFIND returns 207 on success. 
Cheers, -g Greg Stein, http://www.lyra.org/ 
I would disagree. 
I think that it is quite valid to return something like 403 (Forbidden) or 401 (Authorization required) as a response. 
Heck, you could also return something like 412 or 301, too. 
In each of these cases, the 3xx or 4xx applies to the Request-URI. 
If a status code ever applies to a URI *other* than the Request-URI (say, caused by a Depth: header), then a 207 (Multistatus) MUST be returned. 
I've jogged my memory a abit. 
The discussion I mentioned only discussed PROPSTAT responses. 
As I said, the conclusion was that shortcuts would not be taken. 
The multistatus had to be fully populated and follow a standard formula. 
There was a bit of discussion of if a fully populated MULTISTATUS response was really merited for a pure 200 response. 
(Although consistant, it seemed like a bit of a pain to parse through all the XML just to find out everything was okay.) The thread seemed to conclude mildly in favor of not making an exception for 200. 
As I said, this was just PROPPATCH. 
PROPFIND was not discussed in that thread. 
And it doesn't discredit what Greg says. 
(It *is* reasonable to just return a single status for some situations.) That thread just valued a predictable response more highly. 
The conclusion didn't seem to be strongly held. 
If you're writing a client, you'd better handle it both ways. 
And we should make sure this hits the issues list and that the issues list gets processed. 
J. 
