<s> John, Thank you for the opportunity to comment on this updated draft.  </s>
<s> My previous suggestions seem to have been addressed quite well in this version.  </s>
<s> I have a few new questions: *In section 2.1 (with regard to the third paragraph), please confirm that comments in the internal subset are always discarded, regardless of any Boolean flag controlling overall handling of comment nodes.  </s>
<s> Words to this effect may be a worthwhile addition to this section.  </s>
<s> *In the bullets near the end of section 2.2, the term "sorted lexicographically" is ambiguous.  </s>
<s> Do you mean that namespace and attribute nodes are output in order from least to greatest lexicographically?  </s>
<s> Or, greatest to least?  </s>
<s> (The later examples show the first.) *In the same bullets, why are attribute nodes output using an order derived from the namespace URI values?  </s>
<s> Such a requirement seems more appropriate if the Canonical XML recommendation includes namespace re-writing rules.  </s>
<s> As things are now, why not sort the attributes using the namespace prefix as the primary key?  </s>
<s> *In the last two bullets in section 2.3, the addition of leading #xA characters according to the given rules will add such characters in most contexts.  </s>
<s> Comments and processing instructions are likely to occur within the document and will thus have a greater document order than the document element.  </s>
<s> I believe you meant to limit this addition to processing instructions and comment nodes with a greater document order than the end of the document element.  </s>
<s> *As an example of the previous point, the "Canonical Form (commented)" example in the table of section 3.1 should (according to the existing rules) have a leading #xA prior to "Comment 1." *Since validating XML processors are required to normalize (remove) any leading or trailing whitespace in an attribute value where that attribute is declared to be of a type other than CDATA, the canonical form for the normId element in section 3.4 should be normId id="' &amp;#xD;&amp;#xA;&amp;#x9; '" /normId .  </s>
<s> That is, this example should not have a space between the enclosing quotation marks and the first and last apostrophes.  </s>
<s> thanx, doug Doug Bunting cXML Standards Manager Ariba, Inc. lesch@w3.org; Martin J. Duerst; Petteri Stenius Hi all, You are getting this email because the new September 7 version of C14N [1] addresses last call issues that include changes based on your feedback.  </s>
<s> It would be very helpful if you could have a look at the last call issues list [2], read the resolutions, and send an email to the dsig group to indicate either that you are satisfied that your issue was resolved or if you require further changes.  </s>
<s> PLEASE SEND YOUR RESPONSE TO THE DSIG GROUP so I can provide links from the last call document to your affirmation.  </s>
<s> Thanks for your patience and kind attention to this matter.  </s>
<s> We would like to submit for candidate recommendation next week, so if you could cut some time out of this week to do this, I would really appreciate it.  </s>
<s> [1] http://www.w3.org/TR/2000/WD-xml-c14n-20000907 [2] http://www.w3.org/Signature/2000/09/06-c14n-last-call-issues.html  </s>
<s> Thanks, John Boyer Development Team Leader, Distributed Processing and XML PureEdge Solutions Inc. Creating Binding E-Commerce v: 250-479-8334, ext.  </s>
<s> 143 f: 250-479-3772 1-888-517-2675 http://www.pureedge.com/  </s>
<s> http://www.PureEdge.com  </s>
<s> Hi, I strongly agree with Doug Bunting's note: r/Doug@ariba.com/2000.09.26/12:47:45  </s>
<s> *In [the bullets near the end of section 2.2], why are attribute nodes output using an order derived from the namespace URI values?  </s>
<s> Such a requirement seems more appropriate if the Canonical XML recommendation includes namespace re-writing rules.  </s>
<s> As things are now, why not sort the attributes using the namespace prefix as the primary key?  </s>
<s> Sorting by URI value is reasonably more complex than sorting by prefix.  </s>
<s> Additionally, consider the following document: And consider a node set including everything but xmlns:foo="rab".  </s>
<s> For sorting purposes, is the namespace URI of foo:attr equal to "rab" or "bar"?  </s>
<s> According to my parser, it is equal to "rab" but according to my node set it is "bar".  </s>
<s> 2.2 states that "an element E has namespace nodes that represent its namespace declarations..." which does not preclude namespace attributes absent from the node set.  </s>
<s> If we sort by namespace prefix then this problem does not arise because interpretation of the attribute's namespace URI does not affect sorting.  </s>
<s> Merlin  </s>
<s> Hi Doug, John, Thank you for the opportunity to comment on this updated draft.  </s>
<s> My previous suggestions seem to have been addressed quite well in this version.  </s>
<s> I have a few new questions: a..  </s>
<s> In section 2.1 (with regard to the third paragraph), please confirm that comments in the internal subset are always discarded, regardless of any Boolean flag controlling overall handling of comment nodes.  </s>
<s> Words to this effect may be a worthwhile addition to this section.  </s>
<s> b.. c.. john They are, by virtue of eliminating the DTD as listed in section 1.1.  </s>
<s> I will add a parenthetic statement to clarify this in Section 2.1 as requested.  </s>
<s> /john a.. b..  </s>
<s> In the bullets near the end of section 2.2, the term "sorted lexicographically" is ambiguous.  </s>
<s> Do you mean that namespace and attribute nodes are output in order from least to greatest lexicographically?  </s>
<s> Or, greatest to least?  </s>
<s> (The later examples show the first.) john Lexicographically literally means 'dictionary order', which is ascending in the chosen alphabet (UTF-8 in our case), so I did not think there was ambiguity here.  </s>
<s> /john In the same bullets, why are attribute nodes output using an order derived from the namespace URI values?  </s>
<s> Such a requirement seems more appropriate if the Canonical XML recommendation includes namespace re-writing rules.  </s>
<s> As things are now, why not sort the attributes using the namespace prefix as the primary key?  </s>
<s> john They are sorted by namespace URI because this follows more closely the intent of XML Names, which is to identify namespaces by URI+localname, not by prefix+localname.  </s>
<s> Thus, the effect of the sort is to group together all attributes that are in the same namespace.  </s>
<s> Though not a requirement for producing an unambiguous canonical form, it is preferrable, particularly if one factors in the optics of *appearing* to violate the intent of XML names by sorting with prefixes, even if one is not technically violating the intent.  </s>
<s> /john a..  </s>
<s> In the last two bullets in section 2.3, the addition of leading #xA characters according to the given rules will add such characters in most contexts.  </s>
<s> Comments and processing instructions are likely to occur within the document and will thus have a greater document order than the document element.  </s>
<s> I believe you meant to limit this addition to processing instructions and comment nodes with a greater document order than the end of the document element.  </s>
<s> john Actually, I meant what was said, which is that the leading and trailing #xA are added to *children of the root node* with the document order characteristics given in Section 2.3.  </s>
<s> Only comments outside of the top-level document element can be children of the root node.  </s>
<s> a..  </s>
<s> As an example of the previous point, the "Canonical Form (commented)" example in the table of section 3.1 should (according to the existing rules) have a leading #xA prior to "Comment 1." b.. c.. john Actually, the point of examples was to make sure everybody understood exactly what was meant by the prose in the specification.  </s>
<s> There should not be a leading #xA prior to Comment 1 because it is a child of element doc , not a child of the root node.  </s>
<s> /john d.. e.. Since validating XML processors are required to normalize (remove) any leading or trailing whitespace in an attribute value where that attribute is declared to be of a type other than CDATA, the canonical form for the normId element in section 3.4 should be normId id="' &amp;#xD;&amp;#xA;&amp;#x9; '" /normId .  </s>
<s> That is, this example should not have a space between the enclosing quotation marks and the first and last apostrophes.  </s>
<s> john Agreed.  </s>
<s> In [1], I mentioned this to Karlinger.  </s>
<s> [1] So, in summary, I intend to fix example 3.4 in the way described in [1], and I intend to add a parenthetic clarifying the loss of comments in DTDs due to loss of DTDs in Section 2.1.  </s>
<s> Good?  </s>
<s> Thanks, John Boyer thanx, doug Doug Bunting cXML Standards Manager Ariba, Inc. lesch@w3.org; Martin J. Duerst; Petteri Stenius Hi all, You are getting this email because the new September 7 version of C14N [1] addresses last call issues that include changes based on your feedback.  </s>
<s> It would be very helpful if you could have a look at the last call issues list [2], read the resolutions, and send an email to the dsig group to indicate either that you are satisfied that your issue was resolved or if you require further changes.  </s>
<s> PLEASE SEND YOUR RESPONSE TO THE DSIG GROUP so I can provide links from the last call document to your affirmation.  </s>
<s> Thanks for your patience and kind attention to this matter.  </s>
<s> We would like to submit for candidate recommendation next week, so if you could cut some time out of this week to do this, I would really appreciate it.  </s>
<s> [1] http://www.w3.org/TR/2000/WD-xml-c14n-20000907 [2] http://www.w3.org/Signature/2000/09/06-c14n-last-call-issues.html  </s>
<s> Thanks, John Boyer Development Team Leader, Distributed Processing and XML PureEdge Solutions Inc. Creating Binding E-Commerce v: 250-479-8334, ext.  </s>
<s> 143 f: 250-479-3772 1-888-517-2675 http://www.PureEdge.com  </s>
<s> Hi Merlin, Firstly, note that the specific examples you give are now illegal because they are not absolute URIs.  </s>
<s> The c14n document will soon be changed such that the examples contain a leading scheme.  </s>
<s> This is aside from your main point though.  </s>
<s> As to that point, the omission of xmlns:foo="rab" should actually have no effect on the namespace URI of foo:attr.  </s>
<s> The assignment of namespace URI is done at parse time and does not change based on omissions from the node-set.  </s>
<s> In order for an omission to have such an effect, you would have to create the canonical form, then parse the canonical form.  </s>
<s> Since sorting by namespace URI does not cause the problem you mention, this should get rid of the major part of the objection to sorting by namespace URI.  </s>
<s> As for why we do this, we sort by namespace URI because this follows more closely the intent of XML Names, which is to identify namespaces by URI+localname, not by prefix+localname.  </s>
<s> Thus, the effect of the sort is to group together all attributes that are in the same namespace.  </s>
<s> Though not a requirement for producing an unambiguous canonical form, it is preferrable, particularly if one factors in the optics of *appearing* to violate the intent of XML names by sorting with prefixes, even if one is not technically violating the intent.  </s>
<s> John Boyer Development Team Leader, Distributed Processing and XML PureEdge Solutions Inc. Creating Binding E-Commerce v: 250-479-8334, ext.  </s>
<s> 143 f: 250-479-3772 1-888-517-2675 http://www.PureEdge.com  </s>
<s> http://www.pureedge.com/  </s>
<s> [mailto:w3c-ietf-xmldsig-request@w3.org]On  </s>
<s> Behalf Of merlin Hi, I strongly agree with Doug Bunting's note: r/Doug@ariba.com/2000.09.26/12:47:45  </s>
<s> *In [the bullets near the end of section 2.2], why are attribute nodes output using an order derived from the namespace URI values?  </s>
<s> Such a requirement seems more appropriate if the Canonical XML recommendation includes namespace re-writing rules.  </s>
<s> As things are now, why not sort the attributes using the namespace prefix as the primary key?  </s>
<s> Sorting by URI value is reasonably more complex than sorting by prefix.  </s>
<s> Additionally, consider the following document: And consider a node set including everything but xmlns:foo="rab".  </s>
<s> For sorting purposes, is the namespace URI of foo:attr equal to "rab" or "bar"?  </s>
<s> According to my parser, it is equal to "rab" but according to my node set it is "bar".  </s>
<s> 2.2 states that "an element E has namespace nodes that represent its namespace declarations..." which does not preclude namespace attributes absent from the node set.  </s>
<s> If we sort by namespace prefix then this problem does not arise because interpretation of the attribute's namespace URI does not affect sorting.  </s>
<s> Merlin  </s>
<s> John, Thanks for the updates and corrections.  </s>
<s> My remaining points are pretty minor and follow from your answers below: *Though "sorted lexicographically" may not be truly ambiguous, it sounded ambiguous on my reading through the document.  </s>
<s> I may have had the same trouble with the simpler term "sorted alphabetically."  </s>
<s> In case others may be similarly confused, could you add a comment (such as "from least to greatest")?  </s>
<s> *The distinctions between children and descendants in any tree and between the document element and the root node often lead to confusion.  </s>
<s> In my reading of section 2.3, I definitely got confused.  </s>
<s> As above, a clarifying comment such as "outside the top-level document element itself" would help.  </s>
<s> later, doug Doug Bunting cXML Standards Manager Ariba, Inc. Hi Doug, John, Thank you for the opportunity to comment on this updated draft.  </s>
<s> My previous suggestions seem to have been addressed quite well in this version.  </s>
<s> I have a few new questions: *In section 2.1 (with regard to the third paragraph), please confirm that comments in the internal subset are always discarded, regardless of any Boolean flag controlling overall handling of comment nodes.  </s>
<s> Words to this effect may be a worthwhile addition to this section.  </s>
<s> * john They are, by virtue of eliminating the DTD as listed in section 1.1.  </s>
<s> I will add a parenthetic statement to clarify this in Section 2.1 as requested.  </s>
<s> /john *In the bullets near the end of section 2.2, the term "sorted lexicographically" is ambiguous.  </s>
<s> Do you mean that namespace and attribute nodes are output in order from least to greatest lexicographically?  </s>
<s> Or, greatest to least?  </s>
<s> (The later examples show the first.) john Lexicographically literally means 'dictionary order', which is ascending in the chosen alphabet (UTF-8 in our case), so I did not think there was ambiguity here.  </s>
<s> /john In the same bullets, why are attribute nodes output using an order derived from the namespace URI values?  </s>
<s> Such a requirement seems more appropriate if the Canonical XML recommendation includes namespace re-writing rules.  </s>
<s> As things are now, why not sort the attributes using the namespace prefix as the primary key?  </s>
<s> john They are sorted by namespace URI because this follows more closely the intent of XML Names, which is to identify namespaces by URI+localname, not by prefix+localname.  </s>
<s> Thus, the effect of the sort is to group together all attributes that are in the same namespace.  </s>
<s> Though not a requirement for producing an unambiguous canonical form, it is preferrable, particularly if one factors in the optics of *appearing* to violate the intent of XML names by sorting with prefixes, even if one is not technically violating the intent.  </s>
<s> /john *In the last two bullets in section 2.3, the addition of leading #xA characters according to the given rules will add such characters in most contexts.  </s>
<s> Comments and processing instructions are likely to occur within the document and will thus have a greater document order than the document element.  </s>
<s> I believe you meant to limit this addition to processing instructions and comment nodes with a greater document order than the end of the document element.  </s>
<s> john Actually, I meant what was said, which is that the leading and trailing #xA are added to *children of the root node* with the document order characteristics given in Section 2.3.  </s>
<s> Only comments outside of the top-level document element can be children of the root node.  </s>
<s> *As an example of the previous point, the "Canonical Form (commented)" example in the table of section 3.1 should (according to the existing rules) have a leading #xA prior to "Comment 1." * john Actually, the point of examples was to make sure everybody understood exactly what was meant by the prose in the specification.  </s>
<s> There should not be a leading #xA prior to Comment 1 because it is a child of element doc , not a child of the root node.  </s>
<s> /john *Since validating XML processors are required to normalize (remove) any leading or trailing whitespace in an attribute value where that attribute is declared to be of a type other than CDATA, the canonical form for the normId element in section 3.4 should be normId id="' &amp;#xD;&amp;#xA;&amp;#x9; '" /normId .  </s>
<s> That is, this example should not have a space between the enclosing quotation marks and the first and last apostrophes.  </s>
<s> john Agreed.  </s>
<s> In [1], I mentioned this to Karlinger.  </s>
<s> [1] So, in summary, I intend to fix example 3.4 in the way described in [1], and I intend to add a parenthetic clarifying the loss of comments in DTDs due to loss of DTDs in Section 2.1.  </s>
<s> Good?  </s>
<s> Thanks, John Boyer thanx, doug Doug Bunting cXML Standards Manager Ariba, Inc. -----Original Message----- lesch@w3.org;  </s>
<s> Martin J. Duerst; Petteri Stenius Hi all, You are getting this email because the new September 7 version of C14N [1] addresses last call issues that include changes based on your feedback.  </s>
<s> It would be very helpful if you could have a look at the last call issues list [2], read the resolutions, and send an email to the dsig group to indicate either that you are satisfied that your issue was resolved or if you require further changes.  </s>
<s> PLEASE SEND YOUR RESPONSE TO THE DSIG GROUP so I can provide links from the last call document to your affirmation.  </s>
<s> Thanks for your patience and kind attention to this matter.  </s>
<s> We would like to submit for candidate recommendation next week, so if you could cut some time out of this week to do this, I would really appreciate it.  </s>
<s> [1] http://www.w3.org/TR/2000/WD-xml-c14n-20000907 [2] http://www.w3.org/Signature/2000/09/06-c14n-last-call-issues.html  </s>
<s> Thanks, John Boyer Development Team Leader, Distributed Processing and XML PureEdge Solutions Inc. Creating Binding E-Commerce v: 250-479-8334, ext.  </s>
<s> 143 f: 250-479-3772 1-888-517-2675 http://www.pureedge.com/  </s>
<s> http://www.PureEdge.com  </s>
<s> Hi Doug, OK, I will add additional clarifying text for these two points.  </s>
<s> Thanks, John Boyer PureEdge Solutions Inc. [mailto:w3c-ietf-xmldsig-request@w3.org]On Behalf Of Doug Bunting John, Thanks for the updates and corrections.  </s>
<s> My remaining points are pretty minor and follow from your answers below: a..  </s>
<s> Though "sorted lexicographically" may not be truly ambiguous, it sounded ambiguous on my reading through the document.  </s>
<s> I may have had the same trouble with the simpler term "sorted alphabetically."  </s>
<s> In case others may be similarly confused, could you add a comment (such as "from least to greatest")?  </s>
<s> b..  </s>
<s> The distinctions between children and descendants in any tree and between the document element and the root node often lead to confusion.  </s>
<s> In my reading of section 2.3, I definitely got confused.  </s>
<s> As above, a clarifying comment such as "outside the top-level document element itself" would help.  </s>
<s> later, doug Doug Bunting cXML Standards Manager Ariba, Inc. -----Original Message----- Hi Doug, John, Thank you for the opportunity to comment on this updated draft.  </s>
<s> My previous suggestions seem to have been addressed quite well in this version.  </s>
<s> I have a few new questions: a..  </s>
<s> In section 2.1 (with regard to the third paragraph), please confirm that comments in the internal subset are always discarded, regardless of any Boolean flag controlling overall handling of comment nodes.  </s>
<s> Words to this effect may be a worthwhile addition to this section.  </s>
<s> b.. c.. john They are, by virtue of eliminating the DTD as listed in section 1.1.  </s>
<s> I will add a parenthetic statement to clarify this in Section 2.1 as requested.  </s>
<s> /john a.. b..  </s>
<s> In the bullets near the end of section 2.2, the term "sorted lexicographically" is ambiguous.  </s>
<s> Do you mean that namespace and attribute nodes are output in order from least to greatest lexicographically?  </s>
<s> Or, greatest to least?  </s>
<s> (The later examples show the first.) john Lexicographically literally means 'dictionary order', which is ascending in the chosen alphabet (UTF-8 in our case), so I did not think there was ambiguity here.  </s>
<s> /john In the same bullets, why are attribute nodes output using an order derived from the namespace URI values?  </s>
<s> Such a requirement seems more appropriate if the Canonical XML recommendation includes namespace re-writing rules.  </s>
<s> As things are now, why not sort the attributes using the namespace prefix as the primary key?  </s>
<s> john They are sorted by namespace URI because this follows more closely the intent of XML Names, which is to identify namespaces by URI+localname, not by prefix+localname.  </s>
<s> Thus, the effect of the sort is to group together all attributes that are in the same namespace.  </s>
<s> Though not a requirement for producing an unambiguous canonical form, it is preferrable, particularly if one factors in the optics of *appearing* to violate the intent of XML names by sorting with prefixes, even if one is not technically violating the intent.  </s>
<s> /john a..  </s>
<s> In the last two bullets in section 2.3, the addition of leading #xA characters according to the given rules will add such characters in most contexts.  </s>
<s> Comments and processing instructions are likely to occur within the document and will thus have a greater document order than the document element.  </s>
<s> I believe you meant to limit this addition to processing instructions and comment nodes with a greater document order than the end of the document element.  </s>
<s> john Actually, I meant what was said, which is that the leading and trailing #xA are added to *children of the root node* with the document order characteristics given in Section 2.3.  </s>
<s> Only comments outside of the top-level document element can be children of the root node.  </s>
<s> a..  </s>
<s> As an example of the previous point, the "Canonical Form (commented)" example in the table of section 3.1 should (according to the existing rules) have a leading #xA prior to "Comment 1." b.. c.. john Actually, the point of examples was to make sure everybody understood exactly what was meant by the prose in the specification.  </s>
<s> There should not be a leading #xA prior to Comment 1 because it is a child of element doc , not a child of the root node.  </s>
<s> /john d.. e.. Since validating XML processors are required to normalize (remove) any leading or trailing whitespace in an attribute value where that attribute is declared to be of a type other than CDATA, the canonical form for the normId element in section 3.4 should be normId id="' &amp;#xD;&amp;#xA;&amp;#x9; '" /normId .  </s>
<s> That is, this example should not have a space between the enclosing quotation marks and the first and last apostrophes.  </s>
<s> john Agreed.  </s>
<s> In [1], I mentioned this to Karlinger.  </s>
<s> [1] So, in summary, I intend to fix example 3.4 in the way described in [1], and I intend to add a parenthetic clarifying the loss of comments in DTDs due to loss of DTDs in Section 2.1.  </s>
<s> Good?  </s>
<s> Thanks, John Boyer thanx, doug Doug Bunting cXML Standards Manager Ariba, Inc. -----Original Message----- lesch@w3.org;  </s>
<s> Martin J. Duerst; Petteri Stenius Hi all, You are getting this email because the new September 7 version of C14N [1] addresses last call issues that include changes based on your feedback.  </s>
<s> It would be very helpful if you could have a look at the last call issues list [2], read the resolutions, and send an email to the dsig group to indicate either that you are satisfied that your issue was resolved or if you require further changes.  </s>
<s> PLEASE SEND YOUR RESPONSE TO THE DSIG GROUP so I can provide links from the last call document to your affirmation.  </s>
<s> Thanks for your patience and kind attention to this matter.  </s>
<s> We would like to submit for candidate recommendation next week, so if you could cut some time out of this week to do this, I would really appreciate it.  </s>
<s> [1] http://www.w3.org/TR/2000/WD-xml-c14n-20000907 [2] http://www.w3.org/Signature/2000/09/06-c14n-last-call-issues.html  </s>
<s> Thanks, John Boyer Development Team Leader, Distributed Processing and XML PureEdge Solutions Inc. Creating Binding E-Commerce v: 250-479-8334, ext.  </s>
<s> 143 f: 250-479-3772 1-888-517-2675 http://www.PureEdge.com  </s>
