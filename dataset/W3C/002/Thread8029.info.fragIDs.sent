<s> I was after any recommendations or experience others have had of the best way to integrate WebDAV into an application.  </s>
<s> In particular, we want to ship a demo application with three distinct functionalities in the one web server:  </s>
<s> * WebDAV interface to a file system of documents that can be edited * Web based workflow interface for document management (users log on) * Public anonymous web interface to released documents I am thinking at present that the paths in the WebDAV folder are not going to be related to the paths in the public interface.  </s>
<s> The folder paths can be set up by users to whatever structure they want.  </s>
<s> The final public application paths are determined by the application logic.  </s>
<s> So URIs for WebDAV and for the public web interface are not going to be the same.  </s>
<s> One way to avoid collisions with URLs is to prefix the three different areas with a name  </s>
<s> The public access URL is not very nice though (people want to just go to http://localhost/), so the URI for / might relocate the user down into /public/...  </s>
<s> The real question for this list is, is there any reason against requiring client applications to use a base URI of http://localhost/webdav/ instead of http://localhost/ ?  </s>
<s> Are there any clients that assume WebDAV folders always start from /? Does it create any bad semantics starting from /webdav?  </s>
<s> The other logical alternative strategy I can see is to mount WebDAV from GET request on / relocates the user to /public/... DMS users can just be told to start at /dms in order to bring up the DMS interface.  </s>
<s> Is there any *best* thing to do?  </s>
<s> Or is intensionally left up to developers?  </s>
<s> Would any clients break if they had to be given http://localhost/webdav/ instead of http://localhost/?  </s>
<s> Thanks as always  </s>
<s> Alan  </s>
<s> I can see why you would want the authoring location to be different from the released location, but just for interests sake, can you explain why you would separate the webdav root from the dms root?  </s>
<s> In any case, I know of no client that requires WebDAV to be enabled at "/".  </s>
<s> Cheers, Geoff I was after any recommendations or experience others have had of the best way to integrate WebDAV into an application.  </s>
<s> In particular, we want to ship a demo application with three distinct functionalities in the one web server:  </s>
<s> * WebDAV interface to a file system of documents that can be edited * Web based workflow interface for document management (users log on) * Public anonymous web interface to released documents I am thinking at present that the paths in the WebDAV folder are not going to be related to the paths in the public interface.  </s>
<s> The folder paths can be set up by users to whatever structure they want.  </s>
<s> The final public application paths are determined by the application logic.  </s>
<s> So URIs for WebDAV and for the public web interface are not going to be the same.  </s>
<s> One way to avoid collisions with URLs is to prefix the three different areas with a name  </s>
<s> The public access URL is not very nice though (people want to just go to http://localhost/), so the URI for / might relocate the user down into /public/...  </s>
<s> The real question for this list is, is there any reason against requiring client applications to use a base URI of http://localhost/webdav/ instead of http://localhost/ ?  </s>
<s> Are there any clients that assume WebDAV folders always start from /? Does it create any bad semantics starting from /webdav?  </s>
<s> The other logical alternative strategy I can see is to mount WebDAV from GET request on / relocates the user to /public/... DMS users can just be told to start at /dms in order to bring up the DMS interface.  </s>
<s> Is there any *best* thing to do?  </s>
<s> Or is intensionally left up to developers?  </s>
<s> Would any clients break if they had to be given http://localhost/webdav/ instead of http://localhost/?  </s>
<s> Thanks as always  </s>
<s> Alan  </s>
<s> The DMS root I was referring to was the user interface to the DMS application.  </s>
<s> That is, it comes up with menu bars with commands like 'display worklist'.  </s>
<s> The URLs are not normal resources - its more like a CGI-bin application with lots of arguments encoded into the URL.  </s>
<s> So the DMS urls do not relate to resources made available from WebDAV in my particular application.  </s>
<s> So it seemed good to separate them.  </s>
<s> Alan  </s>
<s> Alan: I have just finished integrating a (custom modified) open source DAV server for use with my company's collaborative portal offerings and would like to offer my experiences and thoughts, as well as pose some additional questions.  </s>
<s> In our implementation, the DAV server is Java servlet-based and to access content via a web server, the URL would actually include two prefixes--one for delimiting the root of the portal web-app, and the other representing the servlet-mapping to the DAV servlet (e.g. http://localhost/portal/dav).  </s>
<s> IMO, this only increases the flexibility of the solution, allowing multiple portal web-apps per machine and/or multiple dav servlet mappings per web-app.  </s>
<s> In other words, I could have any number of portal sites available from a single host, each with any number of DAV repositories.  </s>
<s> BTW, what constitutes a "namespace" in DAV, I'm still not totally clear on this.  </s>
<s> Would the namespace be the URL prefix (before the DAV resource portion of the URI) without the host (i.e. /portal/dav) or would it be (/dav) or is it something totally different?  </s>
<s> We would handle this by having the root URL be an index page that redirects appropriately based on user context (including authentication/authorization credentials, device, language preferences, browser version, etc.).  </s>
<s> In particular, I might be inclined to forward/redirect the "public" request to "/" to a public collection inside the DAV namespace (proper usage?) that contained BINDings, which are essentially symbolic links to other DAV resources that can maintain properties such as access control permissions, separate from those defined on the target of the link.  </s>
<s> Don't see a best scenario easily here, but I believe standard J2EE-container security mappings could easily manage this type of setup, while still maintaining the flexibility of allowing the situation I described above (multiple namespaces per web-app, per host) to function.  </s>
<s> I even have an HTTP-based DAV explorer-like interface component that might be mapped to /portal/davclient, which encapsulates all of the access to the DAV server and provides the most-appropriate or preferred access interface based on context.  </s>
<s> And I'm sure there are similar ways to accomplish the same thing using other paradigms besides J2EE... Thanks, Jason Coward Technical Relationship Manager/Developer Mongoose Technology, Incorporated jason.coward@mongoosetech.com  </s>
<s> From: Jason Coward [mailto:jason.coward@mongoosetech.com] BTW, what constitutes a "namespace" in DAV, I'm still not totally clear on this.  </s>
<s> Would the namespace be the URL prefix (before the DAV resource portion of the URI) without the host (i.e. /portal/dav) or would it be (/dav) or is it something totally different?  </s>
<s> A "namespace" in DAV is just an HTTP namespace, i.e. a hierarchical namespace where "/" delimits segments of the namespace (see Section 5.1 of RFC 2518).  </s>
<s> Perhaps you are thinking of what DAV calls a "consistent" namespace?  </s>
<s> A consistent namespace is one where every resource is a member of the collection that contains it, or as section 5.1 states: "for every URL in the HTTP hierarchy there exists a collection that contains that URL as an internal member".  </s>
<s> (Now we all know that the internal members of a collection are resources, and not URLs, but let's not go there right now :-).  </s>
<s> We would handle this by having the root URL be an index page that redirects appropriately based on user context (including authentication/authorization credentials, device, language preferences, browser version, etc.).  </s>
<s> Note though that this might make it challenging to support interoperable locking semantics, since locks are URL based.  </s>
<s> If the redirecting is always to the same place while the client holds the lock token (which is likely to be the case), it probably won't be bad in practice.  </s>
<s> In particular, I might be inclined to forward/redirect the "public" request to "/" to a public collection inside the DAV namespace (proper usage?) that contained BINDings, which are essentially symbolic links to other DAV resources that can maintain properties such as access control permissions, separate from those defined on the target of the link.  </s>
<s> I assume by BINDings, you are referring to what is described in the BIND protocol?  </s>
<s> If so, the result of a BIND call is like a Unix hard link, not like a symbolic link, because a BIND call does not create a new resource, and does not maintain properties, such as access control permissions, that are separate from those defined on the target of the binding.  </s>
<s> Cheers, Geoff  </s>
