All, 
I'm trying to use HTML tidy to clean up the HTML output from a web-based editor. 
The output needs to be XHTML strict, however despite 
the doctype in the content and me setting the doctype in the tidy configuration file, the resulting output seems to be XHTML 
transitional. 
Input file: http://development.incutio.com/tim/tidy/input.html Output file: http://development.incutio.com/tim/tidy/output.html The output file still contains several tag attributes that don't exist in XHTML strict (see the validation errors: http://validator.w3.org/check?uri=http%3A%2F%2Fdevelopment.incutio.com%2Ftim%2Ftidy%2Foutput.html ). 
This is the contents of the config file I'm using: 
tidy-mark: no wrap: 0 output-xhtml: yes doctype: "-//W3C//DTD XHTML 1.0 Strict//EN" quote-marks: yes enclose-text: yes write-back: no Note that the doctype in both the input and output files is given as XHTML strict. 
In the command line output when running tidy I see: Info: Doctype given is "-//W3C//DTD XHTML 1.0 Strict//EN" Info: Document content looks like XHTML 1.0 Transitional 
Does this mean tidy is deciding that the content looks more like XHTML 
transitional and is therefore ignoring the doctype I'm telling it to use? 
Or is this a bug in tidy itself? 
Any help would be appreciated! 
Tim Fountain | Web developer | Incutio Limited | www.incutio.com 
Roughly speaking, yes. 
Your document contains elements that do not conform to Strict, and Tidy is preserving them and adjusting the Doctype to suit. 
The only other option would be to discard the non-Strict tags and attributes (since there's no general way to transform them into Strict ones). 
Discarding them would be fine, is there any way I can get Tidy to do this? 
I just tried adding 'clean: yes' to my config file, and although that removed the p align="left"'s (and put a CSS class in instead), the color, size and face attributes are all still there. 
Tim Fountain | Web developer | Incutio Limited | www.incutio.com 
--drop-proprietary-attributes yes as a start. 
Thanks, that drops the non-standard attributes which will help for some of the other input files. 
However in this sample file the attributes _are_ standard (color, face etc.), just not for this particular HTML version. 
Is there no way to get Tidy to drop these? 
Tim Fountain | Web developer | Incutio Limited | www.incutio.com 
