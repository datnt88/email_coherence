<s> Hi everyone,  </s>
<s> Here is a problem I encoutered, not so much with tidy, but rather with a page not being displayed at all.  </s>
<s> This may be a little off-topic, but I folks on this list seemed quite knoledgable to me, so I'll try anyways.  </s>
<s> Here's the problem: I've to a page written in XTHML 1.0, I ran tidy on it, and validated it using WDG-Validator.  </s>
<s> The pages validates as XHTML 1.0 without warnings and errors.  </s>
<s> Unfortunately, MSIE 5 is not able to display the page.  </s>
<s> It keeps complaining about accented characters in the text (chiefly "?").  </s>
<s> If i replace all occurences of umlauts and "?" with the respective entities, MSIE complains that the entity &amp;eacute; is unknown.  </s>
<s> (I have specified the charset property).  </s>
<s> All other browsers I tried (Netscape 4.76 (Win, Solaris, Linux), Netscape 6 (Linux) Opera 5 (Wind), Opera 4 (Linux) had absolutely no problem rendering these pages.  </s>
<s> As soon as I replace the DTD for XHTML with the one for HTML 4.01 and remove the ?xml  </s>
<s> version="1.0"?  </s>
<s> in the first line of the page, MSIE renders the page flawlessly, too.  </s>
<s> If you want to take a look, try differ only in the DTD line.  </s>
<s> Has anyone encountered this before?  </s>
<s> What did I miss?  </s>
<s> Cheers -- Stephan Stephan Engelke engelke@gmx.net  </s>
<s> *** Programming ... by trial and reboot.  </s>
<s> ***  </s>
<s> Stephen --  </s>
<s> I'm certainly no expert on this but I have been able to replicate your problem.  </s>
<s> Somehow, I think the MSXML support in IE is messed up.  </s>
<s> If I save the document to my local drive, it works fine if I use a .html  </s>
<s> suffix but not an .xml  </s>
<s> suffix.  </s>
<s> Perhaps you'd have better luck posting this on a MS IE related list.  </s>
<s> I've never been able to find a clear explanation of exactly the steps that MSXML support in IE goes through to render a page.  </s>
<s> I would have at least thought that I'd get an error message somewhere but I don't even see that.  </s>
<s> Gary  </s>
<s> If you use XHTML as HTML, with a MIME type of text/html, the built-in entities of the browser can be used.  </s>
<s> When you use XHTML as XML, with a MIME type of text/xml or application/xml, all entities would need to be defined (no other XML processor would process an XML document with something like &amp;auml; either) Klaus Johannes Rusch  </s>
<s> KlausRusch@atmedia.net  </s>
<s> How do I influence whether the MIME type text/html or text/xml is used?  </s>
<s> Isn't that what the content-type header is used for?  </s>
<s> I  </s>
<s> configured my tidy to output xhtml but *not* to produce xml.  </s>
<s> The document in question starts like this: !DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"  </s>
<s> I checked the tidy-configurarion file and noticed that add-xml-decl has been turned on.  </s>
<s> Will it be sufficient to remove the ?xml  </s>
<s> ... declaration at the very beginning of the file go get the file to render correctly in MSIE?  </s>
<s> On the other hand the XHTML doc at http://www.w3.org/TR/xhtml1/ says (just below the first example): Note that in this example, the XML declaration is included.  </s>
<s> An XMLdeclaration like the one above is not required in all XML documents.  </s>
<s> XHTML document authors are strongly encouraged to use XML declarations in all their documents.  </s>
<s> Such a declaration is required when the character encoding of the document is other than the default UTF-8 or UTF-16.  </s>
<s> Are there any MSIE specific mailing lists or newsgroups I could take this problem to?  </s>
<s> They may have a FAQ which covers this..  </s>
<s> Cheers -- Stephan Stephan Engelke engelke@gmx.net  </s>
<s> *** Programming ... by trial and reboot.  </s>
<s> ***  </s>
<s> Typically, your web server controls which mime types are sent.  </s>
<s> I've found these instructions for Apache, but the steps would be slightly different for other web servers: Alex Bischoff 3812078 on ICQ export-a-crypto-system-sig RSA-2-lines-PERL print pack"C*",split/\D+/,`echo "16iII*o\U@{$/=$z;[(pop,pop,unpack"H*", )]}\EsMsKsN0[lN*1lK[d2%Sa2/d0 X+d*lMLa^*lN%0]dsXx++lMlN/dsM0 J]dsJxp"|dc` Proof That There is Strength in Numbers -- http://www.distributed.net/  </s>
<s> Yes (e.g., see section 7.4.4 of the HTML 4.01 Specification), and it appears that your server is honoring the header when the page is requested: HTTP/1.1 200 OK Date: Wed, 10 Jan 2001 16:06:00 GMT Server: Apache/1.3.14 (Unix) PHP/4.0.2 PHP/3.0.17 Connection: close Content-Type: text/html (This is via http://www.delorie.com/web/headers.html -- the "HTTP Header Viewer" -- a very useful resource.)  </s>
<s> But perhaps IE isn't utilizing the returned Content-type header?  </s>
<s> You might try: microsoft.public.windows.inetexplorer.ie55.browser  </s>
<s> microsoft.public.windows.inetexplorer.ie5.programming.xml  </s>
<s> microsoft.public.xml at the NNTP server: msnews.microsoft.com -- Dave  </s>
<s> MSIE ignores Content-type headers and determines the content type "automatically".  </s>
<s> Klaus Johannes Rusch KlausRusch@atmedia.net  </s>
<s> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 Hi  </s>
<s> I have found that IE4 on a Mac displays XHTML pages as plain text even thought they are serverd as text/html _unless_ this is omitted: Also omitting this is good for Netscape 3 as it'll display it.  </s>
<s> See: "XML declaration like the one above is not required" Chris Chris Croome -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.0.0 (GNU/Linux) Comment: For info see http://www.gnupg.org  </s>
<s> iD8DBQE6Zc5RIQYsxIuy3pERAvniAKCIsknUTmi2YHAzJR4kXdrKw5cngQCdFqcI /ly22F1HgwGjfG+4dMo/fbg= =DOEL -----END PGP SIGNATURE-----  </s>
