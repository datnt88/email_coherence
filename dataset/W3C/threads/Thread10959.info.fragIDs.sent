<s> Could someone please summarize the situation with the SGML TC that is supposed to make our lives easier for creating XML?  </s>
<s> What XML restrictions  </s>
<s> will be loosened?  </s>
<s> I am particularly interested in the whitespace handling.  </s>
<s> Are the current XML rules going to be revamped, or just made more strictly compliant.  </s>
<s> Paul Prescod  </s>
<s> On Wed, 27 Nov 1996 21:54:33 -0500, Paul Prescod  </s>
<s> At SGML '96 an informal discussion led to a technique that conforms to ISO 8879 as it is today, but causes whitespace to be handled almost as requested on this list, but without the funky attributes.  </s>
<s> Whitespace would be handled as follows: 1.  </s>
<s> In element content, all whitespace is ignored.  </s>
<s> 2. In data content, all whitespace is preserved.  </s>
<s> The SGML technique for accomplishing this result has two steps: 1. Declare a new SEPCHAR function character in the XML concrete syntax, using a character number that is not expected to occur naturally.  </s>
<s> Call this "newsep".  </s>
<s> : 2. In a shortref map used by the document element, map RE to NEWSEP.  </s>
<s> That's it.  </s>
<s> If you're unhappy with SGML's built-in whitespace handling, you can use this technique today.  </s>
<s> If we choose to use it for XML, it will be simple to explain, easy to implement, and totally conforming.  </s>
<s> Charles F. Goldfarb * Information Management Consulting * +1(408)867-5553  </s>
<s> 13075 Paramount Drive * Saratoga CA 95070 * USA International Standards Editor * ISO 8879 SGML * ISO/IEC 10744 HyTime Prentice-Hall Series Editor * CFG Series on Open Information Management  </s>
<s> Note that without a DTD it is not possible to distinguiish element and data content.  </s>
<s> Furthermore, this behaviour makes it impossible to write a conforming XML program that copies its input to its output unchanged, just as this is impossible in SGML right now -- no matter how many virgins you use to tempt those unicorns :-) :-) The distinction between whitespace that is returned by the parser (i.e. emphatically not ignored) but that is not treated as data, and whitespace thhat is treated as data, is a useful one, I think.  </s>
<s> The ability to disable SGML RS/RE processing in the SGML Declaration is really what's wanted.  </s>
<s> That wasn't discussed before, as there seemed no possibility of any changes to SGML.  </s>
<s> I am not sure that we should reopen the RS/RE discussions unless there are substantial changes.  </s>
<s> No, I am sure that we _shouldn't_.  </s>
<s> The mere fact that it took so much heated discussion shows that it is too complex, and even the current XML draft is not considered clean and elegant in this regard by everyone involved.  </s>
<s> If SGML can be changed to disable RS/RE processing, or if Charles' kludge  </s>
<s> with SHORTREF works, perhaps we're OK.  </s>
<s> We do have to get the same whitespace behaviour with and without a DTD, so element content and data content is  </s>
<s> not a distinction XML can make, I think.  </s>
<s> Lee  </s>
<s> Why? - Tim  </s>
<s> Unfortunately this does not work for XML, as it is not possible to tell the difference between mixed content and element content when parsing without a DTD.  </s>
<s> It also unfortunately requires throwing away a character code point.  </s>
<s> Especially for 8-bit character sets, that might be a high price to pay.  </s>
<s> Isn't there some chance that we could get a way to specify the behavior wanted rather than an arcane workaround?  </s>
<s> I want to be able to turn off RS/RE handling, and turn all whitespace into SEPCHARS without having to make arcane restrictions on what other, non-whitespace, characters can appear in a document.  </s>
<s> Is that too much to ask?  </s>
<s> Also, it's not clear to me that RS/RE are visible to shortrefs at the beginning of an element.  </s>
<s> I thought SHORTREF applied to document data, not ignored characters, but I could well be wrong, as I have avoided delving into the mysteries of shortref (like why a shortref cannot include the letter "B").  </s>
<s> -- David I am not a number.  </s>
<s> I am an undefined character.  </s>
<s> David Durand dgd@cs.bu.edu \ david@dynamicDiagrams.com  </s>
<s> Boston University Computer Science \ Sr. Analyst --------------------------------------------\ http://dynamicDiagrams.com/ MAPA: mapping for the WWW \__________________________  </s>
<s> A document that worked with a DTD shouldn't stop working without one, I think.  </s>
<s> Well-formed should be a proper subset of valid.  </s>
<s> No?  </s>
<s> On the other hand, if we have the option of changing SGML (slightly!) so that we can, Why Not?  </s>
<s> I would vote for a syntactic distinction between element content and mixed contents *in instances* so that DTD and DTD-less parsers can get the same parse in this regard.  </s>
<s> Paul Prescod  </s>
<s> We agree!  </s>
<s> We can use roughly the same language as for comments: "Comments ... are not part of the document's character data; an XML processor may, but need not, make it possible for an application to retrieve the text of comments.  </s>
<s> For compatibility, the string "--" (double-hyphen) may not occur within comments."  </s>
<s> "An XML processor may, but need not, make it possible for an application to retrieve the collapsed or removed whitespace."  </s>
<s> The situations are equivalent.  </s>
<s> Whitespace in element context is there for the benefit of those reading the source, like comments.  </s>
<s> Paul Prescod  </s>
<s> Otherwise systems that do/do not have DTD's will produce different results for exactly the same documents.  </s>
<s> That will effectively mean that for *canonical* forms, one must always have a DTD.  </s>
