<s> Hi, It's true that I had to change some lines in code.  </s>
<s> I think that those changes would have been done in the latest versions of annotea files.  </s>
<s> But I think that Eric knows this better.  </s>
<s> How is it, Eric?  </s>
<s> If they aren't, I could send you those or just tell how I did resolve that.  </s>
<s> It's very nice to hear that someone else is trying to setup annotation server in windows.  </s>
<s> And I will do my best to help you.  </s>
<s> I would appreciate if you could write your own manual for setting up annotation system, so we could help for each other.  </s>
<s> Let's keep in touch  </s>
<s> -Ville On Wed, 12 Sep 2001 17:05:26 +0100 Gunnar AAstrand Grimnes  </s>
<s> Hi, thanks for putting up the WinNT instructions, but I am not clear about a few things: * When I try this on my Win2K box I get the following error no matter what I do: died with Can't locate sys/syscall.ph  </s>
<s> in @INC (did you run h2ph?) (@INC contains: .. ../../.. ../../.. c:/Perl/lib c:/Perl/site/lib .) at ../../../W3C/Util/W3CDebugCGI.pm line 249.  </s>
<s> which is caused by the attempt at using built in linux syscalls for getting time-stamps.  </s>
<s> Did you : 1. Change the code to work around this, and forgot to mention it?  </s>
<s> or 2. Install the system libraries in some equivalent way on Windows?  </s>
<s> I would appreciate very much if you could help me with this.  </s>
<s> Thank you Gunnar AAstrand Grimnes ggrimnes@csd.abdn.ac.uk 7 John Knox Court Mounthooly Aberdeen AB24 3LF  </s>
<s> I looked around for these and didn't find them.  </s>
<s> Could you send them to me again?  </s>
<s> I'll patch them into the code base so it will be available from CVS.  </s>
<s> hmm, I haven't been good about this.  </s>
<s> My apologies.  </s>
<s> -eric (eric@w3.org)  </s>
<s> Feel free to forward this message to any list for any purpose other than email address distribution.  </s>
<s> What's the current status with this?  </s>
<s> I just tried with the latest versions from the CVS archive and I'm getting this problem with syscall.ph  </s>
<s> too (on both NT and 2000).  </s>
<s> Cheers, Sean  </s>
<s> Sean Bechhofer | | Research Fellow | | Information Management Group | | Computer Science Department | | WWW: http://www.cs.man.ac.uk/~seanb |  </s>
<s> Sean, I struggled with this for a few weeks, and eventually gave up, Annotea is not written to work with Windows and uses several linux only features, such as the syscall things...  </s>
<s> The syscall in question is used to obtain a high-resolution timestamp for the debug files, it is not essential for normal operation ( I think ) and if you are happy to live without debug info you can change the following lines in annotate (around line 172 in my file, but could have changed if  </s>
<s> you have fresh sources from the CVS): $query = new W3C::Util::W3CDebugCGI($0, $ARGV[0] eq 'DEBUG', {-dieNoOpen = 1,  </s>
<s> -logExt = '.log', -storeIn = '/temp/logs', -rerun = 'w3c_rerun', -mergeQueryAndPOST = 1}); Add "-noStore= 1" somewhere in the parameter string and annotea will newer write the debug information file, and never need syscall.ph.  </s>
<s> Alternatively you can replace the timestamp with a low-res timestamp (1s) using the built in perl time() command.  </s>
<s> I also ran into problems with the DBM files used and changed this line (line 42 in my file) $DEFAULT_dbParms = "-type = 'sdbm', -file = '/etc/apache/conf/users'"; to using sdbm in place of "ndbm" (I think - i cant be bothered to check the original sources) This must be changed in several files.  </s>
<s> I had a few other problems as well, but I cannot remember them now...  </s>
<s> The best result I ever got was a server that returned the right http code according to the protocol, but never actually wrote anything to the DB.  </s>
<s> In the end we decided not to use annotea for our course after all, so my time dedicated to this was limited.  </s>
<s> Let me know how you get on!  </s>
<s> Gunnar AAstrand Grimnes ggrimnes@csd.abdn.ac.uk 7 John Knox Court Mounthooly Aberdeen AB24 3LF  </s>
<s> There is a better way, using the Time::HiRes module available from CPAN, which is the portable way of doing this.  </s>
<s> It requires one or two other modifications (I think you have to remove a pack/unpack), I can give more details of this if you want.  </s>
<s> Matthew Wilson  </s>
