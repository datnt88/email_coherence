<s> Sorry to ask such probably stupid questions to a large group BUT, I would like some clarifications on some parts of the spec 1) Properties.  </s>
<s> On page 10 it reads: "The property namespace is flat; that is, no hierarchy of properties is explicitly recognized ... it is not possible to define the same property twice on a singe resource ... " The spec then goes on to give lots of examples with hierarchical properties.  </s>
<s> I assume from this that the examples on PROPFIND works as follows:  </s>
<s> Is stored in the webdav server as property name R:bigbox with a value of R:BoxType Box type A /R:BoxType Is this correct???  </s>
<s> It seems to be correct especially when you have examples like which obviously violates the rules on page 10 unless the entire Z:Author structure is stored as the value for Z:authors Assuming everything I have said is true (the only way I made sense of the spec and its examples) then how should a webdav server respond to PROPFIND when the property name is Should it try to be intelligent and respond with or do the simple The simple way also means that if K:Foo and K:Foo/Bar are defined, propfind will return instead of the XML you would expect.  </s>
<s> I see the reasoning behind this if everything I wrote is true.  </s>
<s> If it is, maybe the spec should be changed to either give more concrete Property examples up front, or remove so many hierarchical properties from the rest of the examples.  </s>
<s> 2) I see a lot of discussion on COPY and MOVE and how they should work.  </s>
<s> No one (as far as I have read) has mentioned the fact that both do state "If a resource exists at the destination and the Overwrite header is "T" then prior to performing the copy the server MUST perform a DELETE with "Depth: infinity" on the destination resource.  </s>
<s> I can't think of any system (or utility) I have used that does this.  </s>
<s> Most would overwrite the file if it already existed but not destroy any other files which might have been there.  </s>
<s> Thus COPY foo-- TO foo-- -text.htm - list.htm  </s>
<s> Gives the directory foo with simply text.htm in it instead of what I expected which is foo with BOTH list.htm and text.htm  </s>
<s> I looked in the FAQ and old emails for answers and couldn't find this mentioned... Thanks for any help, Kevin  </s>
<s> My comments are below, in ejw tags: - Jim 1) Properties.  </s>
<s> On page 10 it reads: "The property namespace is flat; that is, no hierarchy of properties is explicitly recognized ... it is not possible to define the same property twice on a singe resource ... " The spec then goes on to give lots of examples with hierarchical properties.  </s>
<s> I assume from this that the examples on PROPFIND works as follows: A property has a name and a value.  </s>
<s> The space of *names* is flat, but the value of properties can be arbitrary XML, and hence as you and the spec.  </s>
<s> point out, non-flat.  </s>
<s> Your intuition is correct that it might very well be possible to have a non-flat property namespace, with hierarchy in a property name indicating XML sub-elements.  </s>
<s> We did investigate this kind of capability, and ultimately decided against it.  </s>
<s> Some of the rationale is captured in:  </s>
<s> Is stored in the webdav server as property name R:bigbox with a value of Is this correct??? Actually, the value is: That is, the value does explicitly include the R:bigbox and /R:bigbox tags.  </s>
<s> This is because we adopt a convention of having the outermost XML element of a property be the name of the property itself.  </s>
<s> It seems to be correct especially when you have examples like which obviously violates the rules on page 10 unless the entire Z:Author structure is stored as the value for Z:authors In this case, the value of the property is: That is, there is one property, named Z:authors , with two sub-elements.  </s>
<s> Assuming everything I have said is true (the only way I made sense of the spec and its examples) then how should a webdav server respond to PROPFIND when the property name is Should it try to be intelligent and respond with  </s>
<s> or do the simple The simple way also means that if K:Foo and K:Foo/Bar are defined, propfind will return instead of the XML you would expect.  </s>
<s> I see the reasoning behind this if everything I wrote is true.  </s>
<s> If it is, maybe the spec should be changed to either give more concrete Property examples up front, or remove so many hierarchical properties from the rest of the examples.  </s>
<s> If the property K:Foo is defined, its value will be returned by a PROPFIND.  </s>
<s> If the property K:Foo/Bar is defined, its value (that is, the value of property named "K:Foo/Bar") will be returned.  </s>
<s> Since there is no hierarchy in DAV properties, the value of K:Foo is independent of the value of K:Foo/Bar.  </s>
<s> 2) I see a lot of discussion on COPY and MOVE and how they should work.  </s>
<s> No one (as far as I have read) has mentioned the fact that both do state "If a resource exists at the destination and the Overwrite header is "T" then prior to performing the copy the server MUST perform a DELETE with "Depth: infinity" on the destination resource.  </s>
<s> I can't think of any system (or utility) I have used that does this.  </s>
<s> Most would overwrite the file if it already existed but not destroy any other files which might have been there.  </s>
<s> Thus COPY foo-- TO foo-- -text.htm - list.htm  </s>
<s> Gives the directory foo with simply text.htm in it instead of what I expected which is foo with BOTH list.htm and text.htm  </s>
<s> I looked in the FAQ and old emails for answers and couldn't find this mentioned...  </s>
<s> The rationale here was to make sure that the copy and move for Depth 0 had the same semantics as a copy/move for Depth infinity.  </s>
<s> Since a user will not typically be interacting directly with the protocol, and since mechanisms exist to do other semantics if desired, a client could expose other semantics to their users via its user interface.  </s>
<s> - Jim  </s>
<s> I do not believe that the specification is clear on this.  </s>
<s> Specifically, mod_dav stores the value as "\n R:BoxType Box Type A /R:BoxType\n".  </s>
<s> The name is part of the find/patch request, rather than part of the value.  </s>
<s> A corollary is that mod_dav does not store any attributes that are associated with the name element.  </s>
<s> On a separate note: I believe I have detailed this appropriately on the mod_dav home page (http://www.webdav.org/mod_dav/), but if somebody goes to read it and finds it isn't clear enough, then please let me know.  </s>
<s> I've been trying to capture things that could be called "implementation defined"; the only other imp-defined item, so far, is the href format in a response element.  </s>
<s> thx -g Greg Stein, http://www.lyra.org/  </s>
<s> I'd like to suggest that the example for section 8.8.6 be altered slightly so that the source and destination are not both index.html.  </s>
<s> This will make things a bit more explicit.  </s>
<s> J.  </s>
