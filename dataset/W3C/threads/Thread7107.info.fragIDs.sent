<s> Apple's iCal [1] allows you to publish calendars (using the iCal format)  </s>
<s> to Web servers and later retrieve them, using WebDAV*.  </s>
<s> However, they use a  </s>
<s> non-HTTP URI scheme to denote a calendar - 'webcal'.  </s>
<s> Is this new, and if so, can pressure be put upon the Apple W3C folks?  </s>
<s> This  </s>
<s> is not a small abuse; I fear 'gif' and 'html' URI schemes will be close  </s>
<s> behind if we're not careful.  </s>
<s> * They claim it requires WebDAV, but I was able to successfully publish my  </s>
<s> calendar to a server that only supports PUT (as any REAL Web server  </s>
<s> should).  </s>
<s> I don't have data yet as to whether they excercise anything else  </s>
<s> in DAV... Mark Nottingham  </s>
<s> I didn't see the link?  </s>
<s> As far as I know, Apple supports iCalendar RFC  </s>
<s> 2445, which is also supported in MS Outlook and undoubtedly many other  </s>
<s> clients..  </s>
<s> format)  </s>
<s> use a  </s>
<s> This  </s>
<s> close  </s>
<s> publish my  </s>
<s> else  </s>
<s> OOps...  </s>
<s> I believe it does support iCalendar, judging from its publication format.  </s>
<s> I know that Outlook/Exchange utilizes iCalendar, but AFAIK they use a  </s>
<s> proprietary protocol to publish calendars and integrate with e-mail  </s>
<s> (please correct me where I'm wrong), whereby iCal is using HTTP/WebDAV and  </s>
<s> (unfortunately) URI schemes (instead of media types), respectively.  </s>
<s> As a  </s>
<s> result, I don't think they'll interoperate in many cases (i.e., I can't  </s>
<s> use iCal instead of Outlook to keep up with my corporate calendar solution).  </s>
<s> I didn't see the link?  </s>
<s> As far as I know, Apple supports iCalendar RFC  </s>
<s> 2445, which is also supported in MS Outlook and undoubtedly many other  </s>
<s> clients..  </s>
<s> format)  </s>
<s> use a  </s>
<s> This  </s>
<s> close  </s>
<s> publish my  </s>
<s> else  </s>
<s> For examples of the scheme's use, see: (links with text "subscribe")  </s>
<s> format.  </s>
<s> and  </s>
<s> Very strange.  </s>
<s> After replacing webcal: by http:, i can GET a vCalender entity.  </s>
<s> So what the hell is this URI scheme supposed to do what http: doesn't?  </s>
<s> I think they're using the scheme for dispatch, because they can't rely on the media type being properly set, and/or they're lazy.  </s>
<s> This probably stems from the media type in a PUT being ignored; I'm not a WebDAV expert, but my testing with mod_put on Apache indicates that the media type of the PUT isn't used as metadata in subsequent GETs.  </s>
<s> It seems pretty clear cut in 2616 (section 9.6): [[[ The PUT method requests that the enclosed entity be stored under the supplied Request-URI.]]]  </s>
<s> Note that it's "entity," not just "entity-body."  </s>
<s> [[[ The recipient of the entity MUST NOT ignore any Content-* (e.g. Content-Range) headers that it does not understand or implement and MUST return a 501 (Not Implemented) response in such cases.]]]  </s>
<s> [[[ Unless otherwise specified for a particular entity-header, the entity-headers in the PUT request SHOULD be applied to the resource created or modified by the PUT.]]] Anyone know of WebDAV (or plain PUT) implementations that correctly implement this?  </s>
<s> I suspect it isn't widely implemented, because most Web servers use filename extension rather than separate, per-resource metadata to determine media type.  </s>
<s> a  </s>
<s> HTTP/WebDAV  </s>
<s> As a  </s>
<s> can't  </s>
<s> RFC  </s>
<s> other  </s>
<s> they  </s>
<s> folks?  </s>
<s> server  </s>
<s> anything  </s>
<s> I'd consider this a shortcoming of moddav -- it surely could persist the content type that was sent.  </s>
<s> "Our" (actually SAP's) WebDAV server does that, just like the content language when specified in the PUT request.  </s>
<s> Of course inventing a new URI scheme just to workaround a specific shortcoming somewhere else is an extremely bad idea.  </s>
<s> The SAP Enterprise Portal WebDAV connector does this.  </s>
<s> If you're interested in trying it, email me and I'll send you a test account on our server.  </s>
<s> Julian  </s>
<s> [ this is on-topic for uri@w3.org only in as much as it affects technical decisions re: minting new schemes vs. using media types for dispatch ] A bit more info; After doing some header traces (Thanks, Aaron!), it appears that iCal PUTs the data as 'application/octet-stream', so they're not even trying.  </s>
<s> They also don't take advantage of persistent connections, but that's a just a nit, relatively.  </s>
<s> On the server side, it appears that neither Apache mod_put or mod_dav will properly return the Content-Type sent in a PUT.  </s>
<s> This is probably part of the reason that Apple decided to use a URI scheme for dispatch.  </s>
<s> I'm not surprised that this is the case with mod_put (and it appears that it isn't a huge effort to get it to do so, via mod_cern_meta; there's also a bug in mod_put in that it needs to issue 201 Created when appropriate).  </s>
<s> I am somewhat surprised that mod_dav doesn't do the right thing.  </s>
