[...] I understand Eastlake (or others) might try to post a plug/play proposal on URI/IDREF [...] I have followed up the latest discussion about the URI/IDREF problem and would like to present a proposal which is slightly different from what I have posted in [1] and was referred to by Donald in [2]: 1. Remove the 'IDREF' attribute from the Reference element. 
2. Allow the 'URI' attribute of the Reference element to be of type 'uri' as defined in XML Schema Part 2 [3]. 
This means the 'URI' attribute is a 'URI-Reference' and can have a 'fragment' part. 
3. Restrict the semantics of the 'fragment' part of the 'URI-Reference' to a single case: Only allow the XPointer 'bare name' shortcut as defined in [4]. 
In other words: The content of the former 'IDREF' attribute is presented as the fragment part of the 'URI' attribute. 
4. All other means of selecting parts of an XML document can be expressed by XPath/XPointer transforms. 
So what are the benefits of this changes? 
a. 
The functionality of ID/IDREF is still supported. 
b. 
We don't need to define something like a 'clean-uri' type for the 'URI' attribute. 
c. Dsig implementations which - for some reasons - do not want to support XPath/XPointer transforms need not to do so. 
They only have to support the selection of an element by means of specifiying an ID attribute name. 
Here are some examples of the extended 'URI' attribute: 'http://foo.com/bar.xml' 
- Selecting the external XML ressource 'http://foo.com/bar.xml' 
'http://foo.com/bar.xml#chapter1' 
- Selecting the element with ID attribute value 'chapter1' of the external XML ressource 'http://foo.com/bar.xml' 
'' - Selecting the XML ressource which will contain the signature '#chapter1' - Selecting the element with ID attribute value 'chapter1' of the XML ressource which will contain the signature. 
Gregor [1] http://lists.w3.org/Archives/Public/w3c-ietf-xmldsig/2000JanMar/0028.html [2] http://lists.w3.org/Archives/Public/w3c-ietf-xmldsig/2000JanMar/0089.html [3] http://www.w3.org/TR/xmlschema-2/#uri [4] http://www.w3.org/TR/xptr#synth-2.1.2 Gregor Karlinger Institute for Applied Information Processing and Communications Austria attribute expressed by Gregor, I like this proposal, simple and straight forward. 
And I think it works given my understanding of Boyers proposal with respect to serializing the return (though I'm not sure). 
I've tried to rewrite it as a "plug/play" proposal for sections 2.3 [1] and 4.3.3 [2] . 
You can find the result at [3]. 
The main chunk of text is: The URI attribute identifies a data object using a URI-Reference [URI], as specified by RFC2396 [URI]. 
Note that a null URI (URI="") is permitted and identifies the XML document that the reference is contained within (i.e., the root element). 
XML Signature applications MUST be able to dereference (obtain the octets associated with) the resource identified by a URI (e.g, DOM, an API, network method). 
[URI] permits the specification of a fragment identifier via a separating pound symbol '#'. 
(The meaning of the fragment is defined by the resource's MIME type). 
XML Signature applications MUST support the the XPointer 'bare name' [Xptr] shortcut after '#' so as to identify IDs within XML documents. 
The results are serialized as specified in section 6.6.3: XPath Filtering. 
For example, URI="http://foo.com/bar.xml" 
Identifies the external XML resource 'http://foo.com/bar.xml'. 
URI="http://foo.com/bar.xml#chapter1" 
Selects the element with ID attribute value 'chapter1' of the external XML resource 'http://foo.com/bar.xml'. 
URI='" Selects the XML resource containing the signature.. URI="#chapter1" Selecting the element with ID attribute value 'chapter1' of the XML resource containing the signature. 
Otherwise, support of other fragment/MIME types (e.g., PDF) or XML addressing mechanisms (e.g., [XPath, Xptr]) is OPTIONAL, though we RECOMMEND support of XPath. 
Regarldess, such fragment identification and addressing SHOULD be given under Transforms (not as part of the URI) so that they can be fully identified and specified. 
For instance, one could reference a fragment of a document that is encoded by using the Reference URI to identify the resource, and one Transform to specify decoding, and a second to specify an XPath selection. 
[1] http://www.w3.org/TR/2000/WD-xmldsig-core-20000208/#sec-o-ObjectReference [2] http://www.w3.org/TR/2000/WD-xmldsig-core-20000208/#sec-ObjectReference [3] http://www.w3.org/Signature/2000/02/11-URI-proposal.html Joseph Reagle Jr. Policy Analyst mailto:reagle@w3.org 
XML-Signature Co-Chair http://www.w3.org/People/Reagle/ 
I think you'll be glad if you go with this. 
I'm not wild about "3. Restrict...", but it's acceptable, especially given how valuable I consider 1 and 2. Date: Thu, 10 Feb 2000 10:07:31 +0100 From: Gregor Karlinger Gregor.Karlinger@iaik.at 
[...] I understand Eastlake (or others) might try to post a plug/play proposal on URI/IDREF [...] Dan Connolly 
