<s> I've gotten no defenders of the "Workspace" header (Chris ... ?) and no "rebuttal" to the most recent arguments for making labeling optional, so I'll go ahead and prepare a working draft with those changes.  </s>
<s> Also, Greg's comments indicated that the protocol does not provide sufficient motivation for workspaces, so I'll expand that section with a few of the problems that they are intended to address.  </s>
<s> Since these changes do not involve any changes to the semantics of the protocol, they do not warrant a new internet draft, so I'll just post a deltav-10.1  </s>
<s> working draft on the web site, with deltav-10 remaining the last call internet draft.  </s>
<s> Cheers, Geoff  </s>
<s> Geoff, Since -10 is the working group last call, we need to maintain "change bars" between now and proposed standard last call.  </s>
<s> Since text documents rule, we should keep a changes list at the end of the document to give a heads up to readers.  </s>
<s> Just high-level items, not minor changes would probably be sufficient.  </s>
<s> These will be removed in -11 and started again as we address proposed standard last call feedback leading to -12.  </s>
<s> We should also have a list of unresolved issues to discuss at the Dec working group meeting.  </s>
<s> I think making labels optional is a prime candidate.  </s>
<s> With all the discussions we've had on leveling in the last two years, no-one has ever requested that labels be optional.  </s>
<s> Lisa brought it up and provided some example repository vendors that don't support labels.  </s>
<s> You have expressed support for making it optional.  </s>
<s> But the Jims' have been pretty vocal on the other side.  </s>
<s> And I did submit a rebuttal on the recent arguments.  </s>
<s> So I think this is a subject the working group should address.  </s>
<s> The thing I liked about the workspace header is that it seemed to me the logical resource namespace which represents the host domain, and the functional grouping of resources supporting some web application is orthogonal to versioning.  </s>
<s> By putting the workspace as a URL prefix, versioning is invading this logical namespace with versioning details.  </s>
<s> This doesn't seem ideal.  </s>
<s> Using a header let us parameterize how to interpret the resource URL.  </s>
<s> However, such a header does not make it clear what context other URLs in the request or response are evaluated in.  </s>
<s> I suggest that a workspace header should apply to all URLs in the request and response.  </s>
<s> That is, all operations are done in the context of the specified workspace.  </s>
<s> If this needs to be overridden for a particular resource (say the destination for a copy), then we can use the workspace prefix.  </s>
<s> How does that sound?  </s>
<s> "Geoffrey M. Clemm" .com  </s>
<s> cc: ckaler@microsoft.com  </s>
<s> Sent by: Subject: Workspace header and optional labeling ietf-dav-versioning-requ est@w3.org  </s>
<s> 10/11/2000 08:50 AM I've gotten no defenders of the "Workspace" header (Chris ... ?) and no "rebuttal" to the most recent arguments for making labeling optional, so I'll go ahead and prepare a working draft with those changes.  </s>
<s> Also, Greg's comments indicated that the protocol does not provide sufficient motivation for workspaces, so I'll expand that section with a few of the problems that they are intended to address.  </s>
<s> Since these changes do not involve any changes to the semantics of the protocol, they do not warrant a new internet draft, so I'll just post a deltav-10.1  </s>
<s> working draft on the web site, with deltav-10 remaining the last call internet draft.  </s>
<s> Cheers, Geoff  </s>
<s> From: "Jim Amsden/Raleigh/IBM" jamsden@us.ibm.com  </s>
<s> Since -10 is the working group last call, we need to maintain "change bars" between now and proposed standard last call.  </s>
<s> Since text documents rule, we should keep a changes list at the end of the document to give a heads up to readers.  </s>
<s> Just high-level items, not minor changes would probably be sufficient.  </s>
<s> These will be removed in -11 and started again as we address proposed standard last call feedback leading to -12.  </s>
<s> Sounds good ... will do.  </s>
<s> We should also have a list of unresolved issues to discuss at the Dec working group meeting.  </s>
<s> I believe that these issues should be discussed on the mailing list during the last call period, and not deferred to a discussion at the Dec working group meeting.  </s>
<s> Certainly, any issues that cannot be resolved on the mailing list should be discussed at the Dec working group meeting.  </s>
<s> I think making labels optional is a prime candidate.  </s>
<s> With all the discussions we've had on leveling in the last two years, no-one has ever requested that labels be optional.  </s>
<s> We explicitly decided to not discuss leveling over a year ago, since it didn't make sense to discuss what functionality belonged in what level until we had actually settled on what functionality we would supporting.  </s>
<s> Over the last year, the design effort has been primarily focused on firming up the details of advanced versioning support, which are primarily of interest to configuration management system providers.  </s>
<s> Now that the dust has settled, and we have received a very thorough review from a document management provider, I believe we need to take that review very seriously.  </s>
<s> The fact that configuration management providers are happy to provide labeling support is to be expected, and is therefore neither very surprising nor especially interesting.  </s>
<s> If we want document management system providers to implement the versioning protocol (and I certainly do), we need to set the "functionality bar" at a level appropriate for document management.  </s>
<s> Lisa brought it up and provided some example repository vendors that don't support labels.  </s>
<s> You have expressed support for making it optional.  </s>
<s> But the Jims' have been pretty vocal on the other side.  </s>
<s> And I did submit a rebuttal on the recent arguments.  </s>
<s> I have not seen any rebuttal to the recent arguments (only your initial messages in favor of requiring label support by all servers).  </s>
<s> To summarize the recent arguments: The combination of standard client defined properties like DAV:comment and DAV:creator-displayname, custom client defined properties, and standard server defined properties like DAV:version-name and DAV:getmodificationdate, are sufficient to name and locate versions of interest, and this is demonstrated by the document management systems that do so (without the use of labels).  </s>
<s> It is this point that I'd need to see rebutted.  </s>
<s> So I think this is a subject the working group should address.  </s>
<s> I believe that the appropriate forum to discuss these final last call issues is this mailing list, as this provides convenient access to every member of the working group.  </s>
<s> Cheers, Geoff  </s>
<s> From: "Jim Amsden/Raleigh/IBM" jamsden@us.ibm.com  </s>
<s> The thing I liked about the workspace header is that it seemed to me the logical resource namespace which represents the host domain, A workspace is a collection, and therefore does define a namespace for its members, but I'm not sure what you mean by a "logical" resource namespace (as opposed to a physical one?) or by "represents the host domain" (as opposed to "represents the client domain"?). and the functional grouping of resources supporting some web application is orthogonal to versioning.  </s>
<s> I don't see that a workspace has anything in particular to do with "a functional grouping of resources supporting some web application".  </s>
<s> A workspace is just a collection of version selectors and unversioned resources, with a few additional properties tracking checkouts, activities, and baselines for its members.  </s>
<s> By putting the workspace as a URL prefix, versioning is invading this logical namespace with versioning details.  </s>
<s> This doesn't seem ideal.  </s>
<s> Using a header let us parameterize how to interpret the resource URL.  </s>
<s> The namespace has already been "invaded" with versioning details (e.g. versions, working resources, version histories, activities, and baselines).  </s>
<s> Allocating a new URL sub-tree is exactly how web servers are commonly extended, which is why a workspace collection is compatible with common web server extension techniques, while a Workspace header is not.  </s>
<s> However, such a header does not make it clear what context other URLs in the request or response are evaluated in.  </s>
<s> I suggest that a workspace header should apply to all URLs in the request and response.  </s>
<s> That is, all operations are done in the context of the specified workspace.  </s>
<s> Even URL's that explicitly refer to resources on another host?  </s>
<s> If the host field is overridden by the Workspace header, that means that //www.foo.com/index.html will be the same as //www.bar.com/index.html.  </s>
<s> That can't be right.  </s>
<s> What about headers (like Destination) that are required to contain an absolute URI, and therefore must contain an explicit host field.  </s>
<s> Does the Workspace header apply to them?  </s>
<s> If not, how do you COPY or MOVE into a workspace?  </s>
<s> If this needs to be overridden for a particular resource (say the destination for a copy), then we can use the workspace prefix.  </s>
<s> How does that sound?  </s>
<s> How is a client to determine whether a particular URL needs the workspace prefix or not?  </s>
<s> Some URL's will be to resources not in a workspace (versions, working resources, version histories, activities, baselines).  </s>
<s> If a client has to separately decide for each URL whether or not to add a workspace prefix, isn't it just as easy to just always add it?  </s>
<s> What about URL's that are embedded in dead properties of a resource?  </s>
<s> How is a client to decide whether or not to add a workspace header (or add a workspace prefix to override a workspace header) when it wants to access it?  </s>
<s> These issues are all addressed in the current protocol, but it appears to add complexity to a client, not decrease it.  </s>
<s> If instead, a workspace member is just a member of a collection with its own URL, none of these issues arise.  </s>
<s> And the original problem still remains ... since the Workspace header is incompatible with common web server extension techniques, it will in many cases not be implemented and therefore will be the source of interoperability problems.  </s>
<s> Cheers, Geoff  </s>
<s> I believe that these issues should be discussed on the mailing list during the last call period, and not deferred to a discussion at the Dec working group meeting.  </s>
<s> Certainly, any issues that cannot be resolved on the mailing list should be discussed at the Dec working group meeting.  </s>
<s> jra The mailing list is a great place to capture, discuss, and resolve issues.  </s>
<s> But the working group meetings are often attended by a broader community.  </s>
<s> To get a little broader coverage, some issues should be discussed in this community, especially when there are conflicting views presented on the mailing list.  </s>
<s> /jra We explicitly decided to not discuss leveling over a year ago, since it didn't make sense to discuss what functionality belonged in what level until we had actually settled on what functionality we would supporting.  </s>
<s> Over the last year, the design effort has been primarily focused on firming up the details of advanced versioning support, which are primarily of interest to configuration management system providers.  </s>
<s> jra We have never really given up on leveling.  </s>
<s> We just renamed to to core versioning and advanced options because there appeared to be little agreement on what the levels should be.  </s>
<s> This is fine.  </s>
<s> My only point is that its interesting to note that optional labels never came up (that I can remember).  </s>
<s> /jra Now that the dust has settled, and we have received a very thorough review from a document management provider, I believe we need to take that review very seriously.  </s>
<s> The fact that configuration management providers are happy to provide labeling support is to be expected, and is therefore neither very surprising nor especially interesting.  </s>
<s> If we want document management system providers to implement the versioning protocol (and I certainly do), we need to set the "functionality bar" at a level appropriate for document management.  </s>
<s> jra There has been DMS representation in the DeltaV working group and on the design team.  </s>
<s> Of course, not every DMS was represented.  </s>
<s> But we have included many concepts and compromises to accommodate DMS systems.  </s>
<s> Perhaps optional label support is another.  </s>
<s> But I think its a little like saying we want optional user-specified URLs for resources.  </s>
<s> I'm willing to consider making labels optional, but I would like to challenge the assumption that including them in core is setting the bar too high.  </s>
<s> I have designed WebDAV interfaces to two versioning management systems that didn't support labeling as specified by the protocol.  </s>
<s> Both designs supported labels.  </s>
<s> I just hid them in my own server-defined properties.  </s>
<s> /jra The combination of standard client defined properties like DAV:comment and DAV:creator-displayname, custom client defined properties, and standard server defined properties like DAV:version-name and DAV:getmodificationdate, are sufficient to name and locate versions of interest, and this is demonstrated by the document management systems that do so (without the use of labels).  </s>
<s> jra This does not sound like either an adequate, optimal, or interoperable way of distinguishing revisions of the same versioned resource.  </s>
<s> DAV:verion-name might not be meaningful to a user, might not be used on more than one versioned resource, and can't be moved.  </s>
<s> DAV:creator-displayname is not unique to a revision.  </s>
<s> Relying on DAV:comment to distinguish revisions would introduce the possibility of parsing comment strings to identify a revision.  </s>
<s> This doesn't sound convenient or interoperable.  </s>
<s> DAV:getmodificationdate has no logical meaning although is is sometimes useful to identify revisions by when they changed.  </s>
<s> Custom client defined properties would not result in an interoperable solution.  </s>
<s> Lisa, of the versioning repositories you surveyed, which ones are planning on implementating a WebDAV interface?  </s>
<s> Of those, how many would like to have label support if there was some convenient way to provide it?  </s>
<s> Could labels be persisted in a server-defined property?  </s>
<s> Would it be OK for the WebDAV server implementation to do the labeling semantics, and just use the underlying DMS repository for persistence?  </s>
<s> /jra  </s>
<s> From: "Jim Amsden/Raleigh/IBM" jamsden@us.ibm.com  </s>
<s> The combination of standard client defined properties like DAV:comment and DAV:creator-displayname, custom client defined properties, and standard server defined properties like DAV:version-name and DAV:getmodificationdate, are sufficient to name and locate versions of interest, and this is demonstrated by the document management systems that do so (without the use of labels).  </s>
<s> jra This does not sound like either an adequate, optimal, or interoperable way of distinguishing revisions of the same versioned resource.  </s>
<s> Adequate?  </s>
<s> Certainly (for the vendors that do just that today).  </s>
<s> Optimal?  </s>
<s> Well, optimally you'd have activities and baselines as well.  </s>
<s> Interoperable?  </s>
<s> Certainly.  </s>
<s> Display the version properties in your client GUI and let the user select the version they want.  </s>
<s> Relying on DAV:comment to distinguish revisions would introduce the possibility of parsing comment strings to identify a revision.  </s>
<s> This doesn't sound convenient or interoperable.  </s>
<s> What parsing is required?  </s>
<s> DAV:comment is defined to be a string to be displayed to the user.  </s>
<s> Your client can just do so.  </s>
<s> This sounds both convenient and interoperable (can't get much simpler than printing out a string).  </s>
<s> Your client should certainly provide that functionality anyway (i.e. updating properties, and displaying a list of versions with their properties, so the user can pick one from that list).  </s>
<s> The only code you need to add to your client to handle a server without labels is to put an "if (labels_supported)" flag in front of the code that displays GUI operations that use labels.  </s>
<s> (Just like the code that you have wrapped around checkout/checkin to handle a level-1 or level-2 WebDAV server).  </s>
<s> Cheers, Geoff  </s>
