<s> Hi, I'm trying to send the character encoding when posting an annotation, and the W3 annotest.w3.org/annotations server fails to parse it correctly.  </s>
<s> When I send the request parameter 'Content-Type' as: the server responds with status 500 and an error message something like: p http://annotest.w3.org/annotations was unable to interpret parameter ?xml  </s>
<s> version: "1.0"?  </s>
<s> Setting the content type back to just 'application/xml' generates the correct behavior again.  </s>
<s> It seems like the server should be able to handle character encodings, and  </s>
<s> from the HTTP 1.1 RFC this looks like the correct way to do it.  </s>
<s> So I guess  </s>
<s> this is a bug?  </s>
<s> thanks, Doug BTW, I also tried out a few other character encoding types, and got the same error.  </s>
<s> Hi,  </s>
<s> Has anyone had a chance to look at annotest.w3.org yet to check out the 'Content-Type' bug, whereby the server generates an error if the Content-Type request parameter sent to it includes a charset?  </s>
<s> I'm looking to put out a version of the annotations service (used by annozilla 0.4), but before doing so would like to know whether or not I can send the character encoding in the content type.  </s>
<s> It looks to me like this is the valid way of specifying character encoding according to the HTTP RFC.  </s>
<s> Thanks, Doug  </s>
<s> Hello Doug, We are working on this problem.  </s>
<s> Eric patched the server and we were testing it, but other things crept it and this got sidetracked.  </s>
<s> I hope we can get it ready this week.  </s>
<s> Only some more testing was needed.  </s>
<s> -jose  </s>
<s> Yes, my apologies also.  </s>
<s> The new server addresses this bug.  </s>
<s> It was related to the content-type.  </s>
<s> The CGI.pm that comes with perl interprets all data as script parameters ala GET /script?parm1=val1&amp;parm2=val2  </s>
<s> HTTP/1.1 or POST /script content-length: 24 content-type: application/x-www-form-urlencoded parm1=val1 parm2=val2 However, we're using it on some data that is not urlencoded: POST /script HTTP/1.1 content-type: application/xml ?xml... ... I wrote a wrapper that figures out when to let CGI.pm see the body (former case) when when not to (latter, non url-encoded data).  </s>
<s> In the currently deployed server, it looks for a content-type == "application/xml".  </s>
<s> The server we are preparing to deploy expects "application/xml" optionally followed by charsets and other rifraff.  </s>
<s> We should have this server deployed in another (guessing here) couple weeks.  </s>
<s> -eric office: +1.617.258.5741  </s>
<s> NE43-344, MIT, Cambridge, MA 02144 USA cell: +1.857.222.5741 (eric@w3.org)  </s>
<s> Feel free to forward this message to any list for any purpose other than email address distribution.  </s>
