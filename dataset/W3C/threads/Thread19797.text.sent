I faced a couple of problems compiling Amaya on an Alpha workstation running Linux (Red Hat 5.0). 
The first I imagine is not linux-specific, and I could fix it, but I can't handle the second. 
(a) There seems to be a problem with the Amaya makefile in the source package which I downloaded from ftp.w3.org (amaya-src-1.2a.tar.gz) # Main Makefile for Thot/Amaya source tree # Generated from Makefile.in # Daniel Veillard, 1997 bin/cextract : @(cd tools/cextract-$(CEXTRACT_VER) ; $(MAKE) CC="-O" CFLAGS="$(CFLAGS)" cextract) proto : rebuild bin/cextract @(for dir in $(SUBDIRS) ;\ do if test -d $$dir ; then cd $$dir ; \ $(MAKE) CC="$(CC)" CFLAGS="$(CFLAGS)" proto ; \ cd .. ; fi ;done ) It refuses to "make proto". 
I changed the line for bin/cextract to $(MAKE) CC="$(CC) .... and it compiles then. 
(b) Moreover, I'm unable to "make kaffe": it gives the following error message gcc -g -O2 -I. -I../../../../kaffe-0.9.2/kaffe/kaffe/../kaffevm -I../../config -I../../../../kaffe-0.9.2/kaffe/kaffe/../../config -I../../include -I../../../../kaffe-0.9.2/kaffe/kaffe/../../include -o kaffe main.o -L../kaffevm -lkaffevm -L../../packages/tjwassoc.co.uk/APIcore/lib -lnative -L../../packages/tjwassoc.co.uk/APInet/lib -lnet -L../../packages/tjwassoc.co.uk/APIzip/lib -lzip -L/usr/X11/lib -lX11 -lkaffevm -lm -lc ../kaffevm/libkaffevm.a(classMethod.o): 
In function `buildDispatchTable': /temp/stuff/Thot/obj/kaffe-0.9.2/kaffe/kaffevm/../../../../kaffe-0.9.2/kaffe/kaffevm/classMethod.c:746: undefined reference to `alpha_do_fixup_trampoline' collect2: ld returned 1 exit status Can anyone help with this? 
Rahul Siddharthan rsidd@physics.iisc.ernet.in 
Department of Physics, Indian Institute of Science, Bangalore 560012 (India) In-reply-to: Your message of Fri, 01 May 1998 10:04:46 -0400." 
Pine.LNX.3.96.980501095342.1101A-100000@theory6.physics.iisc.erne 
t.in The osf1 binaries are now available on our serveur (see I think you made some mistakes somewhere. 
Did you follow the process given in http://www.w3.org/Amaya/User/Autoconf.html a) create a subdirectory osf1 b) go into it to configure: cd osf1 ../configure Regards Irene. 
I said, a linux machine, not OSF. 
The autoconf page instructs me to create a subdirectory called obj (not osf1), cd to it, and run configure, and that's what I did. 
The object directory name doesn't matter. 
Ok, I don't understand why $(MAKE) CC="$(CC)" CFLAGS="$(CFLAGS)" proto ; chokes on your setup, it seems valid to me ... Concerning the second and more annoying problem with kaffe, the autoconf stuff tend to build the java support using kaffe which in turn doesn't seems to work well on Linux/Alpha. 
I suggest using the non java distribution of Amaya [1] and use: ../configure --disable-java to for the compilation process to use the libwww http implementation instead of using the Java engine. 
I a second step, if running without Java engine really hurts you, then trying to debug kaffe-0.9.2 on the linux/alpha platform seems the only choice and in that case I suggest looking at the kaffe mailing-list archive [2] to find references of this problem, if any, yours, Daniel [1] ftp://ftp.w3.org/pub/amaya/amaya-src-1.2a.tar.gz [2] http://rufus.w3.org/tools/Kaffe/messages/ Daniel.Veillard@w3.org | W3C MIT/LCS NE43-344 | Today's Bookmarks : Tel : +1 617 253 5884 | 545 Technology Square | Linux, WWW, rpm2html, I said, a linux machine, not OSF. 
The autoconf page instructs me to create a subdirectory called obj (not osf1), cd to it, and run configure, and that's what I did. 
Regards Rahul. 
i ../configure In-reply-to: Your message of Mon, 04 May 1998 10:56:45 -0400." 
Pine.LNX.3.96.980504202010.4413A-100000@theory7.physics.iisc.erne 
t.in Sorry Rahul, I read too quickly your message. 
If you processed as explained in Autoconf it seems you have troubles with make or cpp. 
By default ../configure doesn't try to compile Kaffe and obviously you cannot compile it because the source is not available. 
Regards Irene. 
Let me go through what I did, again: (sorry I may have missed out some important stuff earlier): (1) I tried unzipping the amaya-java source and compiling, didn't work. 
(2) I tried unzipping the amaya-src and compiling, didn't work. 
(3) Some time later, I tried amaya-java again. 
Didn't work. 
(4) Then I did make clean, and unzipped amaya-src into the *same* directory (Thot). 
Maybe that matters? 
(5) I did ../configure without java. 
But the problem with the makefile seems to be in the source Makefile.in, as I said earlier. 
Didn't work. 
(6) After I fixed the makefile, it compiled fine, runs ok most of the time. 
(7) Then I tried reconfiguring (after a make clean), with java, it refuses to compile. 
(8) I tried the make stages one by one, as described in autoconf.html, 
and it chokes on the make kaffe step. 
Hope this is of help. 
Rahul. 
It works fine. 
The problem is in the earlier line, which I quote again: bin/cextract : @(cd tools/cextract-$(CEXTRACT_VER) ; $(MAKE) CC="-O" When I make proto, it chokes on this line. 
Regarding Java, no, I'm not desperate to run it. 
I just wanted to let you know the problem. 
Regards Rahul. 
When I untarred the OSF binary distribution right now, I found that most files were not readable by group or world. 
I don't think this is how you want to make a binary distribution... 
In any case, it seems to run on my new Alpha (running 4.0D). 
BTW, you are welcome to an account on the system if you want it. 
Dunno where you are getting your binary bits these days for Digital UNIX. - Jim Jim Gettys Industry Standards and Consortia Digital Equipment Corporation Visting Scientist, World Wide Web Consortium, M.I.T. jg@w3.org, 
jg@pa.dec.com 
I'm in a similar position (having a Alpha with RH 5.0) and not being able to build cleanly. 
I have seen comments (such as the one below) about compatibility between OSF/1 (now Digital UNIX) and Alpha Linux binaries. 
Is it possible that the Amaya OSF/1 binary was linked statically or that a statically linked binary could easily be made available? 
: Hi, : We're interested in getting an alpha based PC (something like a : microway Screamer) to do number crunching on. 
What I'm wondering is : whether binaries which we compile under Digital Unix (DEC Fortran) on : our Alpha Stations will run on the Alpha PC w/Linux as the OS? Or, : would we need to buy a compiler and compile under the new platform. 
: Thanks, : J They will run if linked statically (with -non_cached flag). 
DEC Fortran is still far superior than anything you can get on Linux/Alpha platform. 
Xiaoguang Zhang In-reply-to: Your message of Mon, 04 May 1998 21:21:00 +0530." 
Pine.LNX.3.96.980504211435.15565B-100000@theory6.physics.iisc.ern 
et.in I have integrated you bug fix. 
Thanks The release amaya-src-1.2a is a core release and doesn't include kaffe and java code. 
Releases amaya-java-src are done by Daniel Veillard who is in charge to adapt the java interface to each new core release. 
Today amaya-src and amaya-java-src have 2 releases of difference and you have to use release 1.1c if you need the Java interface. 
You cannot use amaya 1.2a C code with amaya 1.1c Java code. 
Yes. 
It's clear now. 
Irene. 
