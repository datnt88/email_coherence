<s> Hi I would value any help in drafting a reply to Peter F. Patel-Schneider's comment which I take to be on RDF Concepts (He may be looking at the later editors draft:  </s>
<s> which includes the additional following para: The string in both plain and typed literals is required to be in Unicode Normal Form C [NFC].  </s>
<s> This requirement is motivated by [Charmod] particularly section 4 Early Uniform Normalization.  </s>
<s> as well as some other clarifications on this issue, as indicated to Peter in Given that he remains disatisfied perhaps the best we can do is to thank him for his concern and move on.  </s>
<s> Jeremy  </s>
<s> Well, the overnight developments I had hoped for aren't going to happen.  </s>
<s> First a context setting ramble, than two concrete suggestions.  </s>
<s> I believe that it is Peter's intention to formally object to the current RDF handling of normal form C. I feel I don't really understand the issue very well, but I'll try to summarize my understanding, such as it is.  </s>
<s> Please correct my misunderstanings.  </s>
<s> RDFCore is following CharMod and I18N advice in requiring literals to be in normal form C. XML 1.0 and XSD datatypes do not require this.  </s>
<s> Thus there are legal fragments of XML 1.0 that are not in normal form C, legal xsd:string's that are not in normal form C and legal xsd:anyURI's  </s>
<s> that are not in normal form C and these cannot be used in an RDF graph.  </s>
<s> I think that the issue arises rarely in practice, e.g. when a string or xml fragment contains a combining character with nothing to combine with.  </s>
<s> One issue of concern to Peter is that the current specs prohibit us saying in say Owl that some string (which is not in normal form C) is not in normal form C. I think this is wrong, in that it is possible to invent a datatype whose lexical space consists of strings in normal form C, but whose value space is not, that would allow the representation of all strings.  </s>
<s> The same could be done for XML fragments, though would then loose the benefit of the parseType="Literal" convenience syntax.  </s>
<s> Thus whilst the RDF specs would not be providing a standard way of representing non-NFC strings, it would not be preventing their expression.  </s>
<s> That said, it does seem odd to me that we are precluding RDF from representing some legal fragments of XML 1.0 as XML Literals.  </s>
<s> Please interpret "odd" as massive English understatement.  </s>
<s> This situation has arisen because we have been striving to be good citizens, especially with respect to internationalization and have adopted good practice earlier than some other specs.  </s>
<s> This does not play well when we embed fragments of language conforming to those other specs in our language.  </s>
<s> This is a situation when one has to consider the wisdom of trying to be "ahead of the pack".  </s>
<s> I am tempted by an idea I will attribute to pfps, though I'm not sure he is advocating it, that we should report these difficulties we have encountered trying to deploy charmod to I18N and seek their advice on managing the transition, specifically given that we embed fragments of non-conforming languages in ours.  </s>
<s> I also wonder whether this issue might be addressed by toning down the language from MUST to SHOULD e.g.  </s>
<s> becomes something like The string in both plain and typed literals SHOULD be in Unicode Normal Form C [NFC].  </s>
<s> This is motivated by anticipation that [Charmod], particularly section 4 Early Uniform Normalization will become standardized practice.  </s>
<s> Implementations SHOULD accept strings which are not in Normal Form C and MAY issue a warning in such circumstances.  </s>
<s> Brian  </s>
<s> If that's referring to a response from our side, sorry.  </s>
<s> I was busy working on a paper yesterday.  </s>
<s> It is my understanding that there are other small discrepancies, back and forth, between XML 1.0 and RDF, but I don't know the details.  </s>
<s> Looking at these details may help putting this issue into perspective.  </s>
<s> I agree with 'rarely in practice'.  </s>
<s> NFC was designed to align with current practice where possible.  </s>
<s> The example you give is not exactly typical, here are some: - A string contains a base character and a combining character, and there is a precomposed character for this combination - A string contains a character (e.g. Angstrom) that is a canonical equivalent (i.e. exact copy) of another (A-ring).  </s>
<s> - A string starts with a combining character with nothing to combine with  </s>
<s> I'm a bit confused here, but I'll try to use my own words.  </s>
<s> RDF would always be able to represent non-NFC strings, e.g. by defining them as a collection/sequence of integers represented by a graph.  </s>
<s> There is in my understanding nothing one can or should do or be able to do to prevent that if somebody really wants to do that.  </s>
<s> What you propose above seems to be somewhat different, i.e. normalized strings would represent unnormalized strings.  </s>
<s> But this would run into all kinds of problems, because there  </s>
<s> are potentially a large number of unnormalized strings for a given normalized string, and it would be difficult to indicate which unnormalized string is denoted.  </s>
<s> (If the relationship between normalized and unnormalized strings were simply 1-to-1, we would have a much simpler life in the first place.)  </s>
<s> So I would like to see something like a 'proof by construction' for the idea of "it is possible to invent a datatype whose lexical space consists of strings in normal form C, but whose value space is not".  </s>
<s> I think for RDF specifically, doing matching to build up the graph, and having this very clearly defined, was one of the basic requirements, and reasons for 'early' adoption.  </s>
<s> From a user point of view, different normalizations should match.  </s>
<s> But from a machine point of view, this can be a lot of work.  </s>
<s> Requiring clean data to start with is what we have proposed, and  </s>
<s> you have adopted.  </s>
<s> A possible alternative would be to not strictly  </s>
<s> require clean data, but to clearly blame any responsibility for matching problems on the side providing the dirty data.  </s>
<s> Regards, Martin.  </s>
<s> It wasn't.  </s>
<s> I'm sorry that wasn't clear Martin.  </s>
<s> I was not casting any aspertions about timeliness in your direction, and in fact, I'm grateful for this quick response.  </s>
<s> Thanks Martin, thats helpful.  </s>
<s> Right.  </s>
<s> I think that's the essential point - there are other ways of representing non-nfc strings if you really want to.  </s>
<s> Then I won't pursue it - I merely meant it as an example of one approach.  </s>
<s> If that doesn't work no matter, as the one you have suggested does.  </s>
<s> I see.  </s>
<s> A possible alternative would be to not strictly  </s>
<s> That looks like a possible compromise - language of the form "SHOULD be  </s>
<s> I think I heard you say that you think such an approach would be acceptable to I18N.  </s>
<s> Right?  </s>
<s> Peter, would it work for you?  </s>
<s> Brian  </s>
<s> From: Brian McBride bwm@hplb.hpl.hp.com Subject: Re: Fwd "a comment on NFC" Date: Thu, 02 Oct 2003 15:43:13 +0100  </s>
<s> Hmm. I am not aware of any other way of representing strings in RDF besides untyped literals and typed literals with datatypes related to xsd:string.  </s>
<s> None of these methods provides any way of representing non-NFC strings.  </s>
<s> In any case, this seems to be a rather silly way of representing non-nfc strings.  </s>
<s> Why should anyone who wants to represent a non-NFC Unicode string be forbidden to do so?  </s>
<s> Yes, in many circumstances this is a bad thing, but RDF is not about forbidding people from doing such bad things.  </s>
<s> I see no problems with this approach.  </s>
<s> peter  </s>
