<s> In the 12.2 draft, Section 2.5 states:  </s>
<s> If the request-URL identifies a version-controlled resource, the resource just remains under version-control.  </s>
<s> This allows a client to be unaware of whether or not a server automatically puts a resource under version control when it is created.  </s>
<s> And then lists as a Postcondition:  </s>
<s> (DAV:already-under-version-control): If the request-URL identified a resource already under version control at the time of the request, the VERSION-CONTROL request MUST NOT change the DAV:checked-in or DAV:checked-out property of that version-controlled resource.  </s>
<s> Section 1.6 then leads one to believe that this condition would result in a 403 or a 409 status response, even though this appears to be normal operation, and hence would warrant a 200 OK response.  </s>
<s> Geoff Clemm's message of February 4, 2001 (http://lists.w3.org/Archives/Public/ietf-dav-versioning/2001JanMar/0311.htm l) makes it sound like this Postcondition would be dropped.  </s>
<s> Is it intentionally still in the draft?  </s>
<s> - Jim  </s>
<s> (DAV:already-under-version-control): If the request-URL identified a resource already under version control at the time of the request, the VERSION-CONTROL request MUST NOT change the DAV:checked-in or DAV:checked-out property of that version-controlled resource.  </s>
<s> Hmm, I think I was thrown off by the title of this precondition.  </s>
<s> It seems that the purpose of the postcondition is to flag when the property invariant (DAV:checked-in' == DAV:checked-in) ^ (DAV:checked-out' == DAV:checked-out) cannot be maintained, and so the name of the postcondition really should be something like "DAV:property-invariant-violated".  </s>
<s> - Jim  </s>
<s> The name of this postcondition probably should be changed to something like "DAV:must-not-change-existing-checked-in-out".  </s>
<s> It just says that a server must return a 403/409 if it cannot satisfy this condition.  </s>
<s> It's hard to imagine how a server could fail to satisfy the postcondition that tells it to leave something alone, but I gave it a name since all the other postconditions have names.  </s>
<s> The "return this on success" semantics has been removed, as stated in the message you quoted.  </s>
<s> Cheers, Geoff In the 12.2 draft, Section 2.5 states:  </s>
<s> If the request-URL identifies a version-controlled resource, the resource just remains under version-control.  </s>
<s> This allows a client to be unaware of whether or not a server automatically puts a resource under version control when it is created.  </s>
<s> And then lists as a Postcondition:  </s>
<s> (DAV:already-under-version-control): If the request-URL identified a resource already under version control at the time of the request, the VERSION-CONTROL request MUST NOT change the DAV:checked-in or DAV:checked-out property of that version-controlled resource.  </s>
<s> Section 1.6 then leads one to believe that this condition would result in a 403 or a 409 status response, even though this appears to be normal operation, and hence would warrant a 200 OK response.  </s>
<s> Geoff Clemm's message of February 4, 2001 (http://lists.w3.org/Archives/Public/ietf-dav-versioning/2001JanMar/0311.htm l) makes it sound like this Postcondition would be dropped.  </s>
<s> Is it intentionally still in the draft?  </s>
<s> - Jim  </s>
<s> Yes, I've gone and fixed that title.  </s>
<s> Note though that the title is always of the form "must do or not do X", i.e. what the postcondition gets you, and not "what went wrong".  </s>
<s> (Sort of a glass half full vs. half empty issue :-).  </s>
<s> So a standard error message would be "Could not ensure xxx".  </s>
<s> And "Could not ensure property-invariant-violated" probably isn't what we want (:-).  </s>
<s> Cheers, Geoff  </s>
<s> (DAV:already-under-version-control): If the request-URL identified a resource already under version control at the time of the request, the VERSION-CONTROL request MUST NOT change the DAV:checked-in or DAV:checked-out property of that version-controlled resource.  </s>
<s> Hmm, I think I was thrown off by the title of this precondition.  </s>
<s> It seems that the purpose of the postcondition is to flag when the property invariant (DAV:checked-in' == DAV:checked-in) ^ (DAV:checked-out' == DAV:checked-out) cannot be maintained, and so the name of the postcondition really should be something like "DAV:property-invariant-violated".  </s>
<s> - Jim  </s>
