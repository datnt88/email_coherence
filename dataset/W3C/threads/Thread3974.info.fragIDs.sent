<s> Based on our discussion on the last call, here is my proposal to add a grouping mechanism to CPs and to clarify that CPs are to be used only as hints.  </s>
<s> Section 4 of the latest p3p1.1 wd describes compact policies.  </s>
<s> The first paragraph of 4. currently states: Compact policies are summarized P3P policies that provide hints to user agents to enable the user agent to make quick, synchronous decisions about applying policy.  </s>
<s> Compact policies are a performance optimization that is OPTIONAL for either user agents or servers.  </s>
<s> User agents that are unable to obtain enough information from a compact policy to make a decision according to a user's preferences SHOULD  </s>
<s> fetch the full policy.  </s>
<s> I propose changing it to say: Compact policies are summarized P3P policies that provide hints to user agents to enable the user agent to make quick, synchronous  </s>
<s> decisions about applying policy to cookies.  </s>
<s> Compact policies are a  </s>
<s> performance optimization that is OPTIONAL for both user agents and servers.  </s>
<s> They represent only a summary of a site's full P3P policy for a cookie; the full P3P policy is the authoritative statement of policy.  </s>
<s> However, a site MUST honor the commitments made in a compact policy.  </s>
<s> User agents that are unable to obtain enough information from a compact policy to make a decision according to a user's preferences SHOULD fetch the full policy.  </s>
<s> In addition, user agents that display  </s>
<s> information about a site's P3P policies to users SHOULD use the full P3P policy as the source of this information.  </s>
<s> I propose adding a section 4.2.10 Compact STATEMENT The STATEMENT element is represented in compact policies using the curly brace { } symbols.  </s>
<s> The { represents the opening STATEMENT tag and the } represents the closing statement tag.  </s>
<s> The syntax of the compact statement corresponds to the syntax of the full statement.  </s>
<s> Unless it surrounds a compact NON-IDENTIFIABLE element, each pair of braces MUST surround one compact RETENTION element and at least one of each of the following compact elements: PURPOSE, RECIPIENT, and CATEGORIES.  </s>
<s> Alternatively, a pair of braces may surround a compact NON-IDENTIFIABLE element; optionally any of the PURPOSE, RECIPIENT, and CATEGORIES elements; and optional a RETENTION element.  </s>
<s> A compact policy that has an improperly matching pair of curly braces or is missing one of the required statement elements MUST be treated as if no curly braces are present.  </s>
<s> A compact policy may contain one or more statements.  </s>
<s> A compact policy with no {} elements is considered to have a single implied statement element.  </s>
<s> [BNF] Section 4.5, fourth paragraph, change MUST to MAY (as in "All of the purposes, recipients, and categories that appear in multiple statements in a full policy MAY be aggregated in a compact policy...." Section 4.5 give two examples of valid translations.  </s>
<s> In addition to the one currently given, add: "NON DSP { ADM DEV PSD OUR IND PRE NAV } { IVDo OUR STP PHY PRE UNI }"  </s>
<s> Section 4.6 Transforming a Compact Policy to a P3P Policy should be dropped.  </s>
<s> This is a good trick.  </s>
<s> I like it.  </s>
<s> But curly braces don't carry attributes ;) This means the grouping mechanism of statement can't be applied.  </s>
<s> Your examples for grouping are good, but I would really like us to have a chunk of full policy in the example and the grouped compact representation that goes with it.  </s>
<s> Best, Rigo  </s>
<s> If we need attributes, we can use an alternate syntax that would allow it.  </s>
<s> But I'm not sure what statement attributes need to be represented in compact policies...  </s>
<s> There are no STATEMENT attributes other than those that are part of extensions.  </s>
<s> Lorrie Also, I did include an example in the text I sent in the last message.  </s>
<s> It is a grouped compact policy from the example that is already in the spec.  </s>
<s> Lorrie  </s>
<s> Here is my revised proposal based on today's call.  </s>
<s> Please send proposed changes to the mailing list BEFORE next week's call.  </s>
<s> I would like to finish this next week.  </s>
<s> Lorrie Section 4 of the latest p3p1.1 wd describes compact policies.  </s>
<s> The first paragraph of 4. currently states: Compact policies are summarized P3P policies that provide hints to user agents to enable the user agent to make quick, synchronous decisions about applying policy.  </s>
<s> Compact policies are a performance optimization that is OPTIONAL for either user agents or servers.  </s>
<s> User agents that are unable to obtain enough information from a compact policy to make a decision according to a user's preferences SHOULD fetch the full policy.  </s>
<s> I propose changing it to say: Compact policies are summarized P3P policies that provide hints to user agents to enable the user agent to make quick, synchronous  </s>
<s> decisions about applying policy to cookies.  </s>
<s> Compact policies are a performance optimization that is OPTIONAL for both user agents and servers.  </s>
<s> They represent only a summary of a site's full P3P policy for a cookie; the full P3P policy is the authoritative statement of policy.  </s>
<s> However, a site MUST make compact policy statements in good faith.  </s>
<s> User agents that are unable to obtain enough information from a compact policy to make a decision according to a user's preferences SHOULD fetch the full policy.  </s>
<s> User agents that use compact policies as part of their decision making  </s>
<s> MUST include a mechanism that allows users to determine that a particular decision was made based on a compact policy and to view that compact policy.  </s>
<s> However, user agents that provide general information about a site's P3P policies to users MUST use the full P3P policy and MUST NOT use the compact policy for this purpose.  </s>
<s> I propose adding a section 4.2.10 Compact STATEMENT The STATEMENT element is represented in compact policies using the curly brace { } symbols.  </s>
<s> The { represents the opening STATEMENT tag and the } represents the closing statement tag.  </s>
<s> The syntax of the compact statement corresponds to the syntax of the full statement.  </s>
<s> Unless it surrounds a compact NON-IDENTIFIABLE element, each pair of braces MUST surround one compact RETENTION element and at least one of each of the following compact elements: PURPOSE, RECIPIENT, and CATEGORIES.  </s>
<s> Alternatively, a pair of braces may surround a compact NON-IDENTIFIABLE element; optionally any of the PURPOSE, RECIPIENT, and CATEGORIES elements; and optionally a RETENTION element.  </s>
<s> A compact policy that has an improperly matching pair of curly braces or is missing one of the required statement elements MUST be treated as if no curly braces are present.  </s>
<s> A compact policy may contain one or more statements.  </s>
<s> A compact policy with no {} elements is considered to have a single implied statement element.  </s>
<s> [BNF] Section 4.5, fourth paragraph, change MUST to MAY (as in "All of the purposes, recipients, and categories that appear in multiple statements in a full policy MAY be aggregated in a compact policy...." Section 4.5 give two examples of valid translations.  </s>
<s> In addition to the one currently given, add: "NON DSP { ADM DEV PSD OUR IND PRE NAV } { IVDo OUR STP PHY PRE UNI }"  </s>
<s> Section 4.6 Transforming a Compact Policy to a P3P Policy should be dropped.  </s>
<s> Nice draft!  </s>
<s> Am Wednesday 24 March 2004 21:23 verlautbarte Lorrie Cranor :  </s>
<s> This sentence is ambiguous as it can read: 1/ a site MUST make compact policy statements 2/ if a site makes compact statements, it has to do so in good faith.  </s>
<s> The first requirement sounds really strange.  </s>
<s> It is raw access to the tokens as arrived at the user agent.  </s>
<s> This is normally done by experts using telnet or perl tools.  </s>
<s> But I think this was the consensus we had.  </s>
<s> We should be clear that it is really only raw access.  </s>
<s> Why transform?  </s>
<s> The whole paragraph does not make too much sense anymore.  </s>
<s> Another thing is, does P3P 1.1 use mandatory extensions?  </s>
<s> In this case, the third paragraph is an issue too: Full policies that include mandatory extensions MUST NOT be represented as compact policies.  </s>
<s> In the same direction, 4.7 could be integrated somewhere instead of having an own point.  </s>
<s> I also wonder why we said SHOULD NOT while the above indicates that by inference it is supposed to read MUST NOT.  </s>
<s> OK, how about: However, if a site makes compact policy statements, it MUST make these statements in good faith.  </s>
<s> I don't so much care about whether a user agent gives me an ascii string or whether it formats it in a pretty way, as long as all the information is there.  </s>
<s> I think the current wording captures that.  </s>
<s> In what way do you think it might be misinterpreted?  </s>
<s> For backwards compatibility, the aggregation is still legal.  </s>
<s> We could change this paragraph to say: The P3P 1.0 specification required that all purposes, recipients, and categories that appear in multiple statements in a full policy be aggregated in a compact policy, as described in section 3.3.1.  </s>
<s> With the addition of the compact STATEMENT element in P3P 1.1, this is no longer necessary, although it is still permitted.  </s>
<s> When performing the aggregation, a Web site MUST disclose all relevant tokens (for instance, observe Example 4.1, where multiple retention policies are specified.)  </s>
<s> I believe we only include optional extensions in P3P 1.1.  </s>
<s> If we used mandatory extensions it would introduce backwards compatibility problems.  </s>
<s> 4.7 is entirely repeated as the first paragraph of section 6.4, so I think we could drop 4.7.  </s>
<s> (Rigo, here is one typo in 6.4 - a ] that should be removed.) At the time we wrote this we agreed to SHOULD NOT.  </s>
<s> However, I think MUST NOT may be appropriate given our other changes.  </s>
<s> So I would propose that the first paragraph of 6.4 say: P3P user agents MUST NOT rely on P3P compact policies that do not comply with the P3P 1.0 or P3P 1.1 specifications or are obviously erroneous.  </s>
<s> Such compact policies SHOULD be deemed invalid and the corresponding cookies should be treated as if they had no compact policies.  </s>
<s> The following guidelines are designed to reduce the chance that a P3P user agent will accept an invalid compact policy.  </s>
