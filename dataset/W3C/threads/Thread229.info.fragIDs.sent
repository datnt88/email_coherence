<s> Tried to run HTML-Tidy with the clean (-c) option on the attached page (test.htm), which was saved from Word 97 as an HTML document.  </s>
<s> Also attached is the first part of the TidyOut.log file generated (enough to show the problem).  </s>
<s> It's obvious that Tidy got stuck in a loop somewhere on line 17 of the input HTML file.  </s>
<s> When I originally ran Tidy (from HomeSite 4.5) it eventually locked up my machine after the TidyOut.log file grew to over 500MB.  </s>
<s> I think Tidy is great, and was looking forward to using it to clean up Word's poor excuse for HTML rather than doing it by hand.  </s>
<s> This test, however, gives me pause.  </s>
<s> I don't know whether this problem has been reported previously (I didn't see it in a brief perusal of the Release Notes), but I hope it can be fixed or worked around.  </s>
<s> Thanks for listening.  </s>
<s> Jim Mundy Integrated Performance Decisions, Inc. Monterey, CA Mundy.Jim@metnet.navy.mil  </s>
<s> (831) 656-4566  </s>
<s> Running tidy built on a SPARC/Solaris shows the same behavior.  </s>
<s> Larry W. Virden URL: mailto:lvirden@cas.org  </s>
<s> URL: http://www.purl.org/NET/lvirden/  </s>
<s> * O- Save us from the snobs.  </s>
<s> Unless explicitly stated to the contrary, nothing in this posting should be construed as representing my employer's opinions.  </s>
<s> - -  </s>
<s> I have reduced your bug to following test case:  </s>
<s> I found out that ParseList function in parser.c  </s>
<s> goes to infinite loop, when it encounters /B tag.  </s>
<s> I don't know where exactly the bug is, but I will continue my efforts.  </s>
<s> Jussi Vestman IT student at Lappeenranta University of Technology, Finland jussi.vestman@lut.fi  </s>
<s> I commented out call of UngetToken from line 1223 in parser.c.  </s>
<s> After that tidy didn't go to infinite loop, when processing Jim's code.  </s>
<s> I guess right place for that UngetToken call would be in line 1261 in parser.c.  </s>
<s> I am not completely sure if this change breaks something elsewhere.  </s>
<s> Mr. Jussi Vestman IT student at Lappeenranta University of Technology, Finland jussi.vestman@lut.fi  </s>
<s> While I don't doubt both your findings, as an FYI, I ran the Word97 file through the Mac OS version of Tidy (based on the 26 Jul 99 sources, with the fixes suggested by Dave on 15 Aug 99), and it worked without problem (I didn't check to see if the correct results were produced - I can provide the output files if you are interested).  </s>
<s> Some of the bugs reported in the 26 Jul 99 version of Tidy (and some of the fixes on 15 Aug 99) pertained to infinite loops.  </s>
<s> You might want to check older mail to see if this is a known bug.  </s>
<s> Regards, Terry  </s>
<s> It was a known bug as you said.  </s>
<s> I should have checked mailing list archives before I sent my message.  </s>
<s> Obviously I did't watch the list very actively in August.  </s>
<s> I hope these fixes get into Tidy release ASAP.  </s>
<s> Mr. Jussi Vestman An IT student at Lappeenranta University of Technology, Finland jussi.vestman@lut.fi  </s>
