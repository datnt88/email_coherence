<s> Could someone tell me where is Proxy-Connection header defined?  </s>
<s> It doesn't  </s>
<s> appear in RFC 1945, nor in RFC 2068, nor in draft-ietf-http-v11-spec-rev-06.  </s>
<s> .-. .-. Life is a sexually transmitted disease.  </s>
<s> dave@fly.cc.fer.hr  </s>
<s> AFAIK it isn't; squid uses it to no effect.  </s>
<s> :-D ???????????????????? :- : ??-??-?????????????????????? 8-) ?????????????????????????????? :-0 ???????????????????????????????? :-o ?????????????????????????????? |-D ???????? |-P ?????????? :-  ???????????????? 8:-) ???????????????????????????????????????????????????????? :-9 ?????????????????? &amp;:-) ?????????????? (:-&amp; ???????????????????? (:-* Kiss???? (:-D) ?????????????????? (:-|k- ???????????????????????????????????????????????? :-|K- ???????????????????? (: ) ?????????? (:  -  ?????????????????????? (:I ???????? (0--  ???????????????????? o-) ?????????????????????????????? *:o) ?????? * |:-) ?????????? + :-| ???????????????????? ,-} ??????????????????????????PASS?? ..._... SOS?????? 0-) ???????????????????????????????????????????? 3:=9 ?????????????????? 8:-I ???????????????????????????????????? 8:] ?????????????????????????? :-* ??????????Put your money where your mouth is.  </s>
<s> :-&amp; ???????????????????????????? ^^_  @_@ ?????????? ~~~~ _ ~~~~ ?????????????? :-)-{8 ?????????????????? :-)8 ?????????????????????????????? :-0 ?????????????? :-1 ?????????????? :-6 ???????????????????? :-7 ???????????????????????????????????? :-8( ???????????????????????? :- ) ?????????????????? :-q ?????????? :-e ???????????? :-I Hmm???? :-i ?????????????????? :-j ???????????? :-P ???????? :-Q ?????????????? :-x ???????????????? :-X ?????????? : | ???????????????????????????? : ) ?????????????????? :-)  | ?????????????????????????????? :I ???????? :  == ?????????????????????????????? (:-) ???????????????????????????????? I==I) ???????????????? {:-)} ????????????????????  </s>
<s> -r ???????????????????? :-  ??????????????????????????????????????????  </s>
<s> @  --- --- ?????????????????????? B-) ?????????????????? E-:-I ?????????????????? i-) ???????????????? 0-) ???????????? x-  ???????????????????? @_@ ???? @%&amp;$%&amp; ????????  </s>
<s> AFAIK, it is just a Netscape hack.  </s>
<s> Too bad it never worked properly and has problems inherent in the very way it was defined.  </s>
<s> I too am unaware of a formal definition but we implement it in IE 4.0 and IE  </s>
<s> 5.0.  </s>
<s> I also believe we implement it in IE 3.0 but am too lazy to go back and  </s>
<s> check.  </s>
<s> It has worked out quite well for us allowing us to authenticate  </s>
<s> against HTTP/1.0 proxies without worrying about breaking against 1.0 proxies  </s>
<s> that don't support the mechanism and thus always pass the header on.  </s>
<s> Yaron  </s>
<s> Authenticate?  </s>
<s> No. The whole problem is that it doesn't work with proxies that don't understand it if you have anything more complex than client to proxy to origin server.  </s>
<s> From what I know, Netscape wanted a quick hack to let them do persistent connections to proxy servers without having to have all clients and proxies and servers support it.  </s>
<s> Unfortunately, their quick hack was too hacky and quickly falls apart when you have chains of proxies.  </s>
<s> C(a) - P(b) - P(c) - O(d) C is client, P is proxy, O is origin server.  </s>
<s> a sends a Proxy-Connection to b. b doesn't understand the Proxy-Connection header, so it passes it on.  </s>
<s> c understands it, so it tries to do a persistent connection with b. Things break.  </s>
<s> What the Proxy-Connection header has done is require that every proxy which can pass requests to an "upstream" proxy of some type know about it or be "broken".  </s>
<s> In reality, it is the concept of the Proxy-Connection header that is broken, but given that clients implement it and other proxies implement it, the only thing this poor little  </s>
<s> standards conforming proxy can do is deal with it as well.  </s>
<s> It doesn't, of course, have to do anything other than drop it from forwarded requests, but that still involves dealing with it.  </s>
<s> In fact, you even run into this problem sometimes in situations  </s>
<s> where the proxy thinks it is talking directly to the origin server, due to hacks like broken "transparent proxies" (which, of course, by definition are broken), broken "reverse proxies" that think they are still proxies (eg.  </s>
<s> www.novell.com  </s>
<s> used to be behind one), etc.  </s>
<s> These cases are different though, since it is much more arguable that the "normal" proxy isn't the thing that should be fixed.  </s>
<s> Sorry, a slip on the term authenticate.  </s>
<s> A persistent connection is needed for some of our authentication algorithms to work properly.  </s>
<s> As for the problems with the header, yes I am aware of the issues.  </s>
<s> I wasn't actually around when the feature was put in so I'm not sure what the arguments were that lead us to adopt it.  </s>
<s> I suspect they went something like "Netscape is doing it so we have to do it."  </s>
<s> Yaron  </s>
<s> From: Marc Slemko [mailto:marcs@znep.com]  </s>
<s> Sent: Tuesday, January 26, 1999 12:39 PM Subject: RE: Proxy-Connection header definition?  </s>
<s> Do you happen to know which authentication algorithms you use that require persistent connections???  </s>
<s> So does that mean that a proxy that knows about the Proxy-Connection  </s>
<s> header should remove it from the request message and should not try to  </s>
<s> set up a persistent connection???  </s>
<s> Or is there another way that you can  </s>
<s> deal with it???  </s>
<s> Cheers, Kal. .  </s>
<s> Kalvinder Singh singh@ozy.dec.com _-_|\ Software Engineering Australia / \ -- Compaq  </s>
<s> I guess there is a simpler way of stating this.  </s>
<s> All proxies should always strip the Proxy-Connection header from requests that are forwarded.  </s>
<s> ie. it is a hop-by-hop header.  </s>
<s> This is one of the several undocumented HTTP "must do's" that software needs to deal with.  </s>
<s> In addition to the above, if that proxy is capable, it can act on the Proxy-Connection header to control the connection between the client and the proxy as appropriate, if it wants to.  </s>
<s> It should not act on the Proxy-Connection header if it isn't a "real" proxy; ie. the client does not know that it is talking to a proxy.  </s>
<s> Sounds about right.  </s>
<s> From: Marc Slemko [mailto:marcs@znep.com]  </s>
<s> Sent: Wednesday, January 27, 1999 1:18 AM Subject: Re: Proxy-Connection header definition?  </s>
