<s> The ERB met Sat.  </s>
<s> Feb. 22. Present: all but Clark and DeRose.  </s>
<s> Discussion was on the subject of recognition of linking elements.  </s>
<s> The decisions we have apparently taken do leave us with some fairly serious concerns, so we are submitting both the decisions and the concerns to the WG on the theory that someone may convince us either that the concerns are overblown, or that they are understated and that we should proceed to a fallback position.  </s>
<s> I. Recognizing linking elements via attributes With respect to recognition of linking elements, the ERB has consensus that the best way to do this is with reserved attributes.  </s>
<s> The attribute name should probably be "XML-LINK".  </s>
<s> There is, however, a consequence which could lead to direct conflict between the desire for operational simplicity and that for document validity.  </s>
<s> The problem is, how to declare and provide a default value for the XML-LINK attribute?  </s>
<s> 1.  </s>
<s> The case where no markup declarations are provided: plan A: supply the attribute for each element that is a linking element.  </s>
<s> 2. The case where only the internal subset is to be provided: plan B: declare the attribute with a #FIXED default value in an !ATTLIST in the internal subset.  </s>
<s> Both of these are perfectly viable; plan A might be sensible even with an internal subset, if the number of linking attributes is small.  </s>
<s> 3. The case where there is an external DTD subset: plan A: same as above plan B: same as above plan C: declare the default in the external subset But plan C means the client has to fetch the external subset in order to get the necessary declaration.  </s>
<s> Which is a violation, we think, of our axioms.  </s>
<s> To avoid that, stick it in the internal subset.  </s>
<s> Oops, then either plan C1: you remove it from the external subset, or plan C2: you provide invalid documents to the client; 8879 makes it illegal to have multiple !ATTLIST declarations for the same element.  </s>
<s> Plan C1 is operationally infeasible.  </s>
<s> C2 violates another of our axioms, that XML should support operations on valid documents.  </s>
<s> Of course, the problem goes away if 8879 is modified to remove the current prohibition on multiple !ATTLIST declarations; and we hope that this will happen in the not-too-distant future.  </s>
<s> However, the ERB is convinced that for Web viability, there *must be* a signaling mechanism that's within the document instance that gets sent down the pipe.  </s>
<s> So, if it seems that the conflict with 8879 doesn't go away, we will avail ourselves of an escape hatch; at the moment there seem to be four options: e1: Steve Pepper's elegant !LINKTYPE proposal e2: A PI-based signal e3: A special XML-LINKMAP element that sits at the front of the instance.  </s>
<s> e4: A special XML-LINKMAP element that goes in an external document (stylesheet or something found by analogous means), as proposed by Terry Allen and Alex Milowski There was sharp dissension in the ERB on what to do given the uncertainty on what WG8 will do.  </s>
<s> Several members, while respecting the integrity and appropriateness of the !LINKTYPE technique, find the syntax, and the prospect of explaining it, repellent.  </s>
<s> Nonetheless, the !LINKTYPE technique, if only as an interim measure, remains the choice of at least one member.  </s>
<s> The PI technique is nicer looking and easier to explain, but requires extra implementation.  </s>
<s> It also (I think) remains the first choice of one or more ERB members.  </s>
<s> Some feel that the !ATTLIST in the subset has the advantage of requiring no extra syntax beyond that in base XML, and the problem of the conflict between manageability and maintaining SGML validity would be a non-issue, operationally.  </s>
<s> There is also concern on the part of ERB members about adopting interim measures at all, especially while there is active work going on among WG8 members in an effort to address the concerns raised by the XML work.  </s>
<s> By a vote of 8 to 1 (Sperberg-McQueen dissenting), the ERB tentatively decided to - specify that linking elements are to be recognized using the value of a reserved attribute - include in the XML Link spec some application notes as to the operational techniques for such signalling, including providing it on each element and using !ATTLIST in either internal or external subsets  </s>
<s> - point out that it is not possible to duplicate external subset markup declarations in the internal subset without compromising SGML validity  </s>
<s> - promise, in the draft, that if the multiple-ATTLIST method does not become legal in SGML, one of the other feasible methods which provide compatibility with SGML will be substituted for the multiple-ATTLIST method (but not to decide until then which option will be chosen) II.  </s>
<s> Recognizing linking elements via GI  </s>
<s> The ERB voted as follows: In favor of allowing recognition via GI: Bray, Magliery, Maler, Kimber.  </s>
<s> Against: Bosak, Hollander, Paoli, Sharpe, Sperberg-McQueen.  </s>
<s> Thus the measure fails.  </s>
<s> The arguments here are simple.  </s>
<s> In favor of doing this are the facts that it's easy to explain, and that this is the specified default behavior for an architecture anyhow.  </s>
<s> Against it are the benefits of having only one way to do things, with the accompanying desirable shrinkage and simplification in the specification.  </s>
<s> Given the closeness of the vote, I *think* I can speak for most of us in saying that it was a pretty close call, and most of the ERB, regardless of the way they voted, probably could have lived with it going either way; the arguments on both sides are palpably good, and the consequences of a wrong choice don't seem that severe.  </s>
<s> Cheers, Tim Bray tbray@textuality.com  </s>
<s> http://www.textuality.com/  </s>
<s> +1-604-708-9592  </s>
<s> If no WG8 support is provided, and LINKTYPE (a la pepper) is not acceptable, the stylesheet option (Allen and Milowski) would be my choice.  </s>
<s> Since we will be opening the processing spec phase soon enough, that would be a minimal path.  </s>
<s> It may be that we did this in reverse order.  </s>
<s> Understanding the options with the processing spec might make some aspects of the linking spec easier to understand and explain.  </s>
<s> my .0001  </s>
<s> cent.  </s>
<s> len bullard  </s>
<s> There might be a sneaky way of overcoming this restriction.  </s>
<s> If XML required that all ATTLISTs containing XML-LINK attributes must be declared as parameter entities, and then invoked in the DTD as a parameter entity reference, then the parameter entity definition could be repeated in the external and internal subsets without upsetting an SGML system because internal parameter entities would replace external ones.  </s>
<s> What you would end up with, for each XML-link element would be an entry in the internal subset of the form: !DOCTYPE xml-doc PUBLIC ....... [ !ENTITY % link-type1 ' !ATTLIST link-element1 xml-link NAME #FIXED link locator CDATA #REQUIRED caption CDATA #IMPLIED ......  ' !ENTITY % link-type2 ' !ATTLIST link-element2 xml-link NAME #FIXED xlink locator CDATA #REQUIRED caption CDATA #IMPLIED ......  ' ] Martin Bryan, The SGML Centre, Churchdown, Glos.  </s>
<s> GL3 2PU, UK  </s>
<s> How can you *disallow* this?  </s>
<s> It is, after all, an application convention.  </s>
<s> Now, if the question is whether XML-Link processors *must* have the ability to recognise by GI, then the negative makes sense.  </s>
<s> Applications on top of XML can do anything they want, of course.  </s>
<s> If they have their own links types that they recognize by virtue of dowsing, that's just fine.  </s>
<s> What I understand the resolution to mean is that such recognition is not part of XML: if it exists it is an application convention at another level.  </s>
<s> This sounds like the "application engines" talked about in HyTime.  </s>
<s> Does the ERB intend to draft an extension mechanism similar to the way HyTime allows one to declare architectures to use with HyTime?  </s>
<s> IOW, XML is the base linking architecture, but it provides the way to enable others to be defined for application conventions?  </s>
<s> Or will this be something that remains defined in the HyTime annex?  </s>
<s> len bullard  </s>
<s> My point exactly.  </s>
<s> The wording is less than ideal.  </s>
