<s> Hi all.  </s>
<s> I would like to use tidy to clean my html, but I have my source html split in fragments without the body /body tags.  </s>
<s> Each fragment is syntactically consistent.  </s>
<s> This is because I use wml to generate my final html pages.  </s>
<s> It is possible to use tidy in this case?  </s>
<s> In which way?  </s>
<s> If not, it will be fine to add the option to ignore the missing html stuff outside body /body tags inclusive.  </s>
<s> Thank in advance for any help.  </s>
<s> Fabrizio Pollastri.  </s>
<s> Hi, I use the attached Perl script to post-process Tidy's output to do exactly what you guys want.  </s>
<s> It also does some other handy things.  </s>
<s> It's a filtering wrapper that runs Tidy on your input, then fine-tunes/strips things from it's output depending on which options you specify.  </s>
<s> Run it from the command line; it's usage basically mimics Tidy's.  </s>
<s> By default, unless you specify options it simply returns Tidy's output the same as if you ran Tidy directly.  </s>
<s> I run it with -s option to cleanup HTML fragments that get put into my server-side apps.  </s>
<s> Comments within the script should explain it pretty clearly; if not feel free to contact me.  </s>
<s> Note: I use it under Linux/Unix and I have no clue if it works on anything else.  </s>
<s> Fabrizio Hi all.  </s>
<s> Fabrizio I would like to use tidy to clean my html, but I have my source Fabrizio html split in fragments without the body /body tags.  </s>
<s> Each Fabrizio fragment is syntactically consistent.  </s>
<s> This is because I use wml to Fabrizio generate my final html pages.  </s>
<s> Fabrizio It is possible to use tidy in this case?  </s>
<s> In which way?  </s>
<s> Fabrizio If not, it will be fine to add the option to ignore the missing Fabrizio html stuff outside body /body tags inclusive.  </s>
<s> Fabrizio Thank in advance for any help.  </s>
<s> Fabrizio Fabrizio Pollastri.  </s>
<s> ~pete  </s>
<s> How consistent?  </s>
<s> There may be problems if they're not consistently legal BODY content, such as a series of table rows without a TABLE tag.  </s>
<s> You might be able to get by by putting a comment "cut line" at the start and end of your snippet, running Tidy, and then extracting only the parts between those comments for your fragment file.  </s>
<s> The instances where your fragment's content could slip out of those section-delimiting comments are limited.  </s>
<s> Tidy could have an option added to automatically insert such markers in the document, note their positions, tidy the document as if it were complete (but suppressing errors occurring outside the markers), then only output the text between the markers.  </s>
