My conception of Well-Formedness has always been along the lines of "you can build the right parse tree". 
Now, we have partially ducked that by saying that you don't have to fetch &amp; parse external text entities; but you do have to know what the reference is pointing at. 
I'm sorry to have missed this point (4.3, number 8) first time around. 
This is unacceptable, and the rationale, "... may not be appropriate for other applications, in particular document browsing," is unconvincing. 
How can you browse a document if you can't see it all? 
How can you expect people to use a markup scheme if the results are undefined ("yeah, sure, you can use entities, but that text may just turn up missing")? 
As this makes entities essentially useless, why not get rid of them altogether? 
And how is this compatible with SGML? 
(I will not engage in any discussion about whether an author has the right to expect the integrity of his document to be repected by an comformant application; if you want to take that view, please change the subject line so I can ignore you.) Regards, Terry Allen Fujitsu Software Corp. tallen@fsc.fujitsu.com 
"In going on with these experiments, how many pretty systems do we build, which we soon find outselves obliged to destroy?" - Benjamin Franklin A Davenport Group Sponsor: http://www.ora.com/davenport/index.html SGML does not prescribe error recovery mechanisms for references to undeclared entitie, and one possible recovery strategy is to look for the entity using the name of entity: &amp;bar; would result in a search for an entity named "bar", perhaps by looking in a catalog, relative to the referring entity, etc. 
I think this may end up being *more* robust in some ways, because people will have to implement a default behaviour for cases where entities are not declared, which they otherwise may not have to. 
This will also make it easier to parse entities in isolation. 
Sorry, Terry. 
This was one of the single most debated points in the whole XML process; the ERB reversed itself no less than twice, under heavy (and justified) WG pressure. 
Hit the archive and relive the joy of debate. 
I think this one is (a) not going to change and (b) the correct decision. 
- Tim whole XML process; the ERB reversed itself no less than twice, under heavy (and justified) WG pressure. 
Hit the archive and relive the joy of debate. 
I think this one is (a) not going to change and (b) the correct decision. 
- Tim Then I'll just point out that 4.3.8 
allows the entity to be ignored even when it has been served to the client, e.g., when it's bundled with the main document. 
Few sane publishers will find entities attractive in XML. 
Regards, Terry And so did Tim Bray: I was one of the proponents of the current decision, and I still think it's correct, but Terry has a very valid point, that can perhaps be addressed without changing the basic decision significantly. 
Can we change the language to read something like the following: "If the entity is an external text entity, and the processor is not attempting to validate the XML document, the processor may, but need not include the entity's content. 
[This is what we say currently, but we can add a new requirement: ]. 
If the application, either cannot retrieve the entity, or chooses not to do so, the application must indicate to the user that data is missing, and (if possible) offer the oppotunity to fetch the missing data." 
I think the following explanation of why you'd rather not be _forced_ to fetch everything, should be able to stand as-is. 
-- David (not arguing applications and authors rights) I am not a number. 
I am an undefined character. 
David Durand dgd@cs.bu.edu \ david@dynamicDiagrams.com 
Boston University Computer Science \ Sr. Analyst --------------------------------------------\ http://dynamicDiagrams.com/ MAPA: mapping for the WWW \__________________________ I think it's not as bad as you fear. 
Few successful clients will be insane. 
HTML makes display of the entire _document_ optional... :-) The idea behind the decision was to allow lazy evaluation -- e.g. a browser could show an "entity" box until you double click on it. 
But this was done before we discussed hyperlinks at all. 
If you have links that support optional transclusion, you don't need this feature. 
David suggests: I think this is fine. 
Note that for an undefined entitiy (the original example) you don't actually know whether it's external or not. 
This wording hence can only (I think) apply to defined but unreachable entities where a DTD was given. 
Lee 
