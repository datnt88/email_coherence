<s> I think requirement 3.8 brings up major questions about just what we consider a "query".  </s>
<s> Does a "query" include a selection of the RDF source, or can the same query be executed against different sources?  </s>
<s> (The latter seems much more sensible to me...) It makes a lot of sense to make clear that a query should be encodable  </s>
<s> as text, and that requirement implicitly means that a query can be  </s>
<s> encoded *within* a URI, but that's a long way from saying that a query *is* a URI.  </s>
<s> The requirement as written conjures notions of new schemes and URLs and protocol dependence and all the rest.  </s>
<s> At the very very least, I'd suggest changing "...a query as a URI." to "...a query within a URI."  </s>
<s> I'm still not very happy with this requirement, because the whole URI issue just seems a side point.  </s>
<s> I don't think we need to standardize the format for a query URI in order to declare victory, and if we don't do that then I'm not sure we'll have grounds for deciding whether we've met  </s>
<s> the requirement.  </s>
<s> I'd go back to the very simple "It must be possible to express a query as unicode text."  </s>
<s> (Better ideas than 'unicode'?)  </s>
<s> This actually subsumes the requirement that queries be able to be embedded in URIs, and yet I think we've already agreed on it, so it seems like a no-brainer.  </s>
<s> be persuaded by an example.  </s>
<s> At the moment, I see it as a protocol matter  </s>
<s> concerned more with selecting the service access point.  </s>
<s> A "query" is one of Pat's 'familiar abuse of terminology'.  </s>
<s> The term is used for both a recipe (a sequence of symbols in the query language) for executing requests and the request (execution instance).  </s>
<s> A template can be partially instantiated (the source set, still can be repeated used).  </s>
<s> This multiple use is widespread and so our documents will be read with both meansings in mind - it isn't something a glossary can help with much.  </s>
<s> C.f. "program" - the file continaing the binary or the one-time execution.  </s>
<s> Its this overloading that causes the "bookmarkable query" to be a bit confusing.  </s>
<s> It isn't a term invented in this WG; it is a general web arch thing.  </s>
<s> What I think this requirement really says is that the protocol must be able to be used over HTTP GET as "bookmarkable".  </s>
<s> Query is nromally a safe operation and web caching also works.  </s>
<s> The requirement says very little about the query language as x-www-form-urlencoded can be applied, if there is a concrete syntax, it can be put in a URL.  </s>
<s> The charter says "HTTP and/or SOAP-based protocol" so this makes the HTTP part a requirement.  </s>
<s> Although I was used to put the selection of the RDF source(s) in the protocol (e.g. as command line arguments) I became more convinced that putting them in the query expression is also interesting.  </s>
<s> For a simple example that asks for the lat/long coordinates of Chicago or Cambridge, see i.e. @prefix owl: http://www.w3.org/2002/07/owl# .  </s>
<s> @prefix rdfs: http://www.w3.org/2000/01/rdf-schema# .  </s>
<s> @prefix da: http://eulersharp.sourceforge.net/euler# .  </s>
<s> @prefix d: http://eulersharp.sourceforge.net/2004/04test/danP# .  </s>
<s> (d: owl: rdfs:).da:from  </s>
<s> da:select {{?C d:cityName "Cambridge"; d:latitude ?LA; d:longitude ?LO} = {("Cambridge" ?LA ?LO) a d:Result}}, {{?C d:cityName "Chicago"; d:latitude ?LA; d:longitude ?LO} = {("Chicago" ?LA ?LO) a d:Result}}.  </s>
<s> where that d: is actually one of the RDF sources and the answer I actually got is ("Cambridge" 42.3 -71.1) a d:Result.  </s>
<s> ("Chicago" 41.9 -87.6) a d:Result.  </s>
<s> Jos De Roo, AGFA http://www.agfa.com/w3c/jdroo/  </s>
<s> Jos, To my reading of your example suggests the requriment for bookmarkability (the concept, not necessary the URL mechanism).  </s>
<s> That gives the ability to record making a query request of a particular knowledge base.  </s>
<s> The example of asking the same query of a whole bunch of sources shows the case where the query is reused in making requests to different sources,e.g. other places recording the same information, using the same namespace Both are useful.  </s>
<s> We have: Query == Query+target == Query request instance i.e. a the query (no target) becomes a partially instantiated request (query+target) then becomes used for the request.  </s>
<s> There are cases for all three (the last is useful for recording the action performed).  </s>
<s> Andy  </s>
<s> Although I was used to put the selection of the RDF source(s) in the protocol (e.g. as command line arguments) I became more convinced that putting them in the query expression is also interesting.  </s>
<s> For a simple example that asks for the lat/long coordinates of Chicago or Cambridge, see i.e. @prefix owl: http://www.w3.org/2002/07/owl# .  </s>
<s> @prefix rdfs: http://www.w3.org/2000/01/rdf-schema# .  </s>
<s> @prefix da: http://eulersharp.sourceforge.net/euler# .  </s>
<s> @prefix d: http://eulersharp.sourceforge.net/2004/04test/danP# .  </s>
<s> (d: owl: rdfs:).da:from  </s>
<s> da:select {{?C d:cityName "Cambridge"; d:latitude ?LA; d:longitude ?LO} = {("Cambridge" ?LA ?LO) a d:Result}}, {{?C d:cityName "Chicago"; d:latitude ?LA; d:longitude ?LO} = {("Chicago" ?LA ?LO) a d:Result}}.  </s>
<s> where that d: is actually one of the RDF sources and the answer I actually got is ("Cambridge" 42.3 -71.1) a d:Result.  </s>
<s> ("Chicago" 41.9 -87.6) a d:Result.  </s>
<s> Jos De Roo, AGFA http://www.agfa.com/w3c/jdroo/  </s>
<s> That's right Andy, both make sense.  </s>
<s> For the other one we could for instance ask for the cities within 20 miles of Cambridge i.e. and apply that kind of query for instance to the source to get back and of course, in that way the query can be applied to other sources.  </s>
<s> Jos De Roo, AGFA http://www.agfa.com/w3c/jdroo/  </s>
<s> "Seaborne, Andy" andy.seaborne@hp.com  </s>
<s> Sent by: public-rdf-dawg-request@w3.org 14/05/2004 14:33 Group'" public-rdf-dawg@w3.org  </s>
<s> Subject: RE: Bookmarkable queries Jos, To my reading of your example suggests the requriment for bookmarkability (the concept, not necessary the URL mechanism).  </s>
<s> That gives the ability to record making a query request of a particular knowledge base.  </s>
<s> The example of asking the same query of a whole bunch of sources shows the case where the query is reused in making requests to different sources,e.g. other places recording the same information, using the same namespace Both are useful.  </s>
<s> We have: Query == Query+target == Query request instance i.e. a the query (no target) becomes a partially instantiated request (query+target) then becomes used for the request.  </s>
<s> There are cases for all three (the last is useful for recording the action performed).  </s>
<s> Andy  </s>
<s> Although I was used to put the selection of the RDF source(s) in the protocol (e.g. as command line arguments) I became more convinced that putting them in the query expression is also interesting.  </s>
<s> For a simple example that asks for the lat/long coordinates of Chicago or Cambridge, see i.e. @prefix owl: http://www.w3.org/2002/07/owl# .  </s>
<s> @prefix rdfs: http://www.w3.org/2000/01/rdf-schema# .  </s>
<s> @prefix da: http://eulersharp.sourceforge.net/euler# .  </s>
<s> @prefix d: http://eulersharp.sourceforge.net/2004/04test/danP# .  </s>
<s> (d: owl: rdfs:).da:from  </s>
<s> da:select {{?C d:cityName "Cambridge"; d:latitude ?LA; d:longitude ?LO} = {("Cambridge" ?LA ?LO) a d:Result}}, {{?C d:cityName "Chicago"; d:latitude ?LA; d:longitude ?LO} = {("Chicago" ?LA ?LO) a d:Result}}.  </s>
<s> where that d: is actually one of the RDF sources and the answer I actually got is ("Cambridge" 42.3 -71.1) a d:Result.  </s>
<s> ("Chicago" 41.9 -87.6) a d:Result.  </s>
<s> Jos De Roo, AGFA http://www.agfa.com/w3c/jdroo/  </s>
<s> One possible way a query could be bookmarked as a URI is as a URI to a query that is stored in a repository.  </s>
<s> The ebXML Registry allows queries to be stored within the server as a parameterized query.  </s>
<s> A client can invoke the query simply by identifying it with a URI and providing parameters to the query.  </s>
<s> This is similar in concept to stored queries in a relational database.  </s>
<s> If the client does not provide some parameters then the ebXML Registry drops the predicates for which parameters are not provided.  </s>
<s> The above use case seems to be a combination of: 3.2 Variable Bindings Result, and 3.8 Bookmarkable Queries Is my interpretation correct?  </s>
<s> Regards,  </s>
<s> Farrukh  </s>
<s> Having query requests as URLs as two effects: * web caching using the existing deployed cache servers * recording a query so it can be reused or passed on to another system to use.  </s>
<s> Bookmarking is the second effect.  </s>
<s> Whether caching will be significant, when applied to general queries, I don't know.  </s>
<s> The same query can be written syntactically in many different ways so just string comparison isn't much help although if it is the same application running ob different machines it is going to generate the syntactic forms.  </s>
<s> A very smart server could maintain a cache of part of the dataset, if we had an recommended format but the world of semantic web caches is some way off.  </s>
<s> If the query is on the server and just needs some parameters, then isn't this a case of a normal GET with a query string to provide the paramters?  </s>
<s> That is, existing mechanisms apply.  </s>
<s> Caching is likely as the parameterized query has its own URL and the parameters are the HTTP query string.  </s>
<s> It would benefit from one thing though - a MIME type or other way of specifying the form for the results.  </s>
<s> Andy  </s>
<s> From: Farrukh Najmi Date: 14 May 2004 16:13  </s>
