<s> Josh Cohen josh@netscape.com  </s>
<s> Netscape Communications Corp. "You can land on the sun, but only at night"  </s>
<s> The current status hasn't changed in the past two years, so by any reasonable definition those scripts (and the browser) have been broken for a long, long time.  </s>
<s> CGI script maintenance is a pain, even if these scripts are provably broken in some sense.  </s>
<s> I see no reason why 1.1 should inflict CGI maintenance costs which could be avoided by some spec maintenance.  </s>
<s> Koen.  </s>
<s> Well, what about when foo.cgi is running on a 1.1 server, and doesnt give a content-length.  </s>
<s> Is the 1.1 server responsible to detect and chunk that ?  </s>
<s> Josh Cohen josh@netscape.com  </s>
<s> Netscape Communications Corp. "You can land on the sun, but only at night"  </s>
<s> The current status hasn't changed in the past two years, so by any reasonable definition those scripts (and the browser) have been broken for a long, long time.  </s>
<s> CGI script maintenance is a pain, even if these scripts are provably broken in some sense.  </s>
<s> I see no reason why 1.1 should inflict CGI maintenance costs which could be avoided by some spec maintenance.  </s>
<s> Koen.  </s>
<s> An HTTP/1.1 server can either - send Connection: close, return the content without chunking, and close the connection; or - chunk the content  </s>
<s> Dave Kristol  </s>
<s> On Tuesday, July 29, 1997 3:43 PM, Josh Cohen [SMTP:josh@netscape.com]  </s>
<s> That's the approach that we decided to take in our server.  </s>
<s> It's done pretty much across the board with non-file-based content: CGI, ISAPI applications or ADI modules (ADI is our own server API) Steve Wingard Spyglass, Inc.  </s>
<s> Yes, but wasnt this the intent of chunking in the first place?  </s>
<s> (dyamic content)  </s>
<s> Josh Cohen josh@netscape.com  </s>
<s> Netscape Communications Corp. "You can land on the sun, but only at night"  </s>
<s> We seem to be talking past each other, or something.  </s>
<s> I don't understand your remark.  </s>
<s> Yes, the intent of chunking is dynamic content.  </s>
<s> Well, actually, in my mind the purpose of chunking is to provide a way to demarcate the end of dynamic content so a server can keep its connection open.  </s>
<s> So the preferred behavior is that, if an HTTP/1.1 server supports CGIs, for example, and the CGI does not provide a Content-Length, and the client is also HTTP/1.1, the server can add a "Transfer-Encoding: chunked" header to the response, chunk the output, and keep the connection open.  </s>
<s> But it's not required.  </s>
<s> Dave Kristol  </s>
<s> [NON-Text Body part not included]  </s>
<s> The question was whether a 1.0 response w/o content length had to be fixed up by a proxy .... my interpretation is that there are three choices: 1. Accumulate the body and create a correct content-length before forwarding.  </s>
<s> 2. Add a cunked transfer encoding header and accumulate chunks and forward then with proper length fields 3. Don't report the response as HTTP/1.1 in the status line All of this of course presumes that the request was HTTP/1.1.  </s>
<s> Dave Morris  </s>
<s> I truly wish people would check the specification before making such interpretations.  </s>
<s> An HTTP/1.1 response is not required to have a content-length or a transfer-encoding.  </s>
<s> A response without one of those length indicators is, as in HTTP/1.0, delimited by closing the connection.  </s>
<s> See section 4.4 of RFC 2068.  </s>
<s> ....Roy  </s>
