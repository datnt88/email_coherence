<s> I can't start Amaya.  </s>
<s> transcript: $ amaya Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 223 (gdk_font_ref): assertion  </s>
<s> `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 397 (gdk_text_width_wc):  </s>
<s> assertion `font != NULL' failed.  </s>
<s> I've just installed Amaya on my Debian Woody box using the deb at  </s>
<s> and I'm seeing the same problem (except the line numbers are different - 220 &amp; 394 now - full log below, also the result of the ldd check).  </s>
<s> There don't seem to be any replies to Dan's message.  </s>
<s> Can anybody suggest how to solve the problem, or where to look for more information?  </s>
<s> Dan, did you ever get it to work?  </s>
<s> Thanks and regards  </s>
<s> Dave Howorth MRC Centre for Protein Engineering Hills Road, Cambridge, CB2 2QH 01223 252960  </s>
<s> dhoworth:~$ amaya Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 220 (gdk_font_ref): assertion  </s>
<s> `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 220 (gdk_font_ref): assertion `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 220 (gdk_font_ref): assertion `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 220 (gdk_font_ref): assertion `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 220 (gdk_font_ref): assertion `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 220 (gdk_font_ref): assertion `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 220 (gdk_font_ref): assertion `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 220 (gdk_font_ref): assertion `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 220 (gdk_font_ref): assertion `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 220 (gdk_font_ref): assertion `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 318 (gdk_string_width): assertion `font != NULL' failed.  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 394 (gdk_text_width_wc): assertion `font != NULL' failed.  </s>
<s> *** Amaya: Irrecoverable error ***dhoworth:~$ /usr/lib/Amaya# ldd applis/bin/amaya libjpeg.so.62 = /usr/lib/libjpeg.so.62 (0x4001e000) libpng.so.2 = /usr/lib/libpng.so.2 (0x4003d000) libz.so.1 = /usr/lib/libz.so.1 (0x40068000) libgtk-1.2.so.0 = /usr/lib/libgtk-1.2.so.0 (0x40077000) libgdk-1.2.so.0 = /usr/lib/libgdk-1.2.so.0 (0x4019c000) libgmodule-1.2.so.0 = /usr/lib/libgmodule-1.2.so.0 (0x401d0000) libglib-1.2.so.0 = /usr/lib/libglib-1.2.so.0 (0x401d3000) libdl.so.2 = /lib/libdl.so.2 (0x401f7000) libXi.so.6 = /usr/X11R6/lib/libXi.so.6 (0x401fa000) libXext.so.6 = /usr/X11R6/lib/libXext.so.6 (0x40202000) libX11.so.6 = /usr/X11R6/lib/libX11.so.6 (0x4020f000) libm.so.6 = /lib/libm.so.6 (0x402c6000) libgdk_imlib.so.1 = /usr/lib/libgdk_imlib.so.1 (0x402e7000) libXt.so.6 = /usr/X11R6/lib/libXt.so.6 (0x4030e000) libXp.so.6 = /usr/X11R6/lib/libXp.so.6 (0x40357000) libSM.so.6 = /usr/X11R6/lib/libSM.so.6 (0x40360000) libICE.so.6 = /usr/X11R6/lib/libICE.so.6 (0x40369000) libc.so.6 = /lib/libc.so.6 (0x4037f000) libtiff.so.3 = /usr/lib/libtiff.so.3 (0x4049a000) libungif.so.4 = /usr/lib/libungif.so.4 (0x404dc000) /lib/ld-linux.so.2 = /lib/ld-linux.so.2 (0x40000000) /usr/lib/Amaya#  </s>
<s> Re: amaya won't start due to font problems  </s>
<s> check : http://www.w3.org/Amaya/User/FAQ.html#Change Fonts and check if you can specify fonts that you get/want in gtkfontsel / xfontsel: ( http://www.w3.org/Amaya/User/FontConfig.html ) -Paul  </s>
<s> On Wed, 11 Jun 2003 10:17:40 +0100  </s>
<s> I can't start Amaya.  </s>
<s> snip  </s>
<s> Gdk-CRITICAL **: file gdkfont.c:  </s>
<s> line 397 (gdk_text_width_wc):  </s>
<s> It seems that Amaya tries to load uninstalled fonts.  </s>
<s> Could you first check you installed TrueType fonts Debian packages.  </s>
<s> Irene. Ir?ne Vatton INRIA Rh?ne-Alpes INRIA ZIRST e-mail: Irene.Vatton@inria.fr 655 avenue de l'Europe  </s>
<s> Hi Irene, I'm not sure exactly which Debian packages you're thinking of.  </s>
<s> I have the luxi fonts that appear in /usr/X11R6/lib/X11/fonts/TTF/ and I have a set of Microsoft fonts in /usr/local/share/fonts/ttfonts.  </s>
<s> xfontsel can see all these fonts, so I suppose they are accessible.  </s>
<s> I confess I still don't fully understand what's going on with fonts and I've yet to find some document that clearly defines how Debian/Linux/XFree/etc should be set up (or why it should be so difficult with each application behaving differently!) I have looked at the Amaya font.unix config file and checked that xfontsel can access at least some of the fonts listed there.  </s>
<s> Thanks, Dave Dave Howorth MRC Centre for Protein Engineering Hills Road, Cambridge, CB2 2QH 01223 252960  </s>
<s> On Wed, 11 Jun 2003 16:05:51 +0100  </s>
<s> That seems fine.  </s>
<s> I suggest you create a soft link in your $HOME/.amaya/fonts.unix  </s>
<s> to Amaya/config/fonts.unix.deb  </s>
<s> just to see if it works better.  </s>
<s> Irene. Ir?ne Vatton INRIA Rh?ne-Alpes INRIA ZIRST e-mail: Irene.Vatton@inria.fr 655 avenue de l'Europe  </s>
<s> and Irene Vatton replied:  </s>
<s> I made a link as below; I hope it was what you meant: dhoworth:~$ ln -s /usr/lib/Amaya/config/fonts.unix.deb  </s>
<s> .amaya/fonts.unix But I still get the same font errors as before.  </s>
<s> Thanks, Dave Dave Howorth MRC Centre for Protein Engineering Hills Road, Cambridge, CB2 2QH 01223 252960  </s>
<s> On Thu, 12 Jun 2003 10:28:16 +0100  </s>
<s> Humm, I suspected you used the GTK version.  </s>
<s> Right?  </s>
<s> Could you check with xfontsel that the first entry (an probably another entry) is available -*-times-medium-r-*-*-12-*-*-*-*-*-iso8859-1 Irene.  </s>
<s> Ir?ne Vatton INRIA Rh?ne-Alpes INRIA ZIRST e-mail: Irene.Vatton@inria.fr 655 avenue de l'Europe  </s>
