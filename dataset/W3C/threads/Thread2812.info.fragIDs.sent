<s> In section 4.4 "Message Length", does the statement "If a Content-Length header field (section 14.13) is present, its decimal value in OCTETs represents both the entity-length and the transfer-length.  </s>
<s> The Content-Length header field MUST NOT be used if these two lengths are different (i.e., if a Transfer-Encoding header field is present)."  </s>
<s> mean that a receiver should ignore Content-Length, or a sender should not send it?  </s>
<s> Ross Patterson VM Software Division Sterling Software, Inc.  </s>
<s> It means that the sender should not send it in the case of a transfer  </s>
<s> encoded message, since the transfer-length is otherwise encoded and would result in a contradiction in the lenth.  </s>
<s> I don't see an obvious rewrite to make this more obvious.  </s>
<s> Unless there is some concrete suggestion, I plan to leave this one alone.  </s>
<s> This is one of the parts of HTTP that shows the problems with trying to mush message lengths into the same layer as the semantics of the message.  </s>
<s> Ugh... Always makes me sick to my stomach to look at this part of HTTP. - Jim - Jim  </s>
<s> It means that the sender should not send it in the case of a transfer encoded message, since the transfer-length is otherwise encoded and would result in a contradiction in the lenth.  </s>
<s> I don't see an obvious rewrite to make this more obvious.  </s>
<s> Unless there is some concrete suggestion, I plan to leave this one alone.  </s>
<s> "Use the Robustness Principle, Luke!" It means both: it means that the sender MUST NOT send it and that (in the event of a non-compliant sender) the receiver MUST ignore it.  </s>
<s> I agree that the verb here ("be used") is fuzzy.  </s>
<s> So how about:  </s>
<s> If a Content-Length header field (section 14.13) is present, its decimal value in OCTETs represents both the entity-length and the transfer-length.  </s>
<s> The Content-Length header field MUST NOT be sent if these two lengths are different (i.e., if a Transfer-Encoding header field is present).  </s>
<s> If a message is received with both a Transfer-Encoding header field and a Content-Length header field, the latter MUST be ignored.  </s>
<s> Maybe a little more rigid than formally necessary, but I think we need to take a strong stand against non-compliance in this area (as we did with the Host header), or else we could end up in a bad mess.  </s>
<s> -Jeff  </s>
<s> From: Jeffrey Mogul mogul Date: Wed, 11 Nov 98 13:36:22 PST Subject: Re: HTTP 1.1 issue 07: 4.4 Message Length  </s>
<s> Concrete suggestion gratefully accepted.  </s>
<s> My light saber is getting limp at this date on this spec... :-) - Jim  </s>
