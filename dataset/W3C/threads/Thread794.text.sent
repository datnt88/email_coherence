There is a current bug logged on tidy for this item. 
But, I agree w/ Steven, Tidy is generating essentially correct HTML. 
[ One problem w/ the output is that the content of the link tag a href='joebob.html' 
img src='joebob.gif' 
/a is getting disassociated. 
] I'd like to get a better understanding of exactly why this is the right output. 
Is the problem that div is a block tag? 
Would span be ok? Do I understand correctly that inline tags should never contain block tags? 
If nothing else, Tidy's diagnostic message could be clearer. 
Thanks, Charlie ---------- Forwarded message ---------- Date: Wed, 20 Jun 2001 23:47:08 +0200 From: Georg Engist georg@engist.inka.de 
Subject: 2 bugs in Tidy The structure td a center /center /a /td was destroyed: td a /a div /div /td The hyper link in the anchor is no more associated with the content of the center area. 
The original html code: td width=150 a href="Kasse.htm" 
center img src="../../../Grafiken/Geschaeft/01/klein/Kasse.jpg" nosave border=0 width="148" height="129" alt="Mausklick auf ein Bild vergr&amp;ouml;&amp;szlig;ert das Bild." /center /a /td Result: td width="150" a href="Kasse.htm" 
/a div class="c1" img src="../../../Grafiken/Geschaeft/01/klein/Kasse.jpg" nosave="" border="0" width="148" height="129" alt="Mausklick auf ein Bild vergr&amp;#246;&amp;#223;ert das Bild." /div /td The structure should be: td a div /div /a /td instead of td a /a div /div /td . 
While I can reproduce your problem, I will let someone else comment on this one. 
Regards, Terry Teague You are correct in that inlines can't include block level elements such as center or div in their content. 
Regards, -- Dave Raggett dave.raggett@openwave.com or dsr@w3.org 
W3C Visiting Fellow, see http://www.w3.org/People/Raggett ---------- Forwarded message ---------- Date: Wed, 20 Jun 2001 23:47:08 +0200 From: Georg Engist georg@engist.inka.de 
Subject: 2 bugs in Tidy The structure td a center /center /a /td was destroyed: td a /a div /div /td The hyper link in the anchor is no more associated with the content of the center area. 
The original html code: td width=150 a href="Kasse.htm" 
center img src="../../../Grafiken/Geschaeft/01/klein/Kasse.jpg" nosave border=0 width="148" height="129" alt="Mausklick auf ein Bild vergr&amp;ouml;&amp;szlig;ert das Bild." /center /a /td Result: td width="150" a href="Kasse.htm" 
/a div class="c1" img src="../../../Grafiken/Geschaeft/01/klein/Kasse.jpg" nosave="" border="0" width="148" height="129" alt="Mausklick auf ein Bild vergr&amp;#246;&amp;#223;ert das Bild." /div /td The structure should be: td a div /div /a /td instead of td a /a div /div /td . 
But, I agree w/ Steven, Tidy is generating essentially correct HTML. 
HTML Tidy is generating correct HTML but not optimal HTML. 
Given incorrect HTML, my understanding is that Tidy should attempt to correct it in such a way as to reproduce (where possible) the behavior of the incorrect HTML on common browsers. 
So given that the original structure: is invalid (anchor elements cannot contain block elements, i.e., a cannot contain center ), Tidy corrects this to: where the div s plus CSS take the place of the center s. 
This is correct, but a better translation, i.e., equally correct and closer to the original behavior, would be: or specifically: Note that the correction suggested by the original poster: is invalid. 
span would be syntactically correct, as it is an inline element, but then the CSS would be invalid (the class="c1" that Tidy generates includes a "text-align" property, and "text-align" applies only to block elements). 
-- Dave I received a notice of a problem from someone in Canada who is using JTidy and get the following error: java.lang.Error: java.util.MissingResourceException: 
Can't find resource for base name org/w3c/tidy/TidyMessages, locale en_CA I had not realized that Tidy was localized, but even if it is, shouldn't the en_US locale have picked this up? 
Russell Gold | "... society is tradition and order russgold@acm.org 
| and reverence, not a series of cheap bargains between selfish interests." 
This is more likely to be that the TidyMessages.properties isn't included in the classpath. 
David Li DigitalSesame java.lang.Error: java.util.MissingResourceException: 
Can't find resource for base name org/w3c/tidy/TidyMessages, locale en_CA Yes. 
This should work. 
I've seen this problem on some 1.1.x 
JVMs, notably the ones with OS/400. 
They seem to have trouble loading resources from .jar files. 
Try to extract the TidyMessages.properties file and place it in a directory on the CLASSPATH and see if this solves the problem. 
If so, it's time to upgrade the JVM. 
HTH, Gary java.lang.Error: java.util.MissingResourceException: 
Can't find resource for base name org/w3c/tidy/TidyMessages, locale en_CA 
