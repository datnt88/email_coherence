<s> Hi, To enable XIM for GTK-Amaya, 'ENABLE_MUTKIKEY' must be setted to 'yes'.  </s>
<s> This problem has come from the fact that 'gtk_set_locale' is not called by the default.  </s>
<s> I think almost all gtk-based programs, which care for I18N, have called 'gtk_set_locale' by the default.  </s>
<s> Is it a bad idea to call 'gtk_set_locale' by the default?  </s>
<s> FYI, the current GTK-Amaya calls 'gtk_set_locale' in 'thotlib/dialogue/dialogapi.c' by checking the variable 'ENABLE_MUTKIKEY'.  </s>
<s> I mean that how about commenting out following two lines?  </s>
<s> ptr = TtaGetEnvString("ENABLE_MUKTIKEY"); if (ptr &amp;&amp; !strcasecmp (ptr, "yes")) gtk_set_locale (); Thanks, ymnk  </s>
<s> On Tue, 26 Nov 2002 11:16:47 +0900 AY Hi, AY To enable XIM for GTK-Amaya, 'ENABLE_MUTKIKEY' must be setted AY to 'yes'.  </s>
<s> This problem has come from the fact that AY 'gtk_set_locale' is not called by the default.  </s>
<s> AY I think almost all gtk-based programs, which care for I18N, AY have called 'gtk_set_locale' by the default.  </s>
<s> AY Is it a bad idea to call 'gtk_set_locale' by the default?  </s>
<s> AY FYI, the current GTK-Amaya calls 'gtk_set_locale' in AY 'thotlib/dialogue/dialogapi.c' by checking the variable AY 'ENABLE_MUTKIKEY'.  </s>
<s> AY I mean that how about commenting out following two lines?  </s>
<s> AY /* AY ptr = TtaGetEnvString("ENABLE_MUKTIKEY"); AY if (ptr &amp;&amp; !strcasecmp (ptr, "yes")) AY */ AY gtk_set_locale (); I think it's much better to rewrite this piece of code like so: ptr = TtaGetEnvString("DISABLE_MUKTIKEY"); if (ptr &amp;&amp; !strcasecmp (ptr, "yes")) setlocale(LC_ALL,"POSIX") else gtk_set_locale (); where setlocale() it's a function from locale.h .  </s>
<s> This call conforming to POSIX.1  </s>
<s> IRC: irc.openprojects.net #asplinux Grigory Bakunov ICQ: 51369901 http://www.asplinux.ru  </s>
<s> -----BEGIN GEEK CODE BLOCK----- GCS/MU d-(--) s:- a- C+++ ++$ UBLAVSX+++$ P+ L++++$ E++$ W++ N+ - o? K? w-- O- M V-(--) PS+ PE+ !Y PGP+ ++++ t+ 5++ X+++ R+++ tv+ -- b+++ ?DI  </s>
<s> D+ G++ e ++$ h- r++ y+ z++(+++) ------END GEEK CODE BLOCK------  </s>
<s> On Tue, 26 Nov 2002 10:45:09 +0300  </s>
<s> I think Atsuhiko Yamanaka is right.  </s>
<s> The ENABLE_MUKTIKEY comes from the Motif version and there is no reason in the GTK version to test that variable.  </s>
<s> Irene.  </s>
<s> On Tue, 26 Nov 2002 17:28:59 +0100 IV I think Atsuhiko Yamanaka is right.  </s>
<s> The ENABLE_MUKTIKEY comes IV from the Motif version and there is no reason in the GTK version IV to test that variable.  </s>
<s> As you wish :) But i need to say what i send patch with setlocale call more than two years ago.  </s>
<s> May be it's time to add setlocale or gtk_set_locale call at least ?  </s>
<s> :)  </s>
<s> Sorry for my tone, i realy love amaya, just i bored to add gtk_set_locale to each build of amaya :)  </s>
<s> IRC: irc.openprojects.net #asplinux Grigory Bakunov ICQ: 51369901 http://www.asplinux.ru  </s>
<s> -----BEGIN GEEK CODE BLOCK----- GCS/MU d-(--) s:- a- C+++ ++$ UBLAVSX+++$ P+ L++++$ E++$ W++ N+ - o? K? w-- O- M V-(--) PS+ PE+ !Y PGP+ ++++ t+ 5++ X+++ R+++ tv+ -- b+++ ?DI  </s>
<s> D+ G++ e ++$ h- r++ y+ z++(+++) ------END GEEK CODE BLOCK------  </s>
<s> On Wed, 27 Nov 2002 10:57:41 +0300  </s>
<s> I guess your patch was integrated in the Motif version (we added a call to setlocale in Amaya/thotlib/dialogue/interface.c) but there was a still confusion in the GTK version.  </s>
<s> We provided a support for multykey in Amaya long time ago because some Unix platforms didn't provide it.  </s>
<s> This support lets the user enter the sequence 'e to generate a ?. If the user wanted to use that specific Amaya support he had to define the variable ENABLE_MULTIKEY=yes.  </s>
<s> As GTK provides a correct support for multykey, we don't develop a specific support in the GTK version but the test of the ENABLE_MULTIKEY was still there.  </s>
<s> Now it will be fixed.  </s>
<s> Irene.  </s>
<s> On Wed, 27 Nov 2002 10:27:00 +0100  </s>
<s> IV Now it will be fixed.  </s>
<s> THANKS!  </s>
<s> You make a great job with amaya.  </s>
<s> It's webdesign tool of new millenium!  </s>
<s> IRC: irc.openprojects.net #asplinux Grigory Bakunov ICQ: 51369901 http://www.asplinux.ru  </s>
<s> -----BEGIN GEEK CODE BLOCK----- GCS/MU d-(--) s:- a- C+++ ++$ UBLAVSX+++$ P+ L++++$ E++$ W++ N+ - o? K? w-- O- M V-(--) PS+ PE+ !Y PGP+ ++++ t+ 5++ X+++ R+++ tv+ -- b+++ ?DI  </s>
<s> D+ G++ e ++$ h- r++ y+ z++(+++) ------END GEEK CODE BLOCK------  </s>
