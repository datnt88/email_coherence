<s> Is there any way to turn off the dropping of empty DIV elements?  </s>
<s> I have CSS  </s>
<s> styles applied to empty DIV elements such that they do provide a purpose.  </s>
<s> Charlie  </s>
<s> Hi Charlie,  </s>
<s> Adding an attribute should keep it from getting deleted, but it doesn't.  </s>
<s> For example, Tidy will still drop the following: This would be a simple fix, but I'm not sure what the side effects would  </s>
<s> be. Am I right in thinking that empty block elements with attributes  </s>
<s> should not be dropped?  </s>
<s> Also, out of curiosity, what kind of style is useful for an empty DIV?  </s>
<s> take it easy, Charlie  </s>
<s> could you make an option that would be disabled by default?  </s>
<s> This is correct.  </s>
<s> we have about 500 forms that are converted from PDF and they use the style  </s>
<s> attribute that defines border-top,border-left,top,left, and width to draw  </s>
<s> lines duplicating the converted form.  </s>
<s> i.e. DIV STYLE="position:absolute;top:168px;left:0px;width:729px;border-top-style:sol  </s>
<s> id;border-top-width:1px;border-top-color:#000000;" /DIV  </s>
<s> There can be hundreds of these per form.  </s>
<s> Charlie  </s>
<s> Is there a way to tell Tidy, that if it doesn't recognize a tag - NOT to delete it (like asp.net user controls that aren't in the config file)?  </s>
<s> David Wier  </s>
<s> Thanks for your input.  </s>
<s> Bj?rn, can you weigh in on empty elements with  </s>
<s> attributes? Are they prunable or no?  </s>
<s> Also, I find it very curious that you can use a DIV to position objects not  </s>
<s> contained within.  </s>
<s> Can you send a sample?  </s>
<s> I like collect interesting  </s>
<s> specimens of markup found "in the wild".  </s>
<s> thanks, Charlie  </s>
<s> It seems incorrect to prune the empty div in the following example: which gets tidied to The tidied version has a rather different meaning than the original.  </s>
<s> (Tested with the Dec. 1, 2002 Tidy.) Liam Quinn  </s>
<s> Sorry, I don't understand.  </s>
<s> What is that difference in meaning exactly?  </s>
<s> Can you elaborate?  </s>
<s> I'm not trying to be difficult, I just want to understanding what you are saying.  </s>
<s> thanks, Charlie  </s>
<s> Likely the intended meaning in this case would be for the empty div to act as a separator, similar to br .  </s>
<s> The couple browsers that I checked with rendered as  </s>
<s> foo bar but the tidied version becomes foobar without the separation that the author likely intended.  </s>
<s> I suppose this case doesn't come up often in practice, but I thought it may be worth mentioning.  </s>
<s> Liam Quinn  </s>
<s> Ok, I see what you mean.  </s>
<s> Is this behavior specific to DIV or would it apply to other block level tags?  </s>
<s> What about PRE, BLOCKQUOTE, CENTER?  </s>
<s> Empty TD elements have meaning as placeholders.  </s>
<s> However empty TDs should probably be handled the same way as empty Ps: insert a &amp;nbsp; This is my standard hand-coding practice to make tables w/ empty cells look OK.  </s>
<s> The behaviour would apply to other block-level tags, including PRE, BLOCKQUOTE, and CENTER.  </s>
<s> Liam Quinn  </s>
<s> Ok, I modified CanPrune() in parser.c,  </s>
<s> adding the following before 'return yes;' if (element- attributes != null) return no; (sorry, I don't have cvs diff) This seems to have done the job and it is not deleting my empty elements with attributes.  </s>
<s> There doesn't seem to be any problems with this, but I don't know the code well enough to know for sure.  </s>
<s> Charlie  </s>
<s> r-top-style:solid;border-top-width:1px;border-top-color:#00000 0;" /DIV  </s>
<s> It's most likely that empty non-empty non-replaced elements (br is an  </s>
<s> empty element, object is a replaced element) are used to control the  </s>
<s> presentation of the document.  </s>
<s> Using elements that way is bad practise  </s>
<s> and in general I think Tidy should remove or replace them, independently  </s>
<s> of whether they have some attributes specified.  </s>
<s> There are some  </s>
<s> exceptions like td , a name='...' , maybe li and dd and probably  </s>
<s> others.  </s>
<s> However, removing them might cause problems as in the example Liam provided.  </s>
<s> For p Tidy has a --drop-empty-paras option to control  </s>
<s> removal of empty p elements, Will be cleaned to or  </s>
<s> depending of the value given for the mentioned option.  </s>
<s> Using something  </s>
<s> similar in a more general fashion, i.e., for all empty elements, but changing div ... div style="  </s>
<s> position: absolute; top: 168px; left: 0px; width: 729px; border-top-style: solid; border-top-width: 1px; border-top-color: #000000;" ... /div to  </s>
<s> will not help Charlie (while it deals with Liam's case).  </s>
<s> The most easy  </s>
<s> solution would be a new config option empty-elements: auto | keep  </s>
<s> Where 'auto' is the current behaivour and 'keep' keeps all empty  </s>
<s> elements (what about p and conflict resolution with  </s>
<s> --drop-empty-paras?).  </s>
<s> The desired behaivour for 'auto' in cases like abbr title='' /abbr or div ... div /div ... /div probably needs some discussion.  </s>
<s> You can't.  </s>
<s> Empty p elements get dropped, empty td s should stay empty td s. Inserting &amp;nbsp;s is considered rather harmful.  </s>
<s> Interesting.  </s>
<s> I have never heard this before.  </s>
<s> Can you elaborate?  </s>
<s> What are the side effects?  </s>
<s> When generating HTML from web apps (Perl/JSP), I have always found it  </s>
<s> necessary to make sure all cells have something in them, either via rowspan  </s>
<s> or by adding &amp;nbsp;.  </s>
<s> If you leave them empty, you get visual "holes" through the table to the background.  </s>
<s> If any styles are applied to the table, it looks weird.  </s>
<s> To see an example, have a look at the table for  </s>
<s> binaries on the Tidy home page.  </s>
<s> Admittedly, this is just a hack I have picked up and not based on any deeper theory.  </s>
<s> curious, Charlie  </s>
<s> I was thinking along similar lines.  </s>
<s> Perhaps it would be good to fold in dropping/keeping of unknown tags.  </s>
<s> Not sure.  </s>
<s> I'll use your comments as a guide.  </s>
<s> I want to experiment with the sample file that Charlie Cox sent us to see what the visual impact is on IE6/NS6.  </s>
<s> His patch is simple enough, but I think getting a deeper understanding of how styles get applied will be worthwhile.  </s>
<s> I don't see  </s>
<s> how an empty div can be used to apply any style, positional or otherwise.  </s>
<s> Seems like useless text.  </s>
<s> But Charlie claims his docs are broken.  </s>
<s> So it immediately begs the question: what is the GCD cross-browser behavior that Tidy can expect?  </s>
<s> I'd like to end up with a few sample files  </s>
<s> that maybe other folks can confirm/deny my findings on other browsers.  </s>
<s> My selection is fairly limited these days.  </s>
<s> take it easy, Charlie P.S. FYI, Lee put in that change wrt empty paragraphs.  </s>
<s> If --drop-empty-paras no, then p /p = p &amp;nbsp; /p .  </s>
<s> The 'empty-elements' option would work for me as I could retain the div tags with the styles defined for them without changing the default behavior for anyone else.  </s>
<s> would it be feasable to use br br when no attributes are on the div and leave as is(or use new option setting) if attributes are there(maybe just style,class or id)?  </s>
<s> btw, this is not my preference for drawing lines on a web page, but rather the result of a third party utility to convert hundreds of PDFs to HTML documents.  </s>
<s> one other note: my example is not nested div tags(as posted below), but rather individual div tags.  </s>
<s> i.e. Charlie Cox  </s>
<s> Maybe, as I've said, this needs IMO more discussion.  </s>
