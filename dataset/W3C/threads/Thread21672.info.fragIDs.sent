<s> I think I found a bug in the datatype handling of sax2rdf.py,v  </s>
<s> 1.34 2003/08/14 00:00:19 timbl Exp Consider this input: rdf:RDF xmlns="http://opencyc.sourceforge.net/daml/cyc.daml#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" DayOfWeekType rdf:about="http://opencyc.sourceforge.net/daml/cyc.daml#Sunday" dayAbbr xmlns="file:/home/connolly/w3ccvs/WWW/2003/09dc-bos/weekDays#" SU /dayAbbr index xmlns="file:/home/connolly/w3ccvs/WWW/2003/09dc-bos/weekDays#" rdf:datatype="http://www.w3.org/2001/XMLSchema#integer" 6 /index cwm seems to think Sunday is an integer: $ python ../../2000/10/swap/cwm.py  </s>
<s> --rdf ../../2000/10/swap/test/syntax/dtdirty.rdf !-- using base file:/home/connolly/w3ccvs/WWW/2000/10/swap/test/syntax/dtdirty.rdf--  </s>
<s> rdf:RDF xmlns="http://opencyc.sourceforge.net/daml/cyc.daml#" xmlns:log="http://www.w3.org/2000/10/swap/log#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" DayOfWeekType rdf:about="http://opencyc.sourceforge.net/daml/cyc.daml#Sunday" dayAbbr xmlns="file:/home/connolly/w3ccvs/WWW/2003/09dc-bos/weekDays#" SU /dayAbbr index xmlns="file:/home/connolly/w3ccvs/WWW/2003/09dc-bos/weekDays#" rdf:datatype="http://www.w3.org/2001/XMLSchema#integer" 6 /index nameString rdf:datatype="http://www.w3.org/2001/XMLSchema#integer" Sunday /nameString Dan Connolly, W3C http://www.w3.org/People/Connolly/  </s>
<s> Looks like a typo.  </s>
<s> self._dataType = None ]]] - line 355 sax2rdf.py  </s>
<s> shouldn't be funkyCased: self._datatype = None  </s>
<s> Output is then: rdf:RDF xmlns="http://opencyc.sourceforge.net/daml/cyc.daml#" xmlns:log="http://www.w3.org/2000/10/swap/log#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" index xmlns="file:/home/connolly/w3ccvs/WWW/2003/09dc-bos/weekDays#" rdf:datatype="http://www.w3.org/2001/XMLSchema#integer" 6 /index I am trying to run the regression suite, but a bunch of stuff dealing with LX is preventing me from success, thus I haven't checked the one-character change in (someone who can correct this is welcome to check it in).  </s>
<s> The error is the following each time: Traceback (most recent call last): File "../cwm.py",  </s>
<s> line 54, in ?  </s>
<s> import LX.kb File "../LX/kb.py",  </s>
<s> line 9, in ?  </s>
<s> import LX.rdf File "../LX/rdf.py",  </s>
<s> line 13, in ?  </s>
<s> from LX.defaultns import rdfns, lxns ImportError: No module named defaultns  </s>
<s> Ryan Lee +1.617.253.5542 (MIT office) ryanlee@w3.org  </s>
<s> http://www.w3.org/People/ryanlee/  </s>
<s> Thanks, Ryan!  </s>
<s> I must re-find that python lint-like thing danc pointed me at.  </s>
<s> Have you tried cvs update -d LX to get the LX code?  </s>
<s> or PYTHONPATH=.. python retest... Tim  </s>
<s> I'm up to date, cvs up -d -P.  </s>
<s> I figured out some things were missing (a PYTHONPATH, changing retest.py  </s>
<s> to use python2 for this system); I'm pretty sure that that bit of LX as it is in CVS is holding things up.  </s>
<s> There really is no LX.defaultns anywhere (given that I'm not missing something...)  </s>
<s> After some more playing, I managed to circumvent LX complaints.  </s>
<s> Now every test case save #30 works out, and #30 is just a matter of different list syntax printing: ######### Differences from reference output: --- ref/daml-ex.n3  </s>
<s> Mon Aug 25 22:59:24 2003 +++ ,temp/daml-ex.n3  </s>
<s> Mon Aug 25 23:35:21 2003 @@ -27,10 +27,13 @@ dpo:subClassOf :Animal .  </s>
<s> :Height a dpo:Class; - dpo:oneOf ( - :short - :medium - :tall ) .  </s>
<s> + dpo:oneOf [ + http://www.daml.org/2001/03/daml+oil#first  </s>
<s> :short; + http://www.daml.org/2001/03/daml+oil#rest  </s>
<s> [ + http://www.daml.org/2001/03/daml+oil#first  </s>
<s> :medium; + http://www.daml.org/2001/03/daml+oil#rest  </s>
<s> [ + http://www.daml.org/2001/03/daml+oil#first  </s>
<s> :tall; + http://www.daml.org/2001/03/daml+oil#rest  </s>
<s> http://www.daml.org/2001/03/daml+oil#nil  </s>
<s> ] ] ] .  </s>
<s> :Male a dpo:Class; dpo:subClassOf :Animal .  </s>
<s> @@ -41,9 +44,11 @@ :Person a dpo:Class; dpo:comment "every person is a man or a woman"; - dpo:disjointUnionOf ( - :Man - :Woman ); + dpo:disjointUnionOf [ + http://www.daml.org/2001/03/daml+oil#first  </s>
<s> :Man; + http://www.daml.org/2001/03/daml+oil#rest  </s>
<s> [ + http://www.daml.org/2001/03/daml+oil#first  </s>
<s> :Woman; + http://www.daml.org/2001/03/daml+oil#rest  </s>
<s> http://www.daml.org/2001/03/daml+oil#nil  </s>
<s> ] ]; dpo:restrictedBy [ a dpo:Restriction; dpo:onProperty :parent; @@ -51,9 +56,11 @@ dpo:subClassOf :Animal .  </s>
<s> :TallMan a dpo:Class; - dpo:intersectionOf ( - :TallThing - :Man ) .  </s>
<s> + dpo:intersectionOf [ + http://www.daml.org/2001/03/daml+oil#first  </s>
<s> :TallThing; + http://www.daml.org/2001/03/daml+oil#rest  </s>
<s> [ + http://www.daml.org/2001/03/daml+oil#first  </s>
<s> :Man; + http://www.daml.org/2001/03/daml+oil#rest  </s>
<s> http://www.daml.org/2001/03/daml+oil#nil  </s>
<s> ] ] .  </s>
<s> :TallThing a dpo:Class; dpo:restrictedBy [ ######### from normal case daml-ex.n3:  </s>
<s> cwm -rdf owl-ex.rdf  </s>
<s> -n3  </s>
<s> Ryan Lee +1.617.253.5542 (MIT office) ryanlee@w3.org  </s>
<s> http://www.w3.org/People/ryanlee/  </s>
<s> My bad.  </s>
<s> Sorry.  </s>
<s> I got rid of defaultns.py  </s>
<s> yesterday, and missed checking in one of the files that needed to be changed to compensate.  </s>
<s> Oh... Actually, I missed the existence of one that has to be changed in about 60 places.  </s>
<s> Arg.  </s>
<s> /me bumps up the priority of a more general solution by 7 more notches -- sandro  </s>
<s> Thanks, Ryan.  </s>
<s> And to think copying you was an after-thought!  </s>
<s> Dan Connolly, W3C http://www.w3.org/People/Connolly/  </s>
