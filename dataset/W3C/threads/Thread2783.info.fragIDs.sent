<s> In http://www.ics.uci.edu/pub/ietf/http/hypermail/1998q2/0031.html and subsequent messages, the question was raised of how the server should calculate the various digests if qop=auth or qop=auth-int was sent by the client, but no cnonce attribute is supplied.  </s>
<s> I propose the following clarification for this; in section 3.2.2 (The Authorization Request Header), append the following to the description of the cnonce: If not present, the null string should be used for this value in any digest calculation where 'cnonce' is used.  </s>
<s> and add the following text to the end of 4.3 (Limited Use Nonce Values): The client generated 'cnonce' value is optional; however, clients choosing not to use this mechanism or which do not change the cnonce value used cannot authenticate the server, and do not have any message integrity protection for responses.  </s>
<s> Scott Lawrence Consulting Engineer lawrence@agranat.com  </s>
<s> Agranat Systems, Inc. Embedded Web Technology http://www.agranat.com/  </s>
<s> I think that absence of cnonce should be illegal if qop=auth or qop=auth-int is selected by the client; if the client really _demands_ to be totally braindead, it can send a constant as its cnonce.  </s>
<s> I'm also happy with that solution.  </s>
<s> Scott Lawrence Consulting Engineer lawrence@agranat.com  </s>
<s> Agranat Systems, Inc. Embedded Web Technology http://www.agranat.com/  </s>
<s> I think that absence of cnonce should be illegal if qop=auth or qop=auth-int is selected by the client; if the client really _demands_ to be totally braindead, it can send a constant as its cnonce.  </s>
<s> Just what does "illegal" mean?  </s>
<s> What should a server do if it gets such an "illegal" request?  </s>
<s> Dave Kristol  </s>
<s> I think that absence of cnonce should be illegal if qop=auth or qop=auth-int is selected by the client; if the client really _demands_ to be totally braindead, it can send a constant as its cnonce.  </s>
<s> I prefer this also.  </s>
<s> John Franks john@math.nwu.edu  </s>
<s> Send back 400 Bad Request, just like with all ill-formed requests.  </s>
<s> Dave -- it would help if you'd indicate when your questions are Socratic -- I know you've been doing this long enough you know the answers.  </s>
<s> In truth, it was not intended as a Socratic question, and I really wasn't sure whether 400 Bad Request was the intended response.  </s>
<s> I think the spec.  </s>
<s> should be clear about what the server should do, rather than be coy about it.  </s>
<s> Dave Kristol  </s>
