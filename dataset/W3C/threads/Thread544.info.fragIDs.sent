<s> Summary:  </s>
<s> Running 'tidy -asxml' puts in a DOCTYPE declaration that seems to confuse Netscape 6.  </s>
<s> Now, this seems like a perfectly valid w3c-compliant declaration, so it may be Netscape's fault.  </s>
<s> So now I cynically feel that if you want your tables to look good in Netscape 6, either omit your DOCTYPE declaration (sadly) or use the one (or perhaps a few more, I hope[1]) DOCTYPE declaration that Netscape 6 actually seems to understand.  </s>
<s> ARGH!  </s>
<s> See: What happened to me:  </s>
<s> I have a number of completely w3c-compliant documents.  </s>
<s> I ran them through Tidy to be sure.  </s>
<s> Tidy adds a standard W3C DOCTYPE (when run with the -asxml option which produces XHTML): !DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"  </s>
<s> With this DOCTYPE in place, table cells are rendered with huge amounts of extraneous vertical whitespace inside each cell.  </s>
<s> With this DOCTYPE omitted or commented out, Netscape 6 displays the table in the way one would expect (no extra whitespace).  </s>
<s> Now at first I thought I had the extra whitespace because I had some CSS style or some height attribute on a TD which Netscape 6 interpreted in a different way than Netscape 4 or IE did.  </s>
<s> But this is not the problem, for after stripping all that style and height information from a test document, the extraneous whitespace remained.  </s>
<s> After finding the above article/discussion, I was skeptical, but tried deleting the DOCTYPE anyway, and voila, problem solved!  </s>
<s> Again, the URL: The discussions are just as interesting as the articles -- one person claims that this whole problem may be a result of some Netscape developers' "overly purist" zeal.  </s>
<s> Hmmm.  </s>
<s> See also http://gutfeldt.ch/matthias/articles/doctypeswitch.html regarding "Quirk" versus "Standard" modes and doctype switching by browsers.  </s>
<s> If anyone has any more insight into this, or corrections to assertions I've made, please feel free.  </s>
<s> This is very frustrating.  </s>
<s> I don't think there is anything wrong with the DOCTYPE which Tidy uses, and it is annoying to have to run my documents through yet another script to strip off these perfectly good declarations.  </s>
<s> -carole Notes: [1] This is an issue that applies both to HTML and XHTML; as the article cited shows, there is one HTML 4.x DOCTYPE declaration which Netscape 6 accepts, and one which it does not.  </s>
<s> But there may be other DOCTYPE declarations besides this one which it also accepts.  </s>
<s> My research has not yet uncovered a definitive list of such declarations.  </s>
<s> Does anyone else have any idea what they might be?  </s>
<s> -carole Carole E. Mah carolem@stg.brown.edu  </s>
<s> Senior Programmer/Analyst Brown University Scholarly Technology Group phn 401-863-2669 personal: http://www.stg.brown.edu/~carolem/  </s>
<s> I don't use Netscape 6 or X-anything-L, so I cannot comment on the bulk of your post, but note that HTML Tidy is not a validator, so Tidying files does not then imply that they are "W3C-compliant."  </s>
<s> See:  </s>
<s> and: The latter post gives an example of invalid HTML for which Tidy reported "No errors or warnings."  </s>
<s> The beginning of the cited thread mentions a number of available validators that can be used to check compliance.  </s>
<s> -- Dave  </s>
<s> Of course it does not imply validation (duh!  </s>
<s> I validated with our local validator [ http://www.stg.brown.edu/cgi-bin/xmlvalid/] ), but it does imply well-formedness.  </s>
<s> I don't think there are many rendering engines that expect valid documents since the vast majority of HTML documents are not valid (although the iCab browser will give you a frowny face if the document is invalid, while still trying to render it as best it can).  </s>
<s> But this is beside the point.  </s>
<s> The point is that Netscape 6's rendering engine does not behave in a way that makes sense to me.  </s>
<s> When giving a browser a well-formed document, with no special attributes or styles for the tables, one would expect no strange rendering of the table cells.  </s>
<s> Yet this is what happens to my documents when the DOCTYPE is in place.  </s>
<s> Mind you, having worked with SGML for a long time, I find the idea of stripping off the DOCTYPE to be rather abhorent, but since well-formedness rather than validation is often sufficient, perhaps I should not be disappointed.  </s>
<s> -c Carole E. Mah carolem@stg.brown.edu  </s>
<s> Senior Programmer/Analyst Brown University Scholarly Technology Group phn 401-863-2669 personal: http://www.stg.brown.edu/~carolem/  </s>
<s> In a message dated 12/19/01 8:31:04 AM US Mountain Standard Time,  </s>
<s> I personally always copy and paste the DOCTYPE declaration constructs from one of my templates whenever I create a new page and thus had never observed the ones affixed by Tidy.  </s>
<s> I just ran an old (HTML version 4.0) document through HTML-Kit/Tidy -- using the convert to XHTML facility -- which produced the following constructs: !DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"  </s>
<s> This is deficient IAW the W3C XHTML 1.0 Specification (the XML declaration is missing and the html root element does not include the language attributions) which prescribes (for example): !DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" James Pickering Tucson, Arizona Tools for Web Page Creators: http://www.brazilcacticult.org/th.htm  </s>
<s> Brazilian Cacti in Cultivation: http://www.brazilcacticult.org/  </s>
<s> Practical Italic Writing: http://www.brazilcacticult.org/corsiva.htm  </s>
<s> Accessible to People with Disabilities Validated W3C XHTML 1.0 ~ W3C CSS 2 W3C WAI-AAA WCAG 1.0 ~ Bobby Priority 3 DCMI (Dublin Core Metadata Initiative ~ Element set 1.1) W3C RDF (Resource Description Framework) ~ DCM Schema  </s>
<s> Mozilla (and I guess also Netscape 6.x) has a "quirks" mode in which it attempts to emulate other browser behaviour (particularly Netscape 4.x), and a "standards" mode in which it attempts to follow the standards.  </s>
<s> I tripped over something odd to do with colours which worked in quirks mode, but not standards mode, as I had not used the standard syntax (I think I missed the # from the hex colour attribute).  </s>
<s> I discovered that standards mode is enabled with a doctype declaration, and quirks mode without one.  </s>
<s> Cheers, Scott  </s>
<s> Subject: Re: DOCTYPE affects Netscape 6 From: Carole Mah carole@fates.org  </s>
<s> Date: Wed, 19 Dec 2001 12:25:32 -0500 (EST) To: "J. David Bryan" jdbryan@acm.org  </s>
<s> To: "J. David Bryan" jdbryan@acm.org  </s>
<s> CC: HTML Tidy List html-tidy@w3.org  </s>
