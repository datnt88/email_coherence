<s> Hi, The famous Html4 DTD tells us the following: -----cut here to demage you monitor----- !ATTLIST STYLE %i18n; -- lang, dir, for use with title -- type %ContentType; #REQUIRED -- content type of style language -- -----cut here to demage you monitor-----  </s>
<s> So the type attribute is required, but tidy gives not even a warning if it  </s>
<s> is missing, like it does for the SCRIPT Element where 'type' also is required.  </s>
<s> I suggest to insert a type="text/css" automatically.  </s>
<s> regards, Bjoern Hoehrmann  </s>
<s> To accomplish that, i copied most of the CheckSCRIPT code.  </s>
<s> I did the following: Added to attrs.c: void CheckSTYLE(Lexer *lexer, Node *node) Attribute *attribute; AttVal *attval, *type; type = null; for (attval = node- attributes; attval != null; attval = attval- next) attribute = CheckAttribute(lexer, node, attval); if (attribute == attr_type) type = attval;  </s>
<s> if (!type)  </s>
<s> ReportAttrError(lexer, node, "type", MISSING_ATTRIBUTE); /* If no type is specified for STYLE, set the type to text/css */ type = (AttVal *)MemAlloc(sizeof(AttVal)); type- attribute = wstrdup("type"); type- value = wstrdup("text/css"); type- next = node- attributes; type- delim = '"'; type- dict = FindAttribute(type); node- attributes = type; Inserted in line 663 of html.h:  </s>
<s> CheckAttribs CheckSTYLE; and changed line 89 of tags.c to: "style", (VERS_FROM32|VERS_FRAMES), CM_HEAD, ParseScript, CheckSTYLE, I'm not that familiar to C, so there may be better ways to implement the insertion of text/css, but this works fine at least in my privat version.  </s>
<s> regards, Bjoern Hoehrmann  </s>
<s> If No doctype or Html4+ is requestet.  </s>
<s> When the Doctype is set to Html32 it would be illegal to add a type attribute, so it might be useful if a doctype check is added: if (!type &amp;&amp; lexer- doctype  VERS_HTML32) instead of my suggested  </s>
<s> regards, Bjoern Hoehrmann  </s>
<s> Hi! I've found a small bug in TIDY.  </s>
<s> When I use the cols attribute on the TEXTAREA element, TIDY gives the warning "html doctype doesn't match content" and changes document type declartion to Transitional.  </s>
<s> I guess this is because you can't use the Frameset element (with the cols attribute) in the Strict DTD.  </s>
<s> The cols attribute is actually _required_ on the TEXTAREA element.  </s>
<s> Regards, Karl Ove Hufthammer  </s>
