<s> Hi! DOM2 CR section 8.10 [1] says that if you apply the surroundContents method to the following range (stars marking range start and end): An exception should be thrown.  </s>
<s> However, if you follow the steps described a bit further up in the same section you would get the following DOM tree: Which I think is the most useful result.  </s>
<s> Is there a reason that an exception should be thrown?  </s>
<s> Also, the CR says that all children of the new node should be deleted before  </s>
<s> the node is inserted.  </s>
<s> Couldn't it be useful to allow attribute nodes to remain.  </s>
<s> In other words allowing operations like:  </s>
<s> Before: After: [1] http://www.w3.org/TR/DOM-Level-2/range.html#Level-2-Range-Surrounding / Jonas Sicking  </s>
<s> I've been out for a week, so this may already have been answered, but:  </s>
<s> before  </s>
<s> The DOM doesn't consider Attrs to be children.  </s>
<s> Unless I'm missing something, they shouldn't be affected.  </s>
<s> Joe Kesselman / IBM Research  </s>
<s> Sorry, you're right about that.  </s>
<s> But I still havn't got any answer to my first question; Why is an exception raised when doing surroundContents on the following tree (* marks range start and end): (see longer explaination in my previous post) / Jonas Sicking  </s>
<s> surroundContents is a convenience function designed for use with well-formed subtrees.  </s>
<s> Given that, the fix-ups that occur when you go through the steps seem to not be intuitive.  </s>
<s> If you really want to be able to, in effect, surround a non-well-formed subtree, you can go through the steps and let the automatic fix-ups happen.  </s>
<s> Hopefully the results won't then seem as non-intuitive.  </s>
<s> Attributes aren't children of an element.  </s>
<s> They are assoicated with an element.  </s>
<s> Lauren  </s>
