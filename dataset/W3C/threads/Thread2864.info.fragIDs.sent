<s> I have been reading the HTTP/1.1 spec (rev.  </s>
<s> 6, 18th Nov, expires May 18, 1999).  </s>
<s> I have a question.  </s>
<s> I suspect that the answer should be obvious, but since it isn't, and since I think it ought to be a common question, maybe some wording somewhere could be clarified.  </s>
<s> My question concerns the appropriate response code to use when rejecting a request as incomplete or otherwise unacceptable.  </s>
<s> For instance, if the users submits a form without supplying a value for a necessary field (say an email address), or with an in-appropriate value (say a non-existent file type).  </s>
<s> The server process detects this and wants to reply to say that it has rejected the request.  </s>
<s> What code should be used in the HTTP header?  </s>
<s> Typically, I suspect a CGI application will use "200 OK", even though the body of the message then says "I can't do that because....".  </s>
<s> However, Section 10.2.1 says that "200 OK" means the request has succeeded, which it hasn't....  </s>
<s> It seems that a "4xx" code would be right.  </s>
<s> But which one?  </s>
<s> Based on Section 10.4, it seems to be that "403 Forbidden" is the right answer.  </s>
<s> But I am not confident of this.  </s>
<s> I associate "403" with "Permission denied" messages, and I've never noticed anyone using it to tell me I've forgotten to specify my email address.... But looking at 10.4.4, it seems it is actually very general, and applies in this case: the server  </s>
<s> *has* understood the request, and is refusing to carry it out.  </s>
<s> If 403 is the right response, could I suggest adding a sentence to 10.4.4 something along the lines of "This code is appropriate when a server rejects an incomplete or incoherent request, such as from an incorrectly filled form".  </s>
<s> If 403 isn't right, could someone tell me what is (and why): I've thought about, and rejected, "400 Bad Request", "406 Not Acceptable" and "409 Conflict".... Robert.  </s>
<s> Actually, it has.  </s>
<s> POST means only that data has been supplied to the process, to do with as it wishes.  </s>
<s> As far as HTTP is concerned, the request was successfully completed.  </s>
<s> Either 200 or 400.  </s>
<s> None of the others are appropriate because they refer  </s>
<s> to specific HTTP interoperability concerns, not to POST data.  </s>
<s> ....Roy  </s>
<s> Date: Wed, 24 Mar 1999 13:43:01 -0800 From: "Roy T. Fielding" fielding@kiwi.ics.uci.edu  </s>
<s> Really???!!!! I find that statement very surprising.  </s>
<s> It certainly does not fit with my reading of the start of Section 10.2 "This class of status code indicates that the clients request was successfully received, understood AND ACCEPTED" and 10.2.1 "The request has succeeded" It seems I should understand "succeeded" as nothing more than "delivered and understood".  </s>
<s> My example of a request rejected because of missing or inappropriate data has surely no more "succeeded" than an attempt to execute a cgi file with no execute permission---and none of the servers I have used return "200 OK" for that....  </s>
<s> But 400 explicitly says it deals with requests that could not be understood because of "malformed syntax".  </s>
<s> My worry is when there is a problem iwht the content of the request.  </s>
<s> But my uncertainty applies equally to form data encoded as "GET"....  </s>
<s> Robert. Robert Inder, (http://www.hcrc.ed.ac.uk/~robert/) NEDO Visiting Fellow, Electrotechnical Laboratory (ETL) (http://www.etl.go.jp/) Umezono 1-1-4, Tsukuba, Ibaraki 305, JAPAN Research Fellow, HCRC, Edinburgh University (http://www.hcrc.ed.ac.uk/) 2, Buccleuch Place, Edinburgh EH8 9LW SCOTLAND  </s>
<s> That is the definition of POST.  </s>
<s> If you want more semantics than that, you need to define new status codes, but it makes no difference to a client whether or not it is a success code because only a human user could fix such a problem.  </s>
<s> Interoperability is not recoverable.  </s>
<s> Same thing.  </s>
<s> If the response is consistent, an error message is just as valid a representation of what was requested as normal content.  </s>
<s> The reason I suggested 400 is because the x00 codes are also treated as the default for each class.  </s>
<s> A new 4xx would be better, but not without a separate Internet Draft that defines the need for the code and how it can be used to improve interoperability.  </s>
<s> For example, something that defined the set of fields required and optional, or directed the client to a more appropriate interface.  </s>
<s> The reason such a thing is not in HTTP/1.1 is because nobody has implemented it.  </s>
<s> ....Roy  </s>
