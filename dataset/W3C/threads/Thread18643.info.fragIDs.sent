<s> Hi Alan, Richard and Bob,  </s>
<s> I'm actually mostly in agreement with Bob's point.  </s>
<s> I don't think that data types 1 and 2 should be PKCS#7 blobs, but I do think we will have the most  </s>
<s> generalized solution by making them just binary blobs generated by the underlying signature equipment, which need not even be cryptographic in nature.  </s>
<s> A function interface that expresses the signature needs of signed  </s>
<s> XML need not be much more than a dozen functions.  </s>
<s> For each new signature  </s>
<s> technology, UWI writes the same function interface, calling the functionality of the given technology to achieve the essential purposes of those functions.  </s>
<s> As long as the blob coming out of the sign function actually correctly measures change in the document when the blob and  </s>
<s> document are passed to the verify function, we do not care what format that data takes.  </s>
<s> To wit, the better handwritten signature technologies achieve at least a modicum of security by encrypting the blob.  </s>
<s> It is contrary to the needs of this signing technology to put its internal content in a human readable form such as XML.  </s>
<s> John Boyer Software Development Manager UWI.Com -- The Internet Forms Company jboyer@uwi.com  </s>
<s> I agree!  </s>
<s> Alan  </s>
<s> Bob, Sorry, but I do not understand why "Data types 1 and 2 SHOULD BE PKCS#7".  </s>
<s> At  </s>
<s> the very least, one could argue that a PKCS#7 detached signature could be assumed as "some form of a signature scheme", but it SHALL NOT BE the  </s>
<s> unique  </s>
<s> format.  </s>
<s> The argument developed at the WG did not make a lot of sense to me "We should use PKCS#7 for encoding the signature value because this is how Netscape's and other's toolkits are built..." PKCS#7, CMS, and others cryptographic toolkits rely upon some cryptographic primitives such as  </s>
<s> DSA,  </s>
<s> RSA, etc...  </s>
<s> We shall make sure that we leverage this legacy, but this doesn't mean that we should adopt PKCS#7 or CMS for encoding the signature value.  </s>
<s> It simply means that we shall limit compliance requirements to a well-established set of cryptographic primitives.  </s>
<s> Sincerely, Richard D. Brown Software Architect - R&amp;D GlobeSet, Inc. Auctin, TX - U.S.  </s>
<s> From: w3c-xml-sig-ws-request@w3.org [mailto:w3c-xml-sig-ws-request@w3.org]On  </s>
<s> Behalf Of Bob Relyea Sent: Tuesday, April 20, 1999 12:12 PM Subject: Re: XML versus ASN.1/DER blob  </s>
<s> (3) XML Signature Syntax.  </s>
<s> There appears to be controversy  </s>
<s> here.  </s>
<s> Some want  </s>
<s> to start with CMS/PKCS#7 but map it into XML syntax and  </s>
<s> extend it to meet  </s>
<s> the requirements, presumably resulting in something like  </s>
<s> the Richard Brown  </s>
<s> proposal.  </s>
<s> Others want to just use a PKCS#7 binary blob.  </s>
<s> The blob approach loses all of the transparency and  </s>
<s> extensibility of  </s>
<s> XML. It is not clear that it can meet the requirements for  </s>
<s> support of  </s>
<s> keyed hashes.  </s>
<s> You are locked into having two mutually alien sets of encoding/decodig logic: XML and ASN.1/DER.  </s>
<s> So there are a couple types of data that will wind up in XML signatures: 1) binary data -- the actual signature itself is some form of binary encoding.  </s>
<s> It will have no meaning to an XML application itself.  </s>
<s> This also includes things like X.509 certificates.  </s>
<s> 2) data the underlying security system needs to verify the signature.  </s>
<s> 3) data the XML application needs to to interpret to complete it's task (authentication, authorization, semantic meaning of the signature, etc).  </s>
<s> Data types 1 and 2 should be PKCS #7 blobs.  </s>
<s> Data types 3 should be XML.  </s>
<s> The resulting document should be an XML document with imbedded PKCS #7 blobs.  </s>
<s> The issue comes when the the data overlaps (both the underlying security system AND the application needs the data).  </s>
<s> Even worse is the case where the data is somehow imbedded in the X.509 Certificate.  </s>
<s> The Certificate is already a binary object.  </s>
<s> They are not cannonicalized objects... who arbitarily cast them into XML and still verify their signature.  </s>
<s> If an application need to access the DN in the cert, or some certificate extension in order to do it's work, the application will necessarily need to cooperate with the underlying security system to get these functions.  </s>
<s> You could define XML copies of these fields, but there would be no way of verifying these fields were correct (other than asking the underlying security system if they matched).  </s>
<s> This means that we need to define how XML applications can get access to non-XML objects anyway.  </s>
<s> On the other hand, wtih XML syntax as show in the Richard Brown proposal, you do have the readability and extensibility  </s>
<s> that are goals of  </s>
<s> XML.  </s>
<s> I don't see anything wrong with the base structure of Richard's proposal.  </s>
<s> We just need to spend the time to hash out what specifically shows up as XML tags, what shows up in PKCS #7 blobs, what shows up in both, and how do XML applications get to stuff in the PKCS #7 blob, and what shows up in both.  </s>
<s> Quite frankly, if you go with the blob, I don't see  </s>
<s> any justification  </s>
<s> for calling the result an XML digital signature.  </s>
<s> Any more than MIME considers the PKCS #7 blob at the end of an S/MIME message a MIME signature?  </s>
<s> It's a MIME signature because it signs a mime document, and is bundled in a package.  </s>
<s> You can spit this thing out to a standard MIME reader and it will do something reasonable with it.  </s>
<s> XML should be the same thing.  </s>
<s> bob  </s>
<s> Alan Kotok, Associate Chairman mailto:kotok@w3.org  </s>
<s> World Wide Web Consortium http://www.w3.org MIT Laboratory for Computer Science, 545 Technology Square, Room NE43-409  </s>
<s> John,  </s>
<s> I am not sure that I understand what you mean by "I do think we will have  </s>
<s> the most generalized solution by making them just binary blobs..." Somewhere  </s>
<s> you need to identify the algorithms and the keying material used for  </s>
<s> signature computation.  </s>
<s> If not, how could you verify the signature?  </s>
<s> Actually,  </s>
<s> identifying the algorithms and the keying material may not be always  </s>
<s> sufficient.  </s>
<s> Some signature values such as DSA consist of multiple values  </s>
<s> that need to be encoded in a well-defined way.  </s>
<s> I may agree with you if "binary blob" means that algorithms and keying material identification as well as signature value encoding do not need to  </s>
<s> be disclosed in the XML element and could be sealed in the signature value.  </s>
<s> But, this does not preclude the fact that the XML-DSIG specification should  </s>
<s> adopt a unique set of rules for producing this "binary blob".  </s>
<s> And as far as  </s>
<s> I know, PKCS#7 or CMS are insufficient for addressing all the requirements listed in the proposal - so which syntax should we adopt?  </s>
<s> If something new,  </s>
<s> why can't we suffice with the current proposal?  </s>
<s> Richard D. Brown  </s>
<s> the very least, one could argue that a PKCS#7 detached  </s>
<s> signature could be  </s>
<s> assumed as "some form of a signature scheme", but it SHALL  </s>
<s> sense to me "We  </s>
<s> should use PKCS#7 for encoding the signature value because  </s>
<s> this is how  </s>
<s> Netscape's and other's toolkits are built..." PKCS#7, CMS,  </s>
<s> and others  </s>
<s> cryptographic toolkits rely upon some cryptographic  </s>
<s> RSA, etc...  </s>
<s> We shall make sure that we leverage this  </s>
<s> legacy, but this  </s>
<s> doesn't mean that we should adopt PKCS#7 or CMS for  </s>
<s> encoding the signature  </s>
<s> value.  </s>
<s> It simply means that we shall limit compliance  </s>
<s> requirements to a  </s>
<s> well-established set of cryptographic primitives.  </s>
<s> Sincerely, Richard D. Brown Software Architect - R&amp;D GlobeSet, Inc. Auctin, TX - U.S.  </s>
<s> -----Original Message----- From: w3c-xml-sig-ws-request@w3.org [mailto:w3c-xml-sig-ws-request@w3.org]On  </s>
<s> Behalf Of Bob Relyea Sent: Tuesday, April 20, 1999 12:12 PM Subject: Re: XML versus ASN.1/DER blob  </s>
<s> (3) XML Signature Syntax.  </s>
<s> There appears to be controversy  </s>
<s> here.  </s>
<s> Some want  </s>
<s> to start with CMS/PKCS#7 but map it into XML syntax and  </s>
<s> extend it to meet  </s>
<s> the requirements, presumably resulting in something like  </s>
<s> the Richard Brown  </s>
<s> proposal.  </s>
<s> Others want to just use a PKCS#7 binary blob.  </s>
<s> The blob approach loses all of the transparency and  </s>
<s> extensibility of  </s>
<s> XML. It is not clear that it can meet the requirements for  </s>
<s> support of  </s>
<s> keyed hashes.  </s>
<s> You are locked into having two mutually  </s>
<s> alien sets of  </s>
<s> encoding/decodig logic: XML and ASN.1/DER.  </s>
<s> On the other hand, wtih XML syntax as show in the  </s>
<s> Richard Brown  </s>
<s> proposal, you do have the readability and extensibility  </s>
<s> that are goals of  </s>
<s> I don't see anything wrong with the base structure of Richard's proposal.  </s>
<s> We just need to spend the time to hash out what specifically shows up as XML tags, what shows up in PKCS #7 blobs, what shows up in both,  </s>
<s> and how do XML  </s>
<s> applications get to stuff in the PKCS #7 blob, and what shows up in both.  </s>
<s> Quite frankly, if you go with the blob, I don't see  </s>
<s> any justification  </s>
<s> for calling the result an XML digital signature.  </s>
<s> Any more than MIME considers the PKCS #7 blob at the end of an S/MIME message a MIME signature?  </s>
<s> It's a MIME signature because it signs a mime document, and is bundled in a package.  </s>
<s> You can spit this thing out to a standard MIME reader and it will do something reasonable with it.  </s>
<s> XML should be  </s>
<s> the same thing.  </s>
<s> bob  </s>
<s> Alan Kotok, Associate Chairman  </s>
<s> World Wide Web Consortium http://www.w3.org MIT Laboratory for Computer Science, 545 Technology Square, Room NE43-409  </s>
<s> In XFDL, we use our sign format to specify things like the hash algorithm and the signing engine.  </s>
<s> The engine specifier would have a string that identifies, for example, the Microsoft RSA Base cryptographic service provider or the PenOp handwritten signature engine, or Netscape or Entrust.  </s>
<s> Each of these systems has varying levels of support for existing cryptographic standards.  </s>
<s> The Microsoft CryptoAPI, for example, is a generalized interface that hands over the actual security operations to cryptographic service providers, many of which are manufactured by 3rd parties.  </s>
<s> The point is that I call something like CryptSignMessage(), and the CryptoAPI hands me back a binary blob, a black box.  </s>
<s> That black box has all of the information needed by CryptVerifyMessageSignature().  </s>
<s> I don't care what they put in it.  </s>
<s> To me, it's an integration to a technology.  </s>
<s> If CryptoAPI is secure, then so are we.  </s>
<s> In general, our security relies  </s>
<s> solely  </s>
<s> on the security of the underlying signature technology.  </s>
<s> All we do is receive a blob and store it base-64 encoded in an element.  </s>
<s> At  </s>
<s> verification,  </s>
<s> we know the engine to call (which we incidentally force to be part of the message that got signed, just as you do), and the engine's verify tells us whether it thinks the document has changed.  </s>
<s> You may feel that PKCS#7 and CMS don't cover every security application that your spec covers, but I think we need to modularlize the design.  </s>
<s> If you have new and better signature techniques, then write a new cryptography standard and write new modules that support them.  </s>
<s> You can even make your new security module exchange blobs that contain XML.  </s>
<s> The idea that I'm suggesting is that you must have a signature engine that have sign and verify working together.  </s>
<s> Further, anyone hoping to verify that signature must have the same signing engine.  </s>
<s> What you are talking about is writing a standard so that "everyone" can verify a signature once created.  </s>
<s> What I'm saying is that if this is your goal, then an implementation must necessarily include a cryptographic implementation (or at least the verify part).  </s>
<s> Since verification requires modular exponentiation, an organization like the W3C will not be able to create a compliant reference implementation that it can freely distribute to the world.  </s>
<s> value.  </s>
<s> should  </s>
<s> as  </s>
<s> new,  </s>
<s> This is because some of the requirements are not requirements of signed XML but are rather security requirements of applications.  </s>
<s> These should be addressed by more advanced security modules.  </s>
<s> The signed XML spec should simply be able to interface to that new security module.  </s>
<s> I don't think we should adopt any particular syntax for the binary blobs that represent signatures.  </s>
<s> Well, that's a bit of an overstatement since their are some necessary guidelines to prevent security holes, but the guidelines I'm thinking of are not too numerous or technical (that's why it's only a *bit* of an overstatement).  </s>
<s> The security engine specified in the parameters will create a data  </s>
<s> structure  </s>
<s> that it, presumably, can verify.  </s>
<s> I know that since XML is a hammer  </s>
<s> designed  </s>
<s> the very least, one could argue that a PKCS#7 detached  </s>
<s> assumed as "some form of a signature scheme", but it SHALL  </s>
<s> sense to me "We  </s>
<s> should use PKCS#7 for encoding the signature value because  </s>
<s> this is how  </s>
<s> Netscape's and other's toolkits are built..." PKCS#7, CMS,  </s>
<s> and others  </s>
<s> cryptographic toolkits rely upon some cryptographic  </s>
<s> RSA, etc...  </s>
<s> We shall make sure that we leverage this  </s>
<s> legacy, but this  </s>
<s> doesn't mean that we should adopt PKCS#7 or CMS for  </s>
<s> encoding the signature  </s>
<s> value.  </s>
<s> It simply means that we shall limit compliance  </s>
<s> requirements to a  </s>
<s> -----Original Message----- From: w3c-xml-sig-ws-request@w3.org [mailto:w3c-xml-sig-ws-request@w3.org]On  </s>
<s> Behalf Of Bob Relyea Sent: Tuesday, April 20, 1999 12:12 PM Subject: Re: XML versus ASN.1/DER blob  </s>
<s> (3) XML Signature Syntax.  </s>
<s> There appears to be controversy  </s>
<s> here.  </s>
<s> Some want  </s>
<s> to start with CMS/PKCS#7 but map it into XML syntax and  </s>
<s> extend it to meet  </s>
<s> the requirements, presumably resulting in something like  </s>
<s> the Richard Brown  </s>
<s> proposal.  </s>
<s> Others want to just use a PKCS#7 binary blob.  </s>
<s> The blob approach loses all of the transparency and  </s>
<s> extensibility of  </s>
<s> XML. It is not clear that it can meet the requirements for  </s>
<s> support of  </s>
<s> keyed hashes.  </s>
<s> You are locked into having two mutually  </s>
<s> alien sets of  </s>
<s> encoding/decodig logic: XML and ASN.1/DER.  </s>
<s> On the other hand, wtih XML syntax as show in the  </s>
<s> proposal, you do have the readability and extensibility  </s>
<s> that are goals of  </s>
<s> I don't see anything wrong with the base structure of Richard's proposal.  </s>
<s> We just need to spend the time to hash out what specifically shows up as XML tags, what shows up in PKCS #7 blobs, what shows up in both,  </s>
<s> and how do XML  </s>
<s> applications get to stuff in the PKCS #7 blob, and what shows up in both.  </s>
<s> Quite frankly, if you go with the blob, I don't see  </s>
<s> any justification  </s>
<s> for calling the result an XML digital signature.  </s>
<s> Any more than MIME considers the PKCS #7 blob at the end of an S/MIME message a MIME signature?  </s>
<s> It's a MIME signature because it signs a mime document, and is bundled in a package.  </s>
<s> You can spit this thing out to a standard MIME reader and it will do something reasonable with it.  </s>
<s> XML should be  </s>
<s> the same thing.  </s>
<s> bob  </s>
<s> Alan Kotok, Associate Chairman  </s>
<s> World Wide Web Consortium MIT Laboratory for Computer Science, 545 Technology Square, Room  </s>
<s> NE43-409 +1-617-258-5999  </s>
