<s> OK, internationalization experts, here's your chance to help out in a big way.  </s>
<s> The ERB has considered the issue of case sensitivity in markup at some length and has boiled down the options to just two alternatives: 1. Full case sensitivity in markup.  </s>
<s> 2. Case-folding using the Unicode rules.  </s>
<s> We would like everyone on the WG who has a qualified opinion on this issue to state which of these alternatives is preferable and why.  </s>
<s> The following points should be borne in mind: 1. Option 1 has tremendous backward-compatibility implications.  </s>
<s> Important as compatibility is, however, the primary purpose of this activity is to enable standardized structured data to be generated and served out to Web clients, not to preserve existing legacy data unchanged.  </s>
<s> 2. The Unicode method folds uppercase to lowercase (see below).  </s>
<s> ISO 8879 folds lowercase to uppercase; that is, it defines uppercase substitution (Clause 13.4.5)  </s>
<s> but not lowercase substitution.  </s>
<s> Due to the short amount of time remaining before we freeze the XML 1.0 specification, we need your input on this question as soon as possible.  </s>
<s> Jon  </s>
<s> From the Unicode Standard 2.0 (July 1996), Section 4.1: _Case_ is a normative property of characters in certain alphabets whereby characters are considered to be variants of a single letter.  </s>
<s> These variants, which may differ markedly in shape and size, are called the _uppercase_ letter (also known as _capital_  </s>
<s> or _majuscule_) and the _lowercase_ letter (also known as _small_ or _minuscule_).  </s>
<s> The uppercase letter is generally larger than the lowercase letter.  </s>
<s> Because of the inclusion of certain composite characters for compatibility, such as U+01F1 LATIN CAPITAL LETTER DZ, there is a third case, called _titlecase_, which is used where the first character of a word is to be capitalized.  </s>
<s> An example of such a character is U+01F2 LATIN CAPITAL LETTER D WITH SMALL LETTER Z. The three case forms are UPPERCASE, Titlecase, lowercase.  </s>
<s> For those scripts that have case (Latin, Greek, Cyrillic, and Armenian), the case of a Unicode character can be obtained from the character's name.  </s>
<s> This is true for only these four scripts.  </s>
<s> Uppercase characters contain the word _capital_ in their names.  </s>
<s> Lowercase characters contain the word _small._  </s>
<s> The word _small_ in the names of characters from scripts other than the four just listed has nothing to do with case.  </s>
<s> ... The lowercase letter default case mapping is between the small character and the capital character.  </s>
<s> The Unicode Standard case mapping tables, which are informative, are on the CD-ROM [bound in with the standard].  </s>
<s> In a few instances, upper and lowercase mapping may differ from language to language between writing systems that employ the same letters.... [Examples cited are Turkish dotless "i" and French e-acute.]  </s>
<s> However, in general the vast majority of case mappings are uniform across languages.... Because there are many more lowercase forms than there are uppercase or titlecase, it is recommended that the lowercase form be used for normalization, such as when strings are case-folded for loose comparison or indexing.  </s>
<s> [Note:] Case correspondences are not always one-to-one: the result of case folding may be a different character length than in the source string (for example, U+00DF LATIN SMALL LETTER SHARP S [glyph for sz shown] becomes "SS" in uppercase).  </s>
<s> Makes sense when "normalization" means "the best case to keep your master data in, since it's harder to convert other forms to this one (adding information) rather than vice versa (supressing information)".  </s>
<s> But that doesn't apply here.  </s>
<s> If my case normalization drops accents going to upper case, how can I normalize to lower case?  </s>
<s> I don't have an algorithm to regain the correct accents when my parser must convert the occasional uppercase word back to lower case to recognize it.  </s>
<s> The other examples of conversion problems normalizing to uppercase suggest that the only universal solution will be to disallow case normalization.  </s>
<s> (Unix forever; down with DOS? :-) ) _Personally_, I don't care.  </s>
<s> Dave Peterson SGMLWorks!  </s>
<s> davep@acm.org  </s>
<s> My initial reaction to the Unicode tables you so thoughtfully supplied is that there is nothing to stop them being used for lowercase to uppercase substitution as for every lowercase character the uppercase equivalent is identified where relevant.  </s>
<s> I note that for characters such as &amp;szlig;, which is not a one-to-one mapping, no entry is specified in the table, so presumably the lowercase form would always be retained.  </s>
<s> The Unix tables also provide a useful form of normalization for the conversion of letter+diacritic pairs into "normalized" characters.  </s>
<s> Your question really boils down to "what does compatibility mean".  </s>
<s> If we want comatibility with HTML then we need to allow tags to be entered in both shifts, and be able to match a cap start-tag with a lowercase end-tag for any element.  </s>
<s> For SGML compatibility we could presume that the file is normalized prior to being passed to the web as an XML file.  </s>
<s> Such normalization would turn any lowercase name characters to caps if NAMECASE GENERAL YES was in force.  </s>
<s> We know we have to change the SGML DTD to make make it compatible for XML.  </s>
<s> One such change, therefore, would be that all element, attribute, etc, names (except entity names) would have to be capitalized.  </s>
<s> Using this simple rule the default output for SGML files would be the capitalized names, and we could use option 1 within XML.  </s>
<s> If we adopt a case sensitive approach for XML, HTML files that have been normalized using the rules applied for existing SGML files could also be treated as if they would have caps only markup.  </s>
<s> New XML files should not be a problem if we apply the case sensitive approach, especially if we recommended use of lowercase characters for names.  </s>
<s> This would have the advantage of clearly distinguishing normalized SGML and HTML files from specially created XML files, and would allow us to maximize the number of characters available for markup.  </s>
<s> The problem with option 2 is that it is unclear what the rules are for converting from uppercase to lowercase are.  </s>
<s> In a French word, for example, you cannot presume that a cap E will convert to a lowercase e on conversion; it may well need to be converted to an accented character, depending on the word it has been used in.  </s>
<s> A third option would be to use the Unicode tables to convert lowercase characters to their cap equivalents, reducing the number of markup characters to those for which an equivalent has been defined.  </s>
<s> This would probably lead to fewer anomalies than converting caps to lowercase, given that most accented characters have cap equivalents within 10646, but would lead to anomalies due to locale-specific changes in the way capitalization is done.  </s>
<s> Whilst this approach would have the advantage of making XML backward compatible with the existing version of SGML I'm not convinced that it would remain compatible for SGML97++.  </s>
<s> The one question I have is "Why the rush?"  </s>
<s> Given that WG8 may discuss this issue next week, while i18n will discuss it the week after, could we not hold this discussion off for a fortnight to allow a more detailed discussion of it.  </s>
<s> I would particularly like to raise this question at the i18n conference in Seville, probably on November 21st when the problems of the internationalization of HTML are due to be discussed.  </s>
<s> It seems silly to force XML members to answer this question before the acknowledged experts in the field meet to discuss it.  </s>
<s> Martin Bryan Martin Bryan, The SGML Centre, Churchdown, Glos.  </s>
<s> GL3 2PU, UK  </s>
<s> It will be easier to understand/explain/teach case sensitivity if full sensitivity is required.  </s>
<s> Sensitivity to sensitivity can be judged in XML1.0 for reconsideration in future versions ... it would be difficult to go "the other way" and later decide that the rules are sufficiently complex (or conflicting) to require case sensitivity.  </s>
<s> ......... Ken Microstar Software Ltd. WATS: 1 800 267-9975 /\ /\ Aided 3775 Richmond Road Mail: gkholman@microstar.com  </s>
<s> \/ \/ Document Nepean Ontario Info: cade@microstar.com  </s>
<s> /\ /\ Engineering CANADA K2H-5B7 Web: http://www.microstar.com  </s>
<s> \/ \/ P.O. Box 266 Street: 1605 Mardick Court Kars, Ontario CANADA KOA-2E0 E-mail: ab945@freenet.carleton.ca  </s>
<s> -----BEGIN PGP PUBLIC KEY BLOCK----- Version: 2.6 mQCNAjHOimAAAAEEAK47HbDtZZB8hJBk+r9Zh7m7QxdFHTaz/m200QQ7J9XX4QYs h6hsuP6ZqBJXyLdmIVMEwR6Ry6oxjKMd6BRJ8OGScD89eIghgbrpMX+900NxM0x2 v3yWO9ki2gKRPrn4vlCXznnmcmsyke0G02T2LefXbgZHyVSqDSOLy8nwuN7dAAUR tClHLiBLZW4gSG9sbWFuIDxhYjk0NUBmcmVlbmV0LmNhcmxldG9uLmNhPg== =IN3T -----END PGP PUBLIC KEY BLOCK-----  </s>
<s> I'm not so worried about case sensitivity from an implementors point of view--though I do think this, along with disallowing the omitted tag minimization field, are the two biggest stumbling blocks that current SGML tools and applications will have wrt XML--but I'm more worried about the end user here.  </s>
<s> And it's not just a legacy issue.  </s>
<s> I looked at the HTML file Tim sent out for the draft XML spec.  </s>
<s> It mixes case in the tag names, for example I just think so many users will be surprised by names/tokens not matching because of case.  </s>
<s> Things like "yes" not being equal to "YES" and /a not closing A .  </s>
<s> And all the 8879 keywords having to be in uppercase.  </s>
<s> And users will have to be more careful when creating style sheets, since they will have to have the element names, attribute names, and attribute values match exactly.  </s>
<s> To do things like testing if the attribute name is "yes" or "black" or "ID45017" will require the use of "anycase()" sorts of functions or explicit comparisons for all possible combinations of lettercase mixing.  </s>
<s> I'm quite sensitive to the I18N issues, but let's remember that the whole point of case folding is to make life easier for the end users in general, and there are a lot of them out there for whom losing case folding will make their lives a lot harder.  </s>
<s> No, it's not hard to "explain" case sensitivity, that's not the point.  </s>
<s> Every time a user trips over /a not closing A , they'll say, "oh yes, I understand why, it's that @&amp;%$*# rule about case sensitivity in XML--they fixed some of the problems with SGML, so in exchange, they invented some new ones of their own."  </s>
<s> [Martin Bryan:]  </s>
<s> Two reasons: 1.  </s>
<s> We are releasing a spec on November 19 and this issue has to be addressed in it.  </s>
<s> 2. This will either force the "acknowledged experts in the field" to stop discussing this and come to a decision, or it will give us a direction in which to proceed.  </s>
<s> It takes some time for a W3C Working Draft to become a Proposed Recommendation and finally an official Recommendation.  </s>
<s> If the I18N experts come to a decision that differs from the choice we make now, then we can change the Working Draft.  </s>
<s> If they don't, that's OK, too.  </s>
<s> But in any event, we are not dependent on their schedule.  </s>
<s> Jon  </s>
