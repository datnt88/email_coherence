<s> SUGGESTION 1: 3.10.3  </s>
<s> Stylesheet Import.  </s>
<s> "The order of import precedence (lowest first) is D, B, E, C, A. In general, a declaration with higher import precedence takes precedence over a declaration with lower import precedence.  </s>
<s> This is defined in detail for each kind of declaration" It is not clear for me why "In general".  </s>
<s> Why we cannot have it as a common rule.I  </s>
<s> don't understand why sometimes we use import precedence (e.g. in 9.5 Global Variables and Parameters) sometimes don't (e.g. in 16.4.1 Defining a Decimal Format).  </s>
<s> I think it should be explained.  </s>
<s> If there is no any technical reason to have it just "In general" , we should have common rules - we should use import precedence (not using import precedence as a "common rule" makes no sense because it would have the same functionality as xsl:include).  </s>
<s> SUGGESTION 2: lang attribute used in xsl:number(12 Numbering) and xsl:sort (13.1  </s>
<s> The xsl:sort Element) language argument used in date formatting functions (16.5 Formatting Dates and Times) format-dateTime, format-date, format-time The attribute and arguments have common rules "The effective value of the attribute must be a value that would be valid for the xml:lang attribute" (http://www.w3.org/TR/1998/REC-xml-19980210#sec-lang-tag).  </s>
<s> The specs define precisely mapping from value of the attribute to ISO 639 language and ISO 3166 country codes.  </s>
<s> Problem Mapping from a value of the attribute to a variant code is not specified.  </s>
<s> Solution A variant code should be constructed from the substring after the second tag separator by converting the substring to upper case and replacing all '-' characters with '_'.  </s>
<s> The variant code is ignored, if implementation cannot find a resources for the variant code with given ISO-639 language and ISO-3166 country code.  </s>
<s> A warning message should be issued in this case.  </s>
<s> Changes in behavior caused by the variant are implementation defined.  </s>
<s> SUGGESTION 3: 16.4.1 Defining a Decimal Format Add attribute lang?  </s>
<s> = { nmtoken }.  </s>
<s> The rules for the attributes are the same as for this attributes in other elements (e.g. xsl:number).  </s>
<s> lang attribute should control default values for attributes: decimal-separator, grouping-separator, infinity minus-sign, NaN, percent, per-mille, zero-digit.  </s>
<s> (e.g. text "decimal-separator specifies the character used for the decimal-separator-sign; the default value is the period character (.)" should be replaced with decimal-separator specifies the character used for the decimal-separator-sign; the default value is default for a given language".  </s>
<s> SUGGESTION 4: 20 Serialization normalize-unicode?  </s>
<s> attribute of the xsl:output element Problem: Not clear which normalization forms to use.  </s>
<s> "NFC"?  </s>
<s> Why we should have "NFC" only, if we can support others as in  </s>
<s> fn:normalize-unicode? Solution:  </s>
<s> normalize-unicode? = string The attribute should follow the rules of the second argument($normalizationForm ) of the fn:normalize-unicode (http://www.w3.org/TR/xquery-operators/#func-normalize-unicode)  </s>
<s> Igor Hersht XSLT Development IBM Canada Ltd., 8200 Warden Avenue, Markham, Ontario L6G 1C7  </s>
<s> Igor, In [1], you submitted the following comment on the XSLT 2.0 and Serialization last call drafts.  </s>
<s> Igor Hersht wrote on 2004-01-11 05:01:13 PM:  </s>
<s> Thank you for your comment.  </s>
<s> The XSL and XQuery Working Groups discussed your comment, and agreed that the serialization parameter for Unicode normalization should be  </s>
<s> aligned with the fn:normalize-unicode function and permit additional normalization forms to be specified.  </s>
<s> The working groups decided to make  </s>
<s> the following changes to the definition of the normalize-unicode serialization parameter: 1. Rename the parameter to "normalization-form". 2. The possible values of the parameter will be "NFC", "NFD", "NFKC", "NFKD", "fully-normalized", "none" or an implementation-defined  </s>
<s> normalization form.  </s>
<s> The default value is "none".  </s>
<s> We will also add a note advising of the interoperability problems that can arise by using anything other than NFC.  </s>
<s> 3. All of "NFC", "NFD", "NFKC", "NFKD", "fully-normalized", "none" and any implementation-defined value are permitted for the xml, xhtml and text output methods.  </s>
<s> The values "NFC", "fully-normalized" and "none" must be supported by an implementation for these output methods.  </s>
<s> 4. The normalization-form parameter is permitted to have the values "NFC", "NFD", "NFKC", "NFKD", "none" or an implementation-defined value if the output method is "html".  </s>
<s> The values "NFC" and "none" must be supported for the html output method.  </s>
<s> The value "fully-normalized" is not permitted if the output method is "html".  </s>
<s> 5. In the case of "fully-normalized", the normalization is the same as for NFC, but the processor must signal a serialization error if any of the "relevant constructs" of the result would begin with a combining character.  </s>
<s> The XSL Working Group will also make the corresponding changes to the xsl:output element in XSLT 2.0, replacing the normalize-unicode attribute with a normalization-form attribute.  </s>
<s> May I ask you to confirm that this response is acceptable?  </s>
<s> Thanks, Henry [1] Henry Zongaro Xalan development IBM SWS Toronto Lab T/L 969-6044; Phone +1 905 413-6044  </s>
<s> I think it is OK.  </s>
<s> There is some discrepancy between specs for fn:normalize-unicode (according to the latest Draft) and the normalization-form attribute.  </s>
<s> The ?fully-normalized ?  </s>
<s> value of the normalization-form attribute must be supported .  </s>
<s> This normalization is not mandatory to implement for fn:normalize-unicode.  </s>
<s> The ?fully-normalized ?  </s>
<s> mode could be difficult to implement.  </s>
<s> Igor Hersht XSLT Development IBM Canada Ltd., 8200 Warden Avenue, Markham, Ontario L6G 1C7 Henry Zongaro/Toronto/I BM To Igor Hersht/Toronto/IBM@IBMCA 03/27/2004 09:56 cc PM public-qt-comments@w3.org  </s>
<s> Subject Re: [XSLT2.0](Document  </s>
<s> link: Igor Hersht) Igor, In [1], you submitted the following comment on the XSLT 2.0 and Serialization last call drafts.  </s>
<s> Igor Hersht wrote on 2004-01-11 05:01:13 PM:  </s>
<s> Thank you for your comment.  </s>
<s> The XSL and XQuery Working Groups discussed your comment, and agreed that the serialization parameter for Unicode normalization should be aligned with the fn:normalize-unicode function and permit additional normalization forms to be specified.  </s>
<s> The working groups decided to make the following changes to the definition of the normalize-unicode serialization parameter: 1. Rename the parameter to "normalization-form". 2. The possible values of the parameter will be "NFC", "NFD", "NFKC", "NFKD", "fully-normalized", "none" or an implementation-defined normalization form.  </s>
<s> The default value is "none".  </s>
<s> We will also add a note advising of the interoperability problems that can arise by using anything other than NFC.  </s>
<s> 3. All of "NFC", "NFD", "NFKC", "NFKD", "fully-normalized", "none" and any implementation-defined value are permitted for the xml, xhtml and text output methods.  </s>
<s> The values "NFC", "fully-normalized" and "none" must be supported by an implementation for these output methods.  </s>
<s> 4. The normalization-form parameter is permitted to have the values "NFC", "NFD", "NFKC", "NFKD", "none" or an implementation-defined value if the output method is "html".  </s>
<s> The values "NFC" and "none" must be supported for the html output method.  </s>
<s> The value "fully-normalized" is not permitted if the output method is "html".  </s>
<s> 5. In the case of "fully-normalized", the normalization is the same as for NFC, but the processor must signal a serialization error if any of the "relevant constructs" of the result would begin with a combining character.  </s>
<s> The XSL Working Group will also make the corresponding changes to the xsl:output element in XSLT 2.0, replacing the normalize-unicode attribute with a normalization-form attribute.  </s>
<s> May I ask you to confirm that this response is acceptable?  </s>
<s> Thanks, Henry [1] Henry Zongaro Xalan development IBM SWS Toronto Lab T/L 969-6044; Phone +1 905 413-6044  </s>
<s> Igor,  </s>
<s> and you responded: Igor Hersht/Toronto/IBM wrote on 2004-03-29 12:06:55 PM:  </s>
<s> It was my understanding there had been a comment against F&amp;O that an implementation should be required to support the parameter value "fully-normalized" for the fn:normalize-unicode function.  </s>
<s> I specified here that the value "fully-normalized" must be supported as a value for the normalization-form parameter in order to align with what I understood was a pending change to F&amp;O.  </s>
<s> Ashok: Can you confirm that an implementation will be required to support the value "fully-normalized" for the fn:normalize-unicode function?  </s>
<s> Thanks, Henry Henry Zongaro Xalan development IBM SWS Toronto Lab T/L 969-6044; Phone +1 905 413-6044  </s>
