Neither form of comment constructor gives any indication of what is to happen if (after atomization/casting) the string contains the sequence "--" or ends in "-" neither of which are allowed in an XML comment. 
3.7.2 
Other Direct Constructors 3.7.3.6 Computed Comment Constructors comment { "-123-"} Both appear to be legal Xquery, but neither can directly result in an XML comment and the first can not result in an XPath/Xquery data model comment node: somewhat strangely only bans "--" but allows a trailing "-". 
By contrast, the xslt2 draft says, [ERR XT0950] It is a recoverable dynamic error if the result of evaluating the content of the xsl:comment contains the string -- or ends with -. 
The optional recovery action is to insert a space after any occurrence of - that is followed by another - or that ends the comment. 
David This e-mail has been scanned for all viruses by Star Internet. 
The service is powered by MessageLabs. 
For more information on a proactive anti-virus service working around the clock, around the globe, visit: 
Thank you for your detailed and well-explained comment. 
I am responding on behalf of the XML Query WG. 
We considered your comment today and the XML Query WG decided to adopt the solution of changing the value of a constructed comment as XSLT does e.g. change any embedded "--" strings to "- -" and change any trailing "-" to We would be grateful if you could confirm that this response resolves the questions you raised in your comment. 
/paulc Paul Cotton, Microsoft Canada 17 Eleanor Drive, Nepean, Ontario K2E 6A3 
That addresses my comment on the Xquery constructors thanks. 
There is also the issue of whether the DM should disallow a trailing - currently it only disallows --. David 
