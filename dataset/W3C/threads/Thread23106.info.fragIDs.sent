<s> I tried to get information about the global object for JavaScript.  </s>
<s> There is no information about it in neither JavaScript Core/Reference nor HTML Specification, so I went through the ECMAScript specification once again and found out that in a chapter about global object it states that 'the HTML document object model states that the window property of the global object is the global object itself'.  </s>
<s> However, the DOM doesn't state anything like that.  </s>
<s> And reading the discussion on this topic in the DOM mailing list a question came up.  </s>
<s> How can I refer to the global object in the HTML?  </s>
<s> What is its name?  </s>
<s> Is it window or document or maybe even something else?  </s>
<s> Does document.open  </s>
<s> means the same as window.open?  </s>
<s> Because I am afraid that when using, for instance, window.open it is possible that a browser (not IE and not Netscape) won't support it and the whole script wouldn't run as it was intended!!!  </s>
<s> I think it's normal that the DOM does not state anything about what the global object in Javascript is : the EcmaScript concept of a global objet is absolutely not related to the DOM specification, but only to the specification of Javascript.  </s>
<s> Now EcmaScript's specification does not state in any way how to access explicitly the global object (due to its very globality) : but every variable which is not the property of any other object is implicitly a property of the global object.  </s>
<s> This is the reason why the "window" variable, which is a reference to the global object itself, is also a property of the global object.  </s>
<s> Concerning the open() method : a) window.open() is a function of the global object, so you can inplicitly call open() without the window prefix (in fact you could also write window.window.window.open(),  </s>
<s> since window points to itself).  </s>
<s> The effect of the open() method of the global object is to create a new navigator window and return a reference to it.  </s>
<s> b) document.open() is a function of the document object (which is not the global object) : this method opens a new HTML stream into the current document (there are as many document objects as frames and windows).  </s>
<s> After document.open() is called you can invoke the document.write()  </s>
<s> and document.writeln()  </s>
<s> and finally document.close(),  </s>
<s> which closes the stream.  </s>
<s> -----Message d'origine----- De : www-dom-request@w3.org  </s>
<s> [mailto:www-dom-request@w3.org]De la part de Marek Kielar Envoy?  </s>
<s> : dimanche 6 juillet 2003 22:16 ?  </s>
<s> : www-dom@w3.org  </s>
<s> Objet : What is the status of window object and such?  </s>
<s> I tried to get information about the global object for JavaScript.  </s>
<s> There is no information about it in neither JavaScript Core/Reference nor HTML Specification, so I went through the ECMAScript specification once again and found out that in a chapter about global object it states that 'the HTML document object model states that the window property of the global object is the global object itself'.  </s>
<s> However, the DOM doesn't state anything like that.  </s>
<s> And reading the discussion on this topic in the DOM mailing list a question came up.  </s>
<s> How can I refer to the global object in the HTML?  </s>
<s> What is its name?  </s>
<s> Is it window or document or maybe even something else?  </s>
<s> Does document.open  </s>
<s> means the same as window.open?  </s>
<s> Because I am afraid that when using, for instance, window.open it is possible that a browser (not IE and not Netscape) won't support it and the whole script wouldn't run as it was intended!!!  </s>
<s> But I believe that the DOM Specification does not state that the global object HAS the window property at all, hence that the window property points to the global object.  </s>
<s> Moreover, I think that the DOM Specification also does not state that the global object has the document property.  </s>
<s> (However, can a property have properties, I'm not sure about that, because if it cannot then the document property of the global object would have to point to another object which name could have been 'document' and therefore the 'document' object could then be accessed without any reference to the global object.  </s>
<s> Is that correct?)  </s>
<s> I think what actually needs to be done is some containing standard needs to be developed to standardize the window object - perhaps the "Viewport Object Model."  </s>
<s> It's proper that the window object is not entirely addressed by the DOM (though it is erroneously, in my opinion, addressed by the DOMHTMLHTMLElement in places).  </s>
<s> The DOM is for documents, and the document does begin at the HTML element.  </s>
<s> But the window object exists in all cases - there is always some User Agent presenting the document - and W3C text often refers to "The Viewport" and its "Canvases."  </s>
<s> A Spec ought to be written to nail down exactly what these are.  </s>
<s> As it stands now many methods and properties belong in the window object, but without a Viewport OM the W3C is unable to specify them.  </s>
<s> Further, in the case of framesets (which are defined by the W3C), each Frame really ought to be an object that inherits from Viewport (resolving a lot of inconsistencies) rather than the long list of exceptions required today.  </s>
<s> -Chris "SoopahMan" Moschini  </s>
<s> I don't intend to state the obvious, but since it's not being mentioned in your message:  </s>
<s> The AbstractView object is accessible through the document, and the document is accessible through an AbstractView.  </s>
<s> Every event has a view object associated as well.  </s>
<s> --Brad Pettit Of Chris Moschini I think what actually needs to be done is some containing standard needs to be developed to standardize the window object - perhaps the "Viewport Object Model."  </s>
<s> It's proper that the window object is not entirely addressed by the DOM (though it is erroneously, in my opinion, addressed by the DOMHTMLHTMLElement in places).  </s>
<s> The DOM is for documents, and the document does begin at the HTML element.  </s>
<s> But the window object exists in all cases - there is always some User Agent presenting the document - and W3C text often refers to "The Viewport" and its "Canvases."  </s>
<s> A Spec ought to be written to nail down exactly what these are.  </s>
<s> As it stands now many methods and properties belong in the window object, but without a Viewport OM the W3C is unable to specify them.  </s>
<s> Further, in the case of framesets (which are defined by the W3C), each Frame really ought to be an object that inherits from Viewport (resolving a lot of inconsistencies) rather than the long list of exceptions required today.  </s>
<s> -Chris "SoopahMan" Moschini  </s>
<s> 1) Agreed, though this text in the definition obscures what exactly a View is: A document may have one or more "views" associated with it, e.g., a computed view on a document after applying a CSS stylesheet Try to mend this with: There is at most one viewport per canvas, but user agents may render to more than one canvas (i.e., provide different views of the same document).  </s>
<s> - http://www.w3.org/TR/REC-CSS2/visuren.html  </s>
<s> What then is a "View?"  </s>
<s> Does this mean there is in fact a Document, a connected set of Canvases, and for each Canvas an AbstractView and DocumentView?  </s>
<s> If so - where is the definition of Canvas?  </s>
<s> 2) This is stating the obvious but AbstractView has no definition besides its relationship to DocumentView (meaning basically, it is a sibling to Document).  </s>
<s> If AbstractView in fact represents the window object, shouldn't there be a "View" (presumably the implementation of "Abstract"View) and some properties underneath it, such as height and width?  </s>
<s> -Chris "SoopahMan" Moschini  </s>
<s> A canvas is a screen area which had been prepared to receive painting.  </s>
<s> An HTML document, and its associated DOM tree, could be displayed in more than one canvas but it doesn't make sense to paint the same HTML document on the same canvas.  </s>
<s> The View could be a Canvas (and in fact, is a Canvas in IE/Netscape-like browsers) but not necessarely: a voice browser will never display the document but stil provide a View of it using voice.  </s>
<s> AbstractView is meant to address to be the base of all possible views: VisualView, VoiceView, etc. and it does not imply height and width.  </s>
<s> You probably want to have a look at As of today, we still don't have plans to move further DOM Level 3 Views and Formatting since we didn't get enough interest on the draft.  </s>
<s> Philippe  </s>
<s> AbstractView is meant to address to be the base of all possible views: VisualView, VoiceView, etc. and it does not imply height and width.  </s>
<s> You probably want to have a look at As of today, we still don't have plans to move further DOM Level 3 Views and Formatting since we didn't get enough interest on the draft.  </s>
<s> What would constitute sufficient interest?  </s>
<s> I can think of several developers with me at Hiveminds that would be very interested, at the least... .  </s>
<s> Many browsers are making an honest push today to implement the standards completely exactly as they're written - but this philanthropy runs into trouble when holes in the standards like this are left to lie.  </s>
<s> Opera is going to add text selection to its browser soon, but what element should .getSelection()  </s>
<s> be called from?  </s>
<s> Having VisualView hammered out could help make this clear, even if it's to have it well-defined yet not include selection (driving Opera to the document element).  </s>
<s> I won't say it's a stronger priority than say, CSS2.1 and 3, but there's many somewhat-similar implementations out there with no standards to work from whatsoever - just the de facto that most involved with the W3C denounce in other areas, like coding to the de facto IE standard of document.all.  </s>
<s> -Chris "SoopahMan" Moschini  </s>
<s> Remember, the DOM isn't a browser API.  </s>
<s> It's a Data Model API which browsers happen to be using.  </s>
<s> Many of the things a browser is going to want to do will be outside the DOM's scope, and might be better standardized by another committee.  </s>
<s> Views may or may not fall into that category.  </s>
<s> Joe Kesselman, IBM Next-Generation Web Technologies: XML, XSL and more.  </s>
<s> "The world changed profoundly and unpredictably the day Tim Berners Lee got bitten by a radioactive spider." -- Rafe Culpin, in r.m.filk  </s>
