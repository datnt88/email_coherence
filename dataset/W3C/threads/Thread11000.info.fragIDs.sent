<s> See link linkend="bookrev" my book review site /link for a draft introduction to HyTime.  </s>
<s> I see two problems here: a. the current paradigm (however faulty or misleading) is that element _content_ is destined for display/formatting: browser authors will need a shift if they are to handle content which gets used for some other purpose; b. the extra level of indirection is going to be a major stumbling-block for authors accustomed to HREFs.  </s>
<s> I have always favored the principle that if you strip away all element markup from an instance, you should be left with readable continuous prose -- unformatted, yes, but essentially "the text" of the document.  </s>
<s> I've run up against this before -- Eve and Terry know my mixed feelings about the way DocBook expects INDEXTERM to be used -- but I am still left with a very uneasy feeling about DTDs which expect indirect referential material to be inserted as element content instead of attribute values.  </s>
<s> But surely you can also do something like: p See link linkend="http://www.drmacro.com/bookrev"  </s>
<s> my book review site /link for ... This is the obvious way to do it for simple one-way links where the return unspecified, and presumed to be the function of the browser's BACK button: it may not have the formal elegance of a queryloc, but to someone whose business is the text, not the markup, it seems to make more sense.  </s>
<s> For more complex associations, I agree completely that we absolutely need the more powerful methods of HyTime or TEI or whatever.  </s>
<s> We can't make link formats depend on the server: so if we have path extensions on URLs, like his proposed "/chapter=4/p=23" then we need browsers to be able to parse these addresses -- and I think that violates the URL opaqueness condition that I stated, along with its consequencs.  </s>
<s> If I read this right, we have three choices for implementing the more complex addressing: i) break and rewrite the rules for URLs (and probably HTTP as well) and allow arbitrary strings including spaces -- somehow; ii) stick to the existing rules, hexify [^A-Za-z0-9], and either educate authors to do it in their sleep, or someone write nice little pop-up editor functions that do x-www-urlencoding on the fly; iii) extend the existing mechanisms (in transmission as well as at the server end) to catch TEI-EPN or whatever, and pass it to an embedded parser-searcher which will perform the relevant functions.  </s>
<s> Call me reactionary, but I'm just trying to speak for the people who already know HTML who just want to get the job done -- they may accept additional complexity for additional power, but if what they can already do becomes harder, they won't necessarily take the trouble to enter our brave new world of descriptive markup.  </s>
<s> I think you're right to be concerned, and I think we do need two levels: a transitional level which provides essentially what we can be done with HTML functionality, but on a more structured and rational basis; in preparation for a higher level which allows the implementation of much greater things.  </s>
<s> ///Peter  </s>
<s> attributes (and visa versa), so you can easily have this form of URLLoc: Ha! I didn't realise it was that easy.  </s>
<s> Thanks, I need to revise a few opinions here :-) HyTime uses element content by default for things that might naturally be attribute values for two reasons: 1.  </s>
<s> To avoid syntactic limitations on attribute values (length, primarily, which I suppose isn't a problem with XML with effectively unbounded quantities).  </s>
<s> 2. To allow subelements (for example, dimspec, dimref, and markfun elements in extent specifications, which are nominally lists of integers).  </s>
<s> I'd grasped the second but not the first (trust me to find the easier one harder).  </s>
<s> I now see why the first one makes putting EPN into content so much more attractive.  </s>
<s> HyTime uses the concept of "resources" to categorize those element types that are only used by reference (and therefore, whose content, if any, would not normally be displayed, certainly not at the location it occurred in the source).  </s>
<s> That's the very problem...I would not expect all browsers to adhere to HyTime, whether it is prescribed/recommended/whatever in the XML spec or not; and in any event, our discussion seems to turn on the precise aspect of this which causes the difficulty -- what to do with DTD-less `instances'  </s>
<s> ///Peter  </s>
<s> The general architectural name remapping feature lets you map content to attributes (and visa versa), so you can easily have this form of URLLoc: Which, in HyTime, would be declared like so: !ATTLIST URLLoc ID ID #REQUIRED HREF CDATA #REQUIRED HyTime NAME #FIXED "queryloc" notation (URL) #FIXED "URL" saimpsrc NAME #FIXED "implicit" HyNames CDATA #FIXED "#CONTENT HREF" The "HyNames" attribute is mapping the content to the attribute named "HREF".  </s>
<s> HyTime uses element content by default for things that might naturally be attribute values for two reasons: 1.  </s>
<s> To avoid syntactic limitations on attribute values (length, primarily, which I suppose isn't a problem with XML with effectively unbounded quantities).  </s>
<s> 2. To allow subelements (for example, dimspec, dimref, and markfun elements in extent specifications, which are nominally lists of integers).  </s>
<s> HyTime uses the concept of "resources" to categorize those element types that are only used by reference (and therefore, whose content, if any, would not normally be displayed, certainly not at the location it occurred in the source).  </s>
<s> Cheers, E. W. Eliot Kimber (eliot@isogen.com)  </s>
<s> Senior SGML Consulting Engineer, Highland Consulting 2200 North Lamar Street, Suite 230, Dallas, Texas 75202  </s>
<s> "Rats in the morning, rats in the afternoon...if they don't go away, I'll be re-educated soon..." --Austin Lounge Lizards, "1984 Blues"  </s>
<s> DTD-less instances is a good point and a strong argument for using attributes only when you expect your data to be used in such an environment.  </s>
<s> Of course, even with DTD-less documents, you can still provide the necessary architectural mapping attributes (although they may appear to be redundant to the casual observer, as David points out).  </s>
<s> If the browser understands the architecture *AND* the mapping is there (DTD or not), then it can certainly suppress the presentation of "resources" if necessary.  </s>
<s> Remember too that we're pretty much pre-supposing style sheets for documents (it's difficult to have default presentation behavior for arbitrary DTDs unless those DTDs are mapped to known architectures for which you do have default behaviors).  </s>
<s> Thus, the style sheet can manage suppressing the presentation of resources (e.g., hiding index entries or indirect addressing elements).  </s>
<s> Cheers, E. W. Eliot Kimber (eliot@isogen.com)  </s>
<s> Senior SGML Consulting Engineer, Highland Consulting 2200 North Lamar Street, Suite 230, Dallas, Texas 75202 "Rats in the morning, rats in the afternoon...if they don't go away, I'll be re-educated soon..." --Austin Lounge Lizards, "1984 Blues"  </s>
<s> Remember too that we're pretty much pre-supposing style sheets for documents (it's difficult to have default presentation behavior for arbitrary DTDs unless those DTDs are mapped to known architectures for which you do have default behaviors).  </s>
<s> Thus, the style sheet can manage suppressing the presentation of resources (e.g., hiding index entries or indirect addressing elements).  </s>
<s> I'm not so sure that the authors and editors are ready yet for providing style sheets for every instance they generate.  </s>
<s> Which means that no matter how good XML is, nor how good the browser is at supporting it, someone somewhere is going to need some default presentations, even if it takes the form of some heuristics (after all, guessing that P , PAR , PARA , or PARAGRAPH are likely to be paragraph elements in an unknown and unidentified (possibly non-existent) DTD is, I believe, reasonable).  </s>
<s> I think there will be an interim period between current HTML and eventual XML, a transitional gap where a. a mix of authors write in HTML or pseudo-HTML or BrandX (XML) DTD or make-it-up-as-you-go-along DTDless text, with or without a stylesheet; b. browsers display HTML and pseudo-HTML but may or may not parse other stuff, and may or may not decide either to reject it, or to make the best fist of it they can, based on experience.  </s>
<s> Is it any of our business here to address what needs doing in this gap, or is this someone else's job?  </s>
<s> Cheers, Cheers indeed (looking morosely at the now-empty bottle of 1977 port).  </s>
<s> ///Peter  </s>
