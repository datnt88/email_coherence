<s> Hi,  </s>
<s> I was wondering how side-effects should be implemented during error conditions.  </s>
<s> For example replaceChild removes newChild if it exists and replaces oldChild... But an error occurs if oldChild doesn't exist.  </s>
<s> Is newChild removed for the error case?  </s>
<s> And can you generalize so your answer would consistently apply for side-effects with other errors?  </s>
<s> Thank you.  </s>
<s> Don Hamson  </s>
<s> Bartlett Consulting LLC  </s>
<s> Don Hamson wrote,  </s>
<s> The spec is silent on this, but it's a fairly straightforward quality of implementation issue.  </s>
<s> Ideally if a method call on a given node exits via an exception throw, then that node (and anything else involved in the call) should be left in the state it was in prior to the call.  </s>
<s> Whilst desireable, this might be impossible or impractical in some implementations, in which case minimal exception safety requires that everything involved in the call be left in a consistent state.  </s>
<s> Cheers, Miles Miles Sabin Cromwell Media Internet Systems Architect 5/6 Glenthorne Mews msabin@cromwellmedia.co.uk England  </s>
<s> I think the past consensus has been that if an operation fails, the document should be left unchanged (which may mean either that it isn't changed, or that the change is made and then undone).  </s>
<s> Usually this isn't hard to do, if you're careful about the order in which operations are performed.  </s>
<s> I don't see an explicit promise that it'll work this way in the DOM spec, but I may not be looking carefully enough.  </s>
<s> Joe Kesselman / IBM Research Unless stated otherwise, all opinions are solely those of the author.  </s>
