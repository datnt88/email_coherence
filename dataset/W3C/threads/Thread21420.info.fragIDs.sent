Hi there, 
As I have started to use a private instance of annotea as a basis for an internal project, I have several questions/comments: 
- has it been foreseen to post more than one annotation in one POST request? 
From what I've seen the current W3C Annotea implementation doesn't support this, nor does the protocol [1] seems to allow it (while it doesn't explicitely say so) 
- from what I've seen, the W3C Team private instance of annotea doesn't reply with a 201 code as required by the protocol on the creation of a new annotation: cat annotation-test.rdf 
|POST -Sse -C dom:XXXXX -c application/xml -H "Content-Length:567" http://xxx.w3.org/annotations replies with: POST http://xxx.w3.org/annotations -- 401 Authorization Required POST http://xxx.w3.org/annotations -- 200 OK 
Further more, the response is a text/html document, note an RDF one (but maybe the private instance of annotea is outdated?). 
- the Annotea protocol would benefit from using RFC Keywords, I believe (the should/may words are used, but it's not clear if it is in that meaning; other assertions are made in affirmative style, and it's then unclear what level of requirement they impose). 
- is there any reason why this is not published as a Team submission? 
The annotea system really deserves as much visibility as possible, I think :) 
Dom 
1. http://www.w3.org/2002/12/AnnoteaProtocol-20021219 
Dominique Haza?l-Massieux - http://www.w3.org/People/Dom/ W3C/ERCIM 
[more comments] Le jeu 28/08/2003 ? 
17:10, Dominique Haza?l-Massieux a ?crit 
: 
- it's not clear either what's the minimal set of properties an annotation must have to be accepted by the Annotea server; from what I experienced, it seems that the server doesn't accept annotations that don't have a a:body and a a:context , which the protocol [1] didn't seem to require. 
Dom 
Dominique Haza?l-Massieux - http://www.w3.org/People/Dom/ W3C/ERCIM 
That has been discussed. 
This requires some discussion about how amaya associates annotations with POSTed data. 
annotate does not currently support it, but it souldn't be hard to change. 
*** /tmp/AnnotationApp.pmFri 
Aug 29 11:46:43 2003 --- /tmp/AnnotationApp.pmFri 
Aug 29 11:46:43 2003 *** 198,204 **** my $hostableDesc = $hostQueries- [$iHostQuery]; if ($self- hostAndShow($rdfDB, $presenter, $rdfParser, $engine, $emulateSessionId, $hostableDesc- [0], $hostableDesc- [1])) { $found = $iHostQuery; - last; if ($found  0) { --- 198,203 ---- It may not matter -- if Amaya needs to associate a POST with a response, it can POST them one at a time. 
We can check it out on iggy, the testing server. 
You need to test the latest version which is, um, 30 seconds old. 
Fixed. 
depends on the accept header. 
try application/rdf+xml. 
you mean: "the Annotea protocol SHOULD use RFC Keywords". 
makes sense to me. 
I think it's been mentioned in late night drunken mutterings but 
nothing more concrete than that. 
I'll bring that up, too. 
-eric office: +1.617.258.5741 
NE43-344, MIT, Cambridge, MA 02144 USA cell: +1.857.222.5741 (eric@w3.org) 
Feel free to forward this message to any list for any purpose other than email address distribution. 
I guess it is definetely taking too long by looking the answer :-) 
We have been planning to do a Note about the first protocol doc version for a long time (and as names changed it would be now a team submission). 
It is high in our priority list right now. 
The last thing we need is feedback from you and other Annotea developers on the last questions we have marked in the document. 
Maybe I should send one question at a time to the list and negotiate what to do. 
And double check possible earlier comments. 
We did think carefully about the wordings but, if you can give me exact places where you would prefer that we use stronger keywords that would be helpful. 
Often it is that the protocol doc might not be the exact right place for the strong requirements (although some are there now), we should have another doc for explaining the implementations. 
However, finishing what we have now would probably be a good start. 
We can then add improvements in the next versions. 
For instance, the finalizing the protocol for shared bookmarks and adding attribution information will be a new version. 
Also if there are other comments about problems/errors/typos they are welcome. 
And I would also like to extend the context schema to be able to support SVG outlines for images and time code for video etc. 
I have also heard that some developers have extended XPointer for addressing video and I would like to here from them. 
Marja 
The W3C server sets requirements for things it will accept. 
There is an instance running at earl.w3.org/earl which only accepts things that are valid earl statements as the annotation. 
The protocol doesn't set any requirements - these are additional restrictions imposed by particular servers. 
I'm pretty sure the Zope server sets no restrictions at all. 
cheers Chaals 
Post: 21 Mitchell street, FOOTSCRAY Vic 3011, Australia or W3C, 2004 Route des Lucioles, 06902 Sophia Antipolis Cedex, France 
Le ven 29/08/2003 ? 
18:48, Marja-Riitta Koivunen a ?crit 
: 
A few examples of what I meant about RC 2119 keywords usage: 
"When a client creates a new annotation it posts RDF statements in an XML body that describe the new annotation resource to a selected annotation service. 
The client constructs an HTTP POST message containing the annotation as an anonymous RDF resource." 
In this paragraph, it is not clear what is simply descriptive and what is assertive; reformulating it as follows: 
- To create a new annotation, a client MUST post RDF statements in an XML Body that describe tne new annotation resource to a selected annotation service - the client MUST send an HTTP POST message containing the annotation and the contained annotation MUST be an anonymous RDF resource clarifies what are the real requirements set on what actors of the protocol (note that I made up which of those were actual requirements, and I also made up the force of the requirements). 
Idem for "The annotation service is responsible for allocating a URI for the annotation". 
- The annotation service MUST allocate a URI for the annotation. 
HTH, Dom Dominique Haza?l-Massieux - http://www.w3.org/People/Dom/ W3C/ERCIM 
Le ven 29/08/2003 ? 
17:51, Eric Prud'hommeaux a ?crit 
: 
Thanks ;) 
(I would do it the other way around: unless test/html is specifically requested by the appropriate Accept header, the default answer should be in application/rdf+xml, as required by the protocol). 
Dom Dominique Haza?l-Massieux - http://www.w3.org/People/Dom/ W3C/ERCIM 
