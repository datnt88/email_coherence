<s> Attached are last-call issues raised by the DOM WG with respect to the XQuery 1.0 XPath 2.0 Data Model.  </s>
<s> Please contact the working group for clarifications, etc. Thanks, Ray Whitmer RayDWhitmer@aol.com  </s>
<s> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 / Ray Whitmer raydwhitmer@aol.com was heard to say:  </s>
<s> The DOM Working Group appreciates the attention given to the DOM concerns communicated previously.&amp;nbsp;  </s>
<s> The refactoring of that specification to not rely on functional-looking constructors has done a lot to make the specification easier for us to understand and integrate with DOM concepts.&amp;nbsp;  </s>
<s> At the previous DOM F2F meeting, I was asked to express a number of remaining issues.&amp;nbsp;  </s>
<s> I will refer to XQuery 1.0 and XPath 2.0 Data Model as XPDM2.  </s>
<s> br h2 DOM1 /h2 The DOM WG appreciates the value of the infoset mapping of the model and the work involved in refining it.&amp;nbsp;  </s>
<s> The DOM WG still finds it unfortunate that the XPDM2 cannot rely primarily on an infoset mapping (See original issue 1a Different Data Models in W3C).&amp;nbsp; Issues be avoided, and there could be other mismatches we have missed in our reading of your latest revision.  </s>
<s> br  </s>
<s> These sections have been removed from the 12 Nov draft.  </s>
<s> Be seeing you, norm Norman.Walsh@Sun.COM / XML Standards Architect / Sun Microsystems, Inc. NOTICE: This email message is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  </s>
<s> Any unauthorized review, use, disclosure or distribution is prohibited.  </s>
<s> If you are not the intended recipient, please contact the sender by -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.3 (GNU/Linux) Comment: Processed by Mailcrypt 3.5.8  </s>
<s> http://mailcrypt.sourceforge.net/  </s>
<s> iD8DBQE/skwiOyltUcwYWjsRAnKjAJ0bXdOQeKd7licUDKLlJhPtzWBMRACfbSGy 9RAhyEzDOuUctv5PnfejxOU= =T/4p -----END PGP SIGNATURE-----  </s>
<s> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 / Ray Whitmer raydwhitmer@aol.com was heard to say:  </s>
<s> h2 DOM2 /h2 In XPDM2 4.3.4,  </s>
<s> [namespace attributes] are returned as "the sequence of b namespace information item /b s constructed from the nodes that are present in the difference between the sequence of nodes returned by the span class="function" a href="http://www.w3.org/TR/xpath-datamodel/#dm-namespaces" span class="prefix" dm: /span namespaces /a /span accessor on this element and the sequence of nodes returned by the span class="function" a href="http://www.w3.org/TR/xpath-datamodel/#dm-namespaces" span class="prefix" dm: /span namespaces /a /span accessor of this element's span class="function" a href="http://www.w3.org/TR/xpath-datamodel/#dm-parent" span class="prefix" dm: /span parent /a /span ". br br But [namespace attributes] is information which was not accounted for in XPDM2.&amp;nbsp; Claiming that this information is always the delta seems inaccurate and causes problems.&amp;nbsp;  </s>
<s> If, for example, the data model is built on a model such as DOM which preserves this information, this would seem to force a processor to ignore the more-accurate available information and rely on false information.&amp;nbsp;  </s>
<s> This means that DOM and XPDM2 cannot be seen as views of a single unified data model and may make it quite difficult to produce functions which rely on this information which XPath has lost.  </s>
<s> br br For example, let's say the environment containing the XPath implementation contains a function which verifies a digital signature on a subtree, returning a boolean.&amp;nbsp;  </s>
<s> In terms of XPath, it is impossible to detect whether the signature is correct or not, because the signature is different depending upon exactly where the declaration is in the infoset, between cases which produce identical XPath data.&amp;nbsp;  </s>
<s> The function could gather the rest of the information missing from DOM or some other more-complete infoset representation, but XPath's declaration that it possesses the infoset information which turns out to be flawed confuses and seems to hide the real accurate information that may be required by other infoset operations.  </s>
<s> br br This is a problem seen in other cases in XPDM2, where inaccurate information is used in the mapping to cover for information not carried by XPDM2.&amp;nbsp;  </s>
<s> The infoset mapping should not claim to posses this infoset information which it does not which interferes if the actual information is present.  </s>
<s> br  </s>
<s> These sections have been removed from the 12 Nov draft.  </s>
<s> Be seeing you, norm Norman.Walsh@Sun.COM / XML Standards Architect / Sun Microsystems, Inc. NOTICE: This email message is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  </s>
<s> Any unauthorized review, use, disclosure or distribution is prohibited.  </s>
<s> If you are not the intended recipient, please contact the sender by -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.3 (GNU/Linux) Comment: Processed by Mailcrypt 3.5.8  </s>
<s> http://mailcrypt.sourceforge.net/  </s>
<s> iD4DBQE/skw0OyltUcwYWjsRAucYAJiaJ1URbCqNd4TcS/P591izU93uAJ9q6bx1 HIZ/ufnbf+wiL3ta01rnkw== =MbFQ -----END PGP SIGNATURE-----  </s>
<s> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 / Ray Whitmer raydwhitmer@aol.com was heard to say:  </s>
<s> h2 DOM3 /h2 Also in In XPDM2 4.3.4,  </s>
<s> [namespace attributes] description cited above claims that is constructed as a sequence of [namespace] information items.&amp;nbsp;  </s>
<s> This is not possible because a sequence of [namespace] information items is not at all the same thing as [namespace attributes].  </s>
<s> br  </s>
<s> These sections have been removed from the 12 Nov draft.  </s>
<s> Be seeing you, norm Norman.Walsh@Sun.COM / XML Standards Architect / Sun Microsystems, Inc. NOTICE: This email message is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  </s>
<s> Any unauthorized review, use, disclosure or distribution is prohibited.  </s>
<s> If you are not the intended recipient, please contact the sender by -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.3 (GNU/Linux) Comment: Processed by Mailcrypt 3.5.8  </s>
<s> http://mailcrypt.sourceforge.net/  </s>
<s> iD8DBQE/skxFOyltUcwYWjsRAtM5AJ9UHYjwjX9+8Ubt/wawyRWpgqW0sQCfULbz IeyoZcESwoorcCqzyb1eMO8= =M1KN -----END PGP SIGNATURE-----  </s>
<s> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 / Ray Whitmer raydwhitmer@aol.com was heard to say:  </s>
<s> h2 DOM4 /h2 In XPDM2 4.3.4, it is not clear whether the namespace information is even available as namespace nodes, since that is an optional presentation of namespace information in XPDM2, which may otherwise be available via accessors.  </s>
<s> br  </s>
<s> These sections have been removed from the 12 Nov draft.  </s>
<s> Be seeing you, norm Norman.Walsh@Sun.COM / XML Standards Architect / Sun Microsystems, Inc. NOTICE: This email message is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  </s>
<s> Any unauthorized review, use, disclosure or distribution is prohibited.  </s>
<s> If you are not the intended recipient, please contact the sender by -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.3 (GNU/Linux) Comment: Processed by Mailcrypt 3.5.8  </s>
<s> http://mailcrypt.sourceforge.net/  </s>
<s> iD8DBQE/skxROyltUcwYWjsRAs1rAJwNKnoZEUXVOJfD6O+c/FY4hyPP/QCgsWZK g45cDBilLF/un3FyDNR4X/I= =Bohw -----END PGP SIGNATURE-----  </s>
<s> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 / Ray Whitmer raydwhitmer@aol.com was heard to say:  </s>
<s> The data model exists to support languages and applications that wish to operate on it.  </s>
<s> While it is true that XML Schema provides equivalent types but does not replace or reuse the DTD types, there seems to be no value in preserving that distinction in the data model.  </s>
<s> To do so would suggest that applications could find value in distringuishing between the two flavors.  </s>
<s> In fact, the opposite is true, the fact that two flavors exist means that applications need to test for both kinds of values and act accordingly.  </s>
<s> By building a single data model with only a single flavor of these types, we are providing a significant simplification for all processes that access the data model.  </s>
<s> Be seeing you, norm Norman.Walsh@Sun.COM / XML Standards Architect / Sun Microsystems, Inc. NOTICE: This email message is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  </s>
<s> Any unauthorized review, use, disclosure or distribution is prohibited.  </s>
<s> If you are not the intended recipient, please contact the sender by -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.3 (GNU/Linux) Comment: Processed by Mailcrypt 3.5.8  </s>
<s> http://mailcrypt.sourceforge.net/  </s>
<s> iD8DBQE/skxeOyltUcwYWjsRAuPhAKCMPPNezJwHKZ/kwqxPF8m3NXpGpACgjyLm Hu99TxGb4zEcJNYTvBYBdNA= =e9Ls -----END PGP SIGNATURE-----  </s>
<s> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 / Ray Whitmer raydwhitmer@aol.com was heard to say:  </s>
<s> h2 DOM6 br /h2 In XPDM 4.6.4, [element content whitespace] is purported to be false.&amp;nbsp;  </s>
<s> This is another case like shown in issue DOM2, where there might be a more-complete infoset available which knows the real value of this information and make it available to various functions, rather than forcing the infoset value to be inaccurate.  </s>
<s> br  </s>
<s> These sections have been removed from the 12 Nov draft.  </s>
<s> Be seeing you, norm Norman.Walsh@Sun.COM / XML Standards Architect / Sun Microsystems, Inc. NOTICE: This email message is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  </s>
<s> Any unauthorized review, use, disclosure or distribution is prohibited.  </s>
<s> If you are not the intended recipient, please contact the sender by -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.3 (GNU/Linux) Comment: Processed by Mailcrypt 3.5.8  </s>
<s> http://mailcrypt.sourceforge.net/  </s>
<s> iD8DBQE/skxrOyltUcwYWjsRAob6AJ4/WvcpPAL7eWdIhdEhUSPasB11jQCfUFmL 2KvFMs2N+TCkdFEaWLj6ayE= =aOQJ -----END PGP SIGNATURE-----  </s>
<s> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 / Ray Whitmer raydwhitmer@aol.com was heard to say:  </s>
<s> h2 DOM7 /h2 XPDM2 is often not just an extension of the infoset, but a relaxation.&amp;nbsp;  </s>
<s> A mapping is provided, but no information about what happens to the mapping when the model conflicts with the infoset.&amp;nbsp;  </s>
<s> These issues have been raised before.&amp;nbsp;  </s>
<s> For example, what is the infoset mapping when there are more than one element child nodes of the document node?&amp;nbsp;  </s>
<s> This needs to be clearly specified.&amp;nbsp;  </s>
<s> DOM, does not permit this particular violation of infoset.&amp;nbsp;  </s>
<s> An XPath implementation on top of DOM would not be able to represent this sort of infoset violation.&amp;nbsp;  </s>
<s> This may be true wherever the data model is more relaxed from the infoset.&amp;nbsp;  </s>
<s> In any cases where DOM does not rigorously guarantee a valid infoset, it reconciles deviations during serialization or normalization in a specified way.&amp;nbsp;  </s>
<s> XPDM2 does not seem to do this.&amp;nbsp;&amp;nbsp;&amp;nbsp;  </s>
<s> We need some sort of fix in the XPath specification, if only to be able to easily refer to this sort of infoset relaxation and the inability of some implementations to represent it (as well as the inability of such a model to be serialized as well-formed XML).  </s>
<s> br  </s>
<s> These sections have been removed from the 12 Nov draft.  </s>
<s> Be seeing you, norm Norman.Walsh@Sun.COM / XML Standards Architect / Sun Microsystems, Inc. NOTICE: This email message is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  </s>
<s> Any unauthorized review, use, disclosure or distribution is prohibited.  </s>
<s> If you are not the intended recipient, please contact the sender by -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.3 (GNU/Linux) Comment: Processed by Mailcrypt 3.5.8  </s>
<s> http://mailcrypt.sourceforge.net/  </s>
<s> iD8DBQE/skx4OyltUcwYWjsRAlVAAJwOsTSyzmM7MxeLpYXk+oQzd7OqEACgkR5W u4R7RDaTuQGEyNNdnjlCdIw= =HasQ -----END PGP SIGNATURE-----  </s>
<s> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 / Ray Whitmer raydwhitmer@aol.com was heard to say:  </s>
<s> h2 DOM8 /h2 The DOM API has used a nodeName accessor since level 1 which was further refined as namespace support was incorporated in level 2.&amp;nbsp; The XPDM2 specification seems to have a dm:node-name accessor which behaves quite differently from the DOM accessor.&amp;nbsp;  </s>
<s> We believe that either the value / behavior should match, or a different name should be used to avoid conflict and confusion.  </s>
<s> br  </s>
<s> Accessors in the data model are abstract, they are not intended to be exposed directly in APIs.  </s>
<s> APIs will use the operators and functions defined in the F&amp;amp;O document.  </s>
<s> Therefore no conflict exists.  </s>
<s> Be seeing you, norm Norman.Walsh@Sun.COM / XML Standards Architect / Sun Microsystems, Inc. NOTICE: This email message is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  </s>
<s> Any unauthorized review, use, disclosure or distribution is prohibited.  </s>
<s> If you are not the intended recipient, please contact the sender by -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.3 (GNU/Linux) Comment: Processed by Mailcrypt 3.5.8  </s>
<s> http://mailcrypt.sourceforge.net/  </s>
<s> iD8DBQE/skyHOyltUcwYWjsRAtkSAJ998nS+shuPmKRTnm8oqtGbRHmiKQCgokK1 5IL2ZjY8q6iJhlSqUWxugC8= =ydwi -----END PGP SIGNATURE-----  </s>
