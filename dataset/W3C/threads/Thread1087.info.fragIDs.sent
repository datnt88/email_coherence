<s> Dang.  </s>
<s> I didn't know that!  </s>
<s> Thanks for letting me know.  </s>
<s> Glad you were able  </s>
<s> to get it working.  </s>
<s> I updated the FAQ for --doctype to note that "omit" implies --numeric-entities yes.  </s>
<s> take it easy, Charlie  </s>
<s> I gave you the config file extracted from html-kit with no change.  </s>
<s> That's why some options were not found.  </s>
<s> I tried to run tidy with no config file, and &amp;eacute; worked.  </s>
<s> I tried to locate the option that make it wrong, and found it !  </s>
<s> : there was "doctype: omit" !!! Thanks for your help  </s>
<s> There never was a "raw" config file option.  </s>
<s> You want --char-encoding raw.  </s>
<s> Also, add-xml-pi was deprecated in favor of --add-xml-decl, which does the same thing: adds an XML declaration.  </s>
<s> Btw, if you use raw character encoding, you shouldn't get any character entities at all.  </s>
<s> You really just want the default: ASCII If you are still having problems, please send the input and config files as attachments.  </s>
<s> For whatever reason, the HTML content gets stripped somewhere along the line.  </s>
<s> take it easy, Charlie  </s>
<s> Riccardo Cohen Articque Les Roches 37230 Fondettes France email = rcohen@dial.oleane.com  </s>
<s> web = http://www.articque.com  </s>
<s> Hi Riccardo,  </s>
<s> In HTML, the DOCTYPE is actually required; see "A valid HTML document declares what version of HTML is used in the document.  </s>
<s> The document type declaration names the document type definition (DTD) in use for the document (see [ISO8879])."  </s>
<s> The DTD (whether strict, transitional, or frameset) contains a reference to "HTMLlat1.ent", which contains the ISO Latin 1 character entities, so without the DOCTYPE, you can't always expect an HTML parser to know about entities.  </s>
<s> This may not be an explanation of the behaviour of Tidy, but it's relevant to parsing generally.  </s>
<s> Regards, Christophe  </s>
<s> I believe it is.  </s>
<s> In all versions of HTML, the basic set of Latin 1 named entities are supported.  </s>
<s> A missing DOCTYPE shouldn't preclude their use.  </s>
<s> Starting with HTML 4, a large number of additional named entities are supported.  </s>
<s> These should probably be allowed only for markup identified as (and perhaps verified to actually be) HTML 4 or later.  </s>
<s> The code to determine the version level of a particular entity is not included in Tidy Classic, so I think the code is defaulting to known safe behavior in all browsers.  </s>
<s> I added entity version info to TidyLib.  </s>
<s> So, technically, this would be an enhancement request.  </s>
<s> take it easy, Charlie  </s>
<s> I gave you the config file extracted from html-kit with no change.  </s>
<s> That's why some options were not found.  </s>
<s> I tried to run tidy with no config file, and &amp;eacute; worked.  </s>
<s> I tried to locate the option that make it wrong, and found it !  </s>
<s> : there was "doctype: omit" !!!  </s>
<s> by the way, is this a bug in tidy, or is it normal that without doctype, &amp;eacute; cant be generated ?  </s>
<s> (from my point of view this behavior is not normal, but I dont know very well standards)  </s>
<s> Thanks  </s>
<s> I gave you the config file extracted from html-kit with no change.  </s>
<s> That's why some options were not found.  </s>
<s> I tried to run tidy with no config file, and &amp;eacute; worked.  </s>
<s> I tried to locate the option that make it wrong, and found it !  </s>
<s> : there was "doctype: omit" !!! Thanks for your help  </s>
<s> Riccardo Cohen Articque Les Roches 37230 Fondettes France email = rcohen@dial.oleane.com  </s>
<s> web = http://www.articque.com  </s>
<s> Riccardo Cohen Articque Les Roches 37230 Fondettes France email = rcohen@dial.oleane.com  </s>
<s> web = http://www.articque.com  </s>
<s> Entities are declared in the document type definition.  </s>
<s> If you do not reference the DTD ("no doctype"), the entities are not declared and thus SGML tools (and for XHTML, XML tools) will reject the document due to references to undeclared entities.  </s>
<s> Tidy does not output named character references (entity references) to avoid this situation, so, yes, this is "normal".  </s>
