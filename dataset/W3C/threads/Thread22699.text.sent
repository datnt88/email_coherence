I can't find the a definition of what exactly constitutes a 'malformed qualfied name'. 
Many methods of the DOM API (like DOMImplementation.createDocument) should raise NAMESPACE_ERR if the qualified name is malformed. 
There is one method In OSS implementations of the DOM (like Xerces), the qualfied name is considered malformed if it contains more than one colon or if the colon is the first or last character of the qualfied name. 
I would think that would raise an INVALID_CHARACTER_ERR instead though, as the XML Namespaces specification defines the local name and prefix parts as the same as XML names without the colon. 
I suspect that INVALID_CHARACTER_ERR only should be raised when the qualified name is not a valid XML Name (including colons), and NAMESPACE_ERR when the colon is misplaced or there is more than one colon. 
Node.prefix should raise NAMESPACE_ERR if the prefix is malformed. 
Again, when should NAMESPACE_ERR be raised, and when should INVALID_CHARACTER_ERR be raised? 
A qualfied name, according to the XML Namespaces spec, should never include a colon, so I don't see when a NAMESPACE_ERR applies. 
Martijn Pieters Software Engineer mailto:mj@digicool.com 
Digital Creations http://www.digicool.com/ 
Creators of Zope http://www.zope.org/ 
Qualified names are defined by the Namespaces Recommendation: Joe Kesselman / IBM Research Yes, but when should an INVALID_CHARACTER_ERR be raised, and when a NAMESPACE_ERR? 
For example, is ':localName' malformed or is ':' an invalid character in this case. 
Is 'foo:bar:baz' malformed, or again, is one colon an invalid character? 
In the case of the Node.prefix attribute, will setting it to 'foo:bar' raise an INVALID_CHARACTER_ERR (':' is an invalid character according to the prefix production), or should I expect a NAMESPACE_ERR? 
Martijn Pieters Software Engineer mailto:mj@digicool.com 
Digital Creations http://www.digicool.com/ 
Creators of Zope http://www.zope.org/ 
These names are legal, though ill-advised, in basic XML. 
They aren'twell-formed QNames, so they're illegal in Namespaces. 
NAMESPACE_ERR would seem most accurate and most helpful to the developer. 
Joe Kesselman / IBM Research Thanks for the clarification. 
We'll raise NAMESPACE_ERR on invalid colon use. 
Martijn Pieters Software Engineer mailto:mj@digicool.com 
Digital Creations http://www.digicool.com/ 
Creators of Zope http://www.zope.org/ 
