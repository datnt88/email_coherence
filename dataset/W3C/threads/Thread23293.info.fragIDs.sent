<s> Dear all!  </s>
<s> I propose to use the Java collections framework in the interface for the NamedNodeMap and the NodeList.  </s>
<s> The both should have the method public Collection getNodes(); The advantage of using the collection framework are manifold: - Takes care for concurrent modifications (while iterating over the collectioin).  </s>
<s> - Provides useful methods for collections (like sorting) - The collection framework is natural to use in Java In addition I propose to deprecate the method public Node getItem(int anIndex) at the NamedNodeMap because it is akward to implement and is only meant to have a convient way to iterate over the nodes.  </s>
<s> But this is exactly no longer necessary when the collections framework is used.  </s>
<s> Thanks for your attention, --Stefan  </s>
<s> Won't happen.  </s>
<s> Part of the point of the DOM is portability; changing basic APIs at this late date would break that.  </s>
<s> Also, you're neglecting the fact that DOM NodeLists and NamedNodeMaps have some behaviors which differ from those of the Java collections -- liveness and namespace sensitivity are the most obvious ones.  </s>
<s> You can certainly use the Java collections framework _inside_ an implementation of the DOM.  </s>
<s> But the whole point of an API is that it defines very specific names and behaviors.  </s>
<s> If you change those, you have not implemented the same API.  </s>
<s> Joe Kesselman / IBM Research  </s>
<s> It should also be noted that the Java Collection Classes are only one _suggested_ API that Java developers may want to use for their own convenience.  </s>
<s> Doing something different is not "noncompliant" any more than departing from the strict subset that a "clean" Java Bean is supposed to restrict itself to... and there are lots of Java objects out there, including many in Java's own libraries, which are not "clean beans".  </s>
<s> Java's lack of templates (or any other kind of code preprocessor) does mean that there may be some additional advantages to trying to use the same interfaces everyone else is using.  </s>
<s> But y'know, it really isn't any harder to design a convenience layer that wraps around the DOM APIs to expose them as Java Collections... and if you do it that way, you have the advantage that this layer can be ported to other environments as well.  </s>
<s> For example, if you want a DOMChildrenEnumerator, it's really pretty darned trivial to wrap one around either NodeList, NodeIterator, or TreeWalker (depending on which behavior you want under document mutation).  </s>
<s> If you really think this would be an important thing to add to the DOM, the best way to motivate that change would be to write such a glue layer, use it to establish which behaviors the users really want (and to show that there really is sufficient demand for those functions), and then demonstrate to the DOM WG that it is either sufficiently important architecturally or would achieve significant additional optimization -- preferably both -- if the DOM was enhanced to specifically support that usage model.  </s>
<s> I'm actually not completely opposed to extending the Java API (not that I have any say in the matter these days), but I really don't see a concrete benefit to be gained that a convenience library couldn't deliver just as well... or better.  </s>
<s> Joe Kesselman / IBM Research  </s>
