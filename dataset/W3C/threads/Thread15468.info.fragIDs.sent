<s> Jason and myself have been looking at the issue Al calls "Text descriptions and alternatives for images" in his HC-plan page (http://www.access.digex.net/%7Easgilman/web-access/HC-plan.html).  </s>
<s> Reviewing made us realize that Dave had already been improving the spec.  </s>
<s> In particular, it does take care of the wording concern (not being explicit enough about the use in non-graphical environments) Jason raised a while ago.  </s>
<s> We think we still need to add of something like: In order to allow arbitrary anchor (such as long textual description) in the OBJECT shapes content, OBJECT should only looks for A that have a "coords" attributes and ignore the others when building the image map.  </s>
<s> Even though we think this will be the case by default: no coord = no relevance for the image map and therefore no use.  </s>
<s> We think the MAP extension is not to be pursued, as it's not backward compatible for old browsers and would require the use of hacky comment techniques to gain support.  </s>
<s> We think we should ask the LONGDESC for IMG, the reasoning being that it's simpler to implement than OBJECT and so we should see implementation in Lynx/WebSpeak/Emacs sooner than expected and the benefit of the functionatily present for users.  </s>
<s> We do want FRAME to get a real TITLE attribute and a LONGDESC too, the reasonning being that FRAME becomes equivalent to IMG in that situation (result in inlining the image).  </s>
<s> Additionally, we think the note on generating ALT text automatically: should be improved to say that some prefix will be added to the generated alt text when the author is not responsible for it, so that the user know what quality to expect.  </s>
<s> We also think this section should be moved in the Browser guideline book, not in the HTML spec.  </s>
<s> to follow up on what Daniel Dardailler said:  </s>
<s> [snip]  </s>
<s> I don't think that is browser behavior.  </s>
<s> Tags that are not recognized are ignored.  </s>
<s> Content of unrecognized elements, on the other hand is displayed because their containers are ignored and the content could as well be text/plain.  </s>
<s> I don't understand why plain text as content in an OBJECT doesn't have the same problem with old browsers as plain text in the content of a MAP.  </s>
<s> I hope Dave can clarify this point.  </s>
<s> I believe that for LONGDESC to be a solution, there must be some default browser behavior defined.  </s>
<s> I believe that there is not consensus on this point, nor on what the default behavior is.  </s>
<s> There is a smaller issue as to whether the HTML spec or a separate document is the place to publish the default behavior.  </s>
<s> That point will generate more discussion, you will need to explain it.  </s>
<s> -- Al  </s>
<s> In response to Al's query, it should be pointed out that although the content of OBJECT is normally ignored if the resource which it designates (for example an image or a script) can be processed, this is not the case with an image map for which the boolean SHAPES attribute is specified.  </s>
<s> Under these circumstances, the visual user agent processes the content of OBJECT, searching for anchors that provide the coordinates of the various regions of the image map.  </s>
<s> The text of the HTML specification, as currently drafted, does not make this point sufficiently clear (it states that a visual user agent will process the content of OBJECT, looking for anchors; whereas it should qualify this by saying "anchors with COORDS attributes").  </s>
<s> This is a minor point relating to the accuracy of the specification which is not directly an accessibility concern.  </s>
<s> Moving to Al's more substantive concern, Daniel and I have given some consideration to how LONGDESC should be presented to the user.  </s>
<s> The general conclusion is that it should be controlled by style sheets.  </s>
<s> In practice, of course, LONGDESC behaviour would most often be specified by the user's default style sheet, since most document authors are unlikely to make specific provision in their style sheets for non-visual media, even if they take advantage of LONGDESC itself.  </s>
<s> LONGDESC would, in general, act as a link to the description, which would be placed at the end of the current document or, more typically, in a separate document.  </s>
<s> The presence of LONGDESC could be signaled to the user by changing the speech or braille formatting of the ALT text associated with the image, or by inserting text next to the ALT text (for example the familiar "[D]" to indicate the availability of a description).  </s>
<s> There are, of course, limitations of CSS 2 syntax which prevent the rendering of LONGDESC from being controlled effectively by styles.  </s>
<s> Daniel  </s>
<s> is investigating these problems at the moment to find out whether they will be resolved as part of the ongoing CSS development work.  </s>
<s> An alternative would be to require the user agent to convert an image with LONGDESC into an equivalent OBJECT element prior to applying styles to the document.  </s>
<s> Such an OBJECT would have a class of LONGDESC, and automatically generated content (for example, an anchor containing the text of the ALT attribute from the original image).  </s>
<s> The OBJECT could then be addressed by familiar CSS selectors.  </s>
<s> Personally, I would prefer to extend CSS so as to permit the rendering of LONGDESC to be specified directly, instead of relying on user agents to transform img src="image.gif"  </s>
<s> alt="alt text" longdesc="description.html"  </s>
<s> into object data="image.gif"  </s>
<s> a class="longdesc" href="description.html"  </s>
<s> ALT text /a /object or similar markup.  </s>
<s> Note that an alternative approach would be to import the contents of description.html in the above example directly into the document.  </s>
<s> To meet short term requirements, the types of behaviour mentioned above could all be proposed as alternatives which text-based user agents could implement, even if they do not support style sheets.  </s>
<s> to follow up on what Jason White said:  </s>
<s> That may be the only option.  </s>
<s> It makes all the difference in the world to the writer of that resource what is going to be done with it.  </s>
<s> If it is an inline like OBJECT DATA=... you do one thing.  </s>
<s> If it is going to be turned into a link, you write something else.  </s>
<s> For a hypertext resource that will be browsed as its own page, you may well include a reminder on how to get back using your browser "back" function, or you include lots of pro-forma stuff that goes with being a page on your site.  </s>
<s> This would not be included in a resource designed to be applied inline.  </s>
<s> From the author perspective it is unacceptable to have no idea of what "normally" is going to happen with what you are writing.  </s>
<s> If you can't tell the authors that, they likely won't write it.  </s>
<s> We will be more effective if we can be reasonably definite.  </s>
<s> -- Al  </s>
<s> Al has made a good point, but I would maintain that it can be accommodated without unduly restricting the user's freedom to choose the means by which he or she wishes the long description to be rendered.  </s>
<s> The navigational aspects of LONGDESC should be handled exclusively by the user agent.  </s>
<s> For example, if LONGDESC is treated as a link, the user agent should prompt the user to press a particular key in order to return to the underlying HTML document.  </s>
<s> This should not be the responsibility of the author of the long description.  </s>
<s> If a long description contains a title followed by the text of the description, then it can just as easily be read as part of the document or accessed via a link, provided in the former case that the user agent signals the start and end of the dLONGDESC resource, for instance with an audio cue.  </s>
<s> Of course, long descriptions should be indicated in a way that distinguishes them from ordinary links; but the details should be left to the discretion of the user agent developer.  </s>
<s> All that the author needs to provide is an HTML document containing a title (which is obligatory in any event) and a text which, if read as part of the principal document at the point where the image appears, would convey the same content as the image itself, bearing in mind the purpose of the graphical resource and the context of the principal document.  </s>
<s> For image maps, the only assumption that need be made is that the ALT text associated with each active region can be conveniently read by the user, before or after reading the long description.  </s>
<s> HTML 4.0 formally excludes OBJECT from occurring within PRE.  </s>
<s> As a result, text within an OBJECT element would be rendered as text within the BODY or P elements -- white space sequences including newlines mapped to a space character etc.  </s>
<s> default for which browsers?  </s>
<s> For Netscape and Internet Explorer, I believe we can readily get them to make this attribute available to scripts and programs in languages such as Java that walk the parse tree using the features being exposed via the Document Object Model.  </s>
<s> It will be practical to develop tools for people with accessibility problems that leverage  </s>
<s> the scripting interfaces to visual browsers.  </s>
<s> I don't think MS or NS will want to do much specifically for screen readers, as these are seen as something of an anachronism.  </s>
<s> For browsers specially designed for non-visual rendering, I would expect them to render the longdesc attribute appropriately, and under user control.  </s>
<s> For instance images could be rendered by a sound icon plus the alt text.  </s>
<s> The user would be able to ask for the longdesc text if he or she so desired, e.g. via a spoken command or key press.  </s>
<s> Regards, -- Dave Raggett dsr@w3.org  </s>
<s> http://www.w3.org/People/Raggett World Wide Web Consortium (on assignment from HP Labs)  </s>
<s> It is planned for CSS to include the ability to pickup attribute values and to render them appropriately.  </s>
<s> Longdesc is trickier in that it is a hypertext link and either needs to be presented as such or deferenced in flow.  </s>
<s> We could perhaps add the ability for CSS to create objects that serve as hypertext links.  </s>
<s> For speech I imagine this would be a new property of the speak property.  </s>
<s> It would be cool to use the alt text as the label for the link implied by the associated longdesc attribute, perhaps along with sound icons, corresponding to the visual underlining of links.  </s>
<s> Regards, -- Dave Raggett dsr@w3.org  </s>
<s> http://www.w3.org/People/Raggett World Wide Web Consortium (on assignment from HP Labs)  </s>
<s> Jason and Daniel, please note:  </s>
<s> As a result, I don't see how OBJECT gives us a conditional hypertext block that gets inlined when the image is not displayed and hidden when the image is displayed (but accessible to an off-screen model by attribute query).  </s>
<s> We may need to define both LONGDESC for a normally-minimized (i.e. displayed on the current page as a link, sometimes) HTML resource and ALTSRC which is defined as an URL to be inlined in lieu of the image when the image is not displayed.  </s>
<s> We would then have to change the completeness rules so that either ALT or ALTSRC was required, not ALT is required regardless.  </s>
<s> -- Al  </s>
<s> to follow up on what Dave Raggett said:  </s>
<s> There could be different defaults for different functional classes of browsers, but the one the authors will care about is the class of browsers operating in the "screen" medium.  </s>
<s> The GUI browsers.  </s>
<s> That is not a position I can represent as reasonable to the Interest Group.  </s>
<s> I would be lynched.  </s>
<s> Furthermore, inlining a full-hypertext alternative to some image is an improvement for any user with left-brain preference, not just those with screen readers.  </s>
<s> -- Al  </s>
<s> Today with NS 4.03 This is a smiling clown, undoubtably a sad clown ... You see the text contained by the object element, since NS 4.03 doesn't yet know how to deal with gif images in OBJECT.  </s>
<s> Lets assume that a new version 4.0x does support gif, then when you turn off images to speed loading, the browser would instead show you the text, perhaps with an inserted hypertext link to retrieve the image.  </s>
<s> This behaviour is of course UA dependent.  </s>
<s> None of this effects the arguments for longdesc, which is about how to allow authors to make pages, designed for the vast numbers of browsers out there that don't support HTML 4.0, accessible.  </s>
<s> For this we are introducing features that new browsers can exploit, but which have no impact on existing browsers and so can be safely used in pages intended for existing browsers.  </s>
<s> Regards, -- Dave Raggett dsr@w3.org  </s>
<s> http://www.w3.org/People/Raggett World Wide Web Consortium (on assignment from HP Labs)  </s>
<s> There is no need to define any default browser behaviour for the rendering of LONGDESC, other than in very general terms.  </s>
<s> The details should be left to the discretion of the user and the software developer.  </s>
<s> The essential point is that the HTML document to which the attribute refers will be presented at the point in the principal document where the image would otherwise appear, either automatically or at the request of the user.  </s>
<s> The presence of LONGDESC will be indicated appropriately by the user agent, for example by means of an audio cue, a special marker in the text (like the D-link) etc.  </s>
<s> For GUI browsers, the presence of LONGDESC should be exposed to external applications such as braille and audio output software.  </s>
<s> I agree with Al that GUI browsers should also indicate LONGDESC visually if graphics have been turned off.  </s>
<s> However, being mindful of Dave Raggett's warnings, DOM exposure should be taken as a minimal requirement; inclusion as an option in the visual interface is an extra demand that can be made, though we know in advance that it is likely to be rejected.  </s>
