FYI, Peter found a few bugs with the DOM Level 1 tests/framework: If someone can have a look at them, that would be nice, Philippe 
I've closed all three bugs as fixed. 
One was a stray attribute in the build.xml 
file, another was an description that was not consistent with the body of the the test. 
The third bug, http://www.w3.org/Bugs/Public/show_bug.cgi?id=261, involved hc_nodeinsertbefore.xml which was a transliteration of the XML-specific test nodeinsertnode.xml. 
The setup of the test depended on the preservation of the whitespace between the p and em elements in the following fragment: XML processors and Mozilla's HTML implementation would preserve the whitespace node, Konqueror and IE would eliminate the whitespace node. 
I've changed the test so it not affected by elimination of the whitespace node. 
If eliminating the whitespace node should be considered non-conformant, 
then a distinct test should be written to check for the behavior. 
However, it would appear to be a reasonable application-specific optimization of the content. 
Philippe I've committed the changes to the characterdata tests that didn't match their test descriptions described in Bug #343. 
Tests modified: characterdataindexsizeerrdeletedatacountnegative.xml characterdataindexsizeerrinsertdataoffsetgreater.xml characterdataindexsizeerrinsertdataoffsetnegative.xml characterdataindexsizeerrreplacedatacountnegative.xml characterdataindexsizeerrreplacedataoffsetgreater.xml 
Any problems or questions please let me know. 
Rick Rivello 
HTML does handle whitespaces differently though. 
Konqueror and IE might use their HTML parser to load the XHTML. 
It might be a media type issue actually: if the XHTML document is parsed as "application/xhtml+xml" then the implementation must follow the rules of XML. 
If the document is parsed as "text/html", then HTML must followed. 
If the document is loaded from the disk, it does not have a media type, so Mozilla, Konqueror and IE are not wrong. 
Philippe 
