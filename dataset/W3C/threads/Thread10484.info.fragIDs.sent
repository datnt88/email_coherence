<s> While fixing a silly mistake in the MT document, I noticed the following.  </s>
<s> We require that RDF graphs contain no redundancies in the sense that the same triple cannot occur more than once in the graph.  </s>
<s> However, they can contain redundancies in the sense that a triple with a bnode in it can be duplicated with a different bnode, even though the resulting triples would look the same in a graph diagram.  </s>
<s> The resulting graph has no extra information in it, but this quirk allows an RDF graph to have infinitely many consequences.  </s>
<s> For example, a single triple a p b .  </s>
<s> has infinitely many consequences; _:x p b .  </s>
<s> a p _:y .  </s>
<s> _:z1 p _:z2 .  </s>
<s> _:z3 p _:z4 .  </s>
<s> -:z5 p _:z6 .  </s>
<s> where all these bnodes are distinct; see attached jpeg.  </s>
<s> My question is, does the WG feel that it might be worth ruling this out as a syntactic possibility?  </s>
<s> If this kind of bnode-duplication were ruled out, then the set of graphs simply entailed by any RDF graph would be finite.  </s>
<s> That would generalize the no-duplicate-triples condition implicit in our definition of a graph  </s>
<s> as a set, to treat triples which 'look' the same when you erase the bnode labels as though they literally were the same.  </s>
<s> Pat  </s>
<s> IHMC(850)434 8903 or (650)494 3973 home 40 South Alcaniz St.(850)202 4416 office FL 32501(850)291 0667 cell phayes@ihmc.us  </s>
<s> http://www.ihmc.us/users/phayes  </s>
<s> From an implementation perspective, I'd be concerned about ruling out redundant bnode triples as syntactically disallowed.  </s>
<s> I think this would make the implementation of merging two syntactically-valid graphs very much more difficult (but not impossible).  </s>
<s> Is there not an approach you can follow more similar to your use of "tidy"  </s>
<s> RDF graphs, in which you demonstrate that for any RDF graph there is a minimum reduced form of that graph that is semantically equivalent, and then base your developments and proofs on that form?  </s>
<s> Hmmm... maybe it's not that easy.  </s>
<s> Consider: ex:s ex:p1 _:a ex:s ex:p2 _:a ex:s ex:p2 _:b ex:s ex:p3 _:b how does one tell that the ex:s ex:p2 _:a ex:s ex:p2 _:b are not redundant?  </s>
<s> I think it is, at least, necessary to reason over the graph as a whole rather than isolated triples.  </s>
<s> E.g. defining auxiliary functions: usePart a G notPart a G whose values are the subgraphs of G each of whose triples contain / do not contain the node 'a' in some role, and [a/b]G whose value is G with every occurrence of 'a' replaced by 'b', one can define some conditions on reducibility of a graph: if [_:a/_:b]usePart _:a G `subset` usePart _:b G then (notPart _:a G) is semantically equivalent to G. (Proof  </s>
<s> sketch: suppose there is an interpretation that makes G true, then  </s>
<s> (usePart _:b G) is true for some denotation of _:b (by conjunction and defn of interpretation), then the same value used as a value for _:a and _:b makes (usePart _:a G) true.  </s>
<s> Hence the truth of (usePart _:a G) under any interpretation does not change the truth of G under the same interpretation.)  </s>
<s> And so on.  </s>
<s> I think that as soon as one does not reason in terms of the graph as a whole, such conclusions cannot be drawn, because it's always possible that there's some other triple in the graph that makes a selected subset non-redundant for some interpretation.  </s>
<s> #g Graham Klyne PGP: 0FAA 69FF C083 000B A2E9 A131 01B9 1C7A DBCA CB5E  </s>
<s> Yes. and after sleeping on it, I think its best not to tinker with the syntax at this stage in any case.  </s>
<s> And I am pretty sure that I can handle the problem without doing anything so drastic.  </s>
<s> So, Never Mind.  </s>
<s> Pat  </s>
<s> IHMC(850)434 8903 or (650)494 3973 home 40 South Alcaniz St.(850)202 4416 office FL 32501(850)291 0667 cell phayes@ihmc.us  </s>
<s> http://www.ihmc.us/users/phayes  </s>
<s> NP complete - you can embed the subgraph isomorphism problem.  </s>
<s> Jeremy  </s>
<s> NO The problem of eliminating such blank nodes is plausibly NP complete.  </s>
<s> Certainly GI complete, i.e. exponential.  </s>
<s> (See related work on irredunancy of conceptual graphs Michel Chien et Marie-Laure Mugnier, Conceptual Graphs: fundamental notions in Revue d'Intelligence Atificielle, Vol 5, no 4, 1992, pp 365-406.  </s>
<s> most applicable to RDFS though)  </s>
<s> Jeremy  </s>
<s> Actually, I think its only cubic.  </s>
<s> for each bnode B for each triple T containing B if there is a triple instantiating T, remove T loop loop But OK  pretend I never mentioned it.  </s>
<s> Pat  </s>
<s> IHMC(850)434 8903 or (650)494 3973 home 40 South Alcaniz St.(850)202 4416 office FL 32501(850)291 0667 cell phayes@ihmc.us  </s>
<s> http://www.ihmc.us/users/phayes  </s>
<s> NP Take two directed graphs G and H Construct an RDF Graph R as follows.  </s>
<s> Let the nodes of R = V(G) U V(H) U { g, h, x } (all distinct blank nodes) Let the triples of R all have predicate rdf:value (which we will omit) Let the triples of R be E(G) U E(H) U { g, g' | g' in V(G) } U { h, h' | h' in V(H) } U { x, g , x, h }  </s>
<s> then if R is irredundant we have that H is not a subgraph of G.  </s>
<s> The directed subgraph problem is NP complete, which forms the interesting 90% of a proof of NP complexity of RDF graph irredunancy.  </s>
<s> Your approach neglects the long distance interactions involved in blank node structures.  </s>
<s> Jeremy  </s>
<s> But not necessarily the reverse.  </s>
<s> For example let G be  </s>
<s> and H be then the instance a=d and b=e gives a redundancy (instance which is a proper sub-RDFgraph) but H and G are not subgraphs of each other.  </s>
<s> Those seem irrelevant since we can detect instantiation locally.  </s>
<s> One does not need to get into the subgraph problem.  </s>
<s> The only question you have to ask is, is this triple redundant?  </s>
<s> The way to find that out is to see if it can be instantiated into another triple in the graph, which can take at most one check per other triple.  </s>
<s> If it can, then delete it, remember the instance mapping, and start again from the top.  </s>
<s> If it can't, try the next triple.  </s>
<s> You can detect irredundancy in n|2 checks of one triple instantiating another.  </s>
<s> The graph gets smaller each time, so generating an irredundant subgraph is going to be polynomial at worst (not sure what degree, to be honest, but I think cubic, maybe n|3 logN or something like that.) It doesn't matter if you delete triple T1 because it instantiates to T2, then later also delete T2, since if T2 instantiates to T3 then so would T1 have done: instance is transitive.  </s>
<s> Pat  </s>
<s> IHMC(850)434 8903 or (650)494 3973 home 40 South Alcaniz St.(850)202 4416 office FL 32501(850)291 0667 cell phayes@ihmc.us  </s>
<s> http://www.ihmc.us/users/phayes  </s>
<s> Jeremy:  </s>
<s> Pat:  </s>
<s> (that is true ...)  </s>
<s> R (on my construction is) x g x h g a g b g c h d h e h f a b b c c a d e e f d f R' (replacing a=d b=e) x g x h g a g b g c h a h b h f a b b c c a a b (duplicate) b f a f doesn't look anything like a subgraph.  </s>
<s> Even if you ignore all the triples I added it doesn't S a b b c c a d e e f d f S' a b b c c a b f a f S' contains a node (b) which has two outbound edges and one inbound edge, unlike S.  </s>
<s> irredunancy is not a local phenomenon - I need to work on my NP completeness  </s>
<s> proof but you've more work to do on your P proof! (Note to rest of group these pairs are in fact triples with a missing rdf:value in the middle; and all the nodes are blank - this might have something to do with RDF)  </s>
<s> Jeremy  </s>
<s> Hmmm... what am I missing?: ex:s1 ex:p1 _:b1 (1) _:b1 ex:p1 _:b2 (2) _:b2 ex:p1 ex:o3 (3) So the triple (2) can be instantiated as either (1) or (3), so it's redundant, hence can be deleted.  </s>
<s> But in so doing, we lose the information that there is a graph path: ex:s1 --ex:p1- ?  </s>
<s> --ex:p1- ?  </s>
<s> --ex:p1- ex:o3 #g  </s>
<s> BTW, Jeremy, is there an easy and efficient way to use your graph  </s>
<s> isomorphism algorithm to determine if G1 is isomorphic to a subgraph of G2?  </s>
<s> Graham Klyne PGP: 0FAA 69FF C083 000B A2E9 A131 01B9 1C7A DBCA CB5E  </s>
<s> No, Graph Isomorphism is believed to be truely easier than NP; whereas subgraph isomorphism is known to be NP Having said that, the algorithm are referring to is a long way short of the state of the art in GI (see nauty)  </s>
<s> Jeremy  </s>
<s> OK, I see my error.  </s>
<s> Never Mind.  </s>
<s> Quite.  </s>
<s> Because although instantiation is transitive and so is subgraph, it can still be the case that an instance of a non-subgraph instance is a subgraph.  </s>
<s> So there is no cheap way to avoid doing a check of all subgraphs; which is NP.  </s>
<s> I was under the delusion that one could search by backtracking down the instances, but that will miss some cases.  </s>
<s> Still might be room for a cleverer algorithm, but maybe I wont try to solve P+NP this week.  </s>
<s> It means that being a lean graph is potentially a very costly property to check, whereas I thought it was fairly trivial.  </s>
<s> Which means that in general, checking non-entailment between two graphs is potentially expensive.  </s>
<s> Pat IHMC(850)434 8903 or (650)494 3973 home 40 South Alcaniz St.(850)202 4416 office FL 32501(850)291 0667 cell phayes@ihmc.us  </s>
<s> http://www.ihmc.us/users/phayes  </s>
<s> Pat:  </s>
<s> Agreed - simple entailment is probably NP complete (I am not absolutely sure: the subgraph isomorphism problem (which is NP) is closely related, but I do not have an exact embedding).  </s>
<s> The result for conceptual graphs (irredunancy is NP complete) is probably applicable to RDFS entailment, but again it is real work to show this.  </s>
<s> Jeremy  </s>
