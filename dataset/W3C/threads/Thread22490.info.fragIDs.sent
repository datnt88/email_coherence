<s> Hi! Here are 3 comments to the 0720 spec. 1) Why isn't there an enumerated NodeType in the Node interface?  </s>
<s> It's all unsigned short constants.  </s>
<s> Isn't it better to have a defined enum type for the return value of the method nodeType in the Node interface?  </s>
<s> Your descriptions even says: "the IDL specification uses an enum", in the description of the nodeType method.  </s>
<s> 2) Shouldn't the item method in NodeList raise an exception when the index is out of range?  </s>
<s> 3) Shouldn't wstring be domString or something like that, so that it will not interfere with IDL's builtin wstring type?  </s>
<s> wstring is defined as a sequence of wchars, which is fine.  </s>
<s> IDL's builtin wstring is defined differently which might give a lot of problems.  </s>
<s> We have discussed this before, and I was told that wstring would be changed to domString or something.  </s>
<s> Cheers ANOQ of the Sun / Johnny Andersen E-Mail: anoq@vip.cybercity.dk or anoq@berlin-consortium.org Homepage: http://users.cybercity.dk/~ccc25861/  </s>
<s> re point 1: Not all languages support enumerations per se.  </s>
<s> (Java's one obvious example that doesn't, and the C implementation is not much more than a self-calculating set of #defines.)  </s>
<s> I agree that in languages which do have this feature, and especially in those which perform typechecking on enums, providing the "named constants" in that form would be appropriate.  </s>
<s> But I'm not sure how one formally states language-specific alternatives in this sort of spec.  </s>
<s> (This brings up an interesting question.  </s>
<s> If a user subclasses the DOM objects, are they allowed to introduce other kinds of nodes?  </s>
<s> If so, the enum approach would require that the enum also be subclassable to add appropriate nodetypes.  </s>
<s> I'm not sure which languages that support enums also support subclassing them.  </s>
<s> Of course if the node types are _not_ considered extensible, that isn't an issue.)  </s>
<s> Joe Kesselman / IBM Research Unless stated otherwise, all opinions are solely those of the author.  </s>
<s> That's what the language mappings for IDL are for.  </s>
<s> There are already mappings for C, C++, Java, Smalltalk and others.  </s>
<s> Using enum is a kind of typesafety, which should be used if at all possible.  </s>
<s> The IDL language mappings takes care of using them whenever possible.  </s>
<s> This might be a problem with enums - I agree.  </s>
<s> But since your unsigned shorts are defined in Node, you are still in trouble.  </s>
<s> You have to change the implementation of Node to add constants later and if that is an option, it can be done for enums too.  </s>
<s> So in short: There are no real arguments against enums right?  </s>
<s> Cheers ANOQ of the Sun / Johnny Andersen E-Mail: anoq@vip.cybercity.dk or anoq@berlin-consortium.org Homepage: http://users.cybercity.dk/~ccc25861/  </s>
<s> Not really.  </s>
<s> It's one thing to extend an interface by adding new elements; that's routine.  </s>
<s> But an enum is a class, without the  </s>
<s> feature of extensibility.  </s>
<s> (At least not in C--; in Java, enums  </s>
<s> are usually implemented as ints anyhow.  </s>
<s> One could create a special class with just N pre-constructed elements and access them through static variables.) John Cowanhttp://www.ccil.org/~cowancowan@ccil.org  </s>
<s> You tollerday donsk?  </s>
<s> N.  </s>
<s> You tolkatiff scowegian?  </s>
<s> Nn.  </s>
<s> You spigotty anglease?  </s>
<s> Nnn.  </s>
<s> You phonio saxo?  </s>
<s> Nnnn.  </s>
<s> Clear all so! 'Tis a Jute.... (Finnegans Wake 16.5)  </s>
<s> If an implementation is recompiled, won't it conform to the same "interface" of the enum class, even though values have been added?  </s>
<s> Is this a language?  </s>
<s> If it doesn't have the same type of enum as defined in the IDL-specs, it will possibly not be mapped to a "C-- enum", but rather to a set of integers or something in "C--".  </s>
<s> Ja, jeg taler dansk!  </s>
<s> ;) Cheers ANOQ of the Sun / Johnny Andersen E-Mail: anoq@vip.cybercity.dk or anoq@berlin-consortium.org Homepage: http://users.cybercity.dk/~ccc25861/  </s>
