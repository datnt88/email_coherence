<s> According to the spec: insertRow Insert a new empty row in the table.  </s>
<s> [...] Parameters index The row number where to insert a new row.  </s>
<s> What should the behaviour be if the table currently has less than (value of) index rows?  </s>
<s> Should the new row be added at the end; or should all the intervening rows be inserted?  </s>
<s> My preference is for the latter, on the grounds that the following conditional should always be true,  </s>
<s> HTMLElement newRow = someTable.insertRow(index);  </s>
<s> if(((HTMLTableRowElement)newRow).getRowIndex() == index) // should always be true Alternatively, the insertion interface on HTMLTableElement might be better if modified to match that of  </s>
<s> HTMLSelectElement ... but I realize it's far too late for  </s>
<s> that now :-( Cheers,  </s>
<s> Miles Miles Sabin Cromwell Media Internet Systems Architect 5/6 Glenthorne Mews msabin@cromwellmedia.co.uk England  </s>
<s> Another question is into which TBODY the row should be inserted, if the specified index falls on a boundary between table sections.  </s>
<s> E.g., if the existing table "fruitable" looks like  </s>
<s> what does fruitable.insertRow(1)  </s>
<s> do?  </s>
<s> My suspicion is that it should add a row to the TBODY, since there is a Node.insertBefore method and not Node.insertAfter  </s>
<s> And I hesitate to ask this, but is Table.rows supposed to put the rows from the TFOOT before or after those from the TBODY?  </s>
<s> They occur before in the HTML, but logically should come after in the table.  </s>
<s> John T. Whelan whelan@iname.com  </s>
<s> Miles,  </s>
<s> 1. Most people expects insertRow(getLength()) to append a row yet given index is clearly not in the range of valid index values. 2. index can be end up being a very large number erroneously.  </s>
<s> I think it is  </s>
<s> safer to append just one row.  </s>
<s> Docuverse DOM SDK's implementation of the HTML layer appends just one row at the end of the table.  </s>
<s> Best, Don Park Docuverse  </s>
<s> is  </s>
<s> Agreed. Rephrasing the question, is it better to generalize the just-past-the-end behavior, or recognize it as a specific expression of "append"?  </s>
<s> The former has convenience benefits, the latter has application-design-error-detection benefits.  </s>
<s> Given the past decisions in favor of making the DOM help novice programmers, I lean toward "tell them they made a mistake" rather than "assume they knew what they were asking for."  </s>
<s> Joe Kesselman / IBM Research Unless stated otherwise, all opinions are solely those of the author.  </s>
<s> You mean "keep reminding the users of their stupidity until they are forced to choose between hiring a consultant and a psychiatrist?"  </s>
<s> I am all for it  </s>
<s> since I do consult on the side and got an endless supply of aha and hmm to pass off as a shrink as well.  </s>
<s> g How do we let the user know that they made a mistake?  </s>
<s> A shrug (return null) or a kick in the groin (throw an exception)?  </s>
<s> Neither is documented so it is no longer a matter of interpretation.  </s>
<s> Best, Don Park Docuverse  </s>
<s> This goes back to basic disagreements over what we're accepting as the least common denominator.  </s>
<s> I don't think further debate's going to move either of us at this late date.  </s>
<s> Joe Kesselman / IBM Research Unless stated otherwise, all opinions are solely those of the author.  </s>
<s> Joe,  </s>
<s> It was my fault for not tagging my joke.  </s>
<s> Let me try again.  </s>
<s> The problem is that even if we are to inform the user of unspecified behavior, how do it at after REC? Documentation for insertRow does not say that null might be returned nor does it say that an exception might be thrown.  </s>
<s> Do we go for Errata?  </s>
<s> Don  </s>
<s> My understanding is that fruitable.insertRow(1) is equivalent to fruitable.insertBefore(  </s>
<s> fruitable.getOwnerDocument().createElement("tr"), fruitable.getChildNodes().item(1))  </s>
<s> so I think you are correct.  </s>
<s> Good question.  </s>
<s> I believe that the original document layout takes precedence over logical order.  </s>
<s> Best, Don Park Docuverse  </s>
<s> Don Park wrote,  </s>
<s> In the light of a previous reply to a query of mine on TBODY, this can't be right.  </s>
<s> Something more like, Node next = fruitable.rows().item(1);  </s>
<s> next.getParentNode().insertBefore(newRow,  </s>
<s> next); would seem appropriate, allowing for TR elements being nested within THEAD, TFOOT or TBODY.  </s>
<s> Cheers, Miles Miles Sabin Cromwell Media Internet Systems Architect 5/6 Glenthorne Mews msabin@cromwellmedia.co.uk England  </s>
<s> If the behavior is really undefined in the spec, we should post a statement in the Errata anyway... if nothing else, to warn users that it _is_ undefined and behavior may vary.  </s>
<s> If we're doing that anyway, we may or may not want to pick an answer and nail it down.  </s>
<s> Joe Kesselman / IBM Research Unless stated otherwise, all opinions are solely those of the author.  </s>
<s> Oh, yeah.  </s>
<s> That is what I meant.  </s>
<s> I am not fully awake yet.  </s>
<s> Don Park Docuverse  </s>
