I should also point out the option of a hybrid encoding. 
Use a simple binary structure with fixed-length ASCII character strings for protocol keywords. 
You get all the advantages of binary encoding, and a protocol dump is at least partially useful. 
Secure Shell 2 has a different interesting hybrid characteristic -- it uses length-counted text strings for extensibility-oriented feature lists. 
A nice idea. 
Is it common in standards? 
Binary data in textual encodings seems to be a problem. 
How is this usually handled? 
Base64 is of course an option. 
MIME uses, if I understand it rightly, the convention that CRLF --boundary text CRLF is end marker of a binary body part. 
Not very neat. 
I have looked at the XML specs, and not found any good way of putting binary data into XML either. 
Have I missed something? 
To indicate the end of binary data with an octet-length value before the binary data seems to me the neatest way, but it seems not to be very popular in standards. 
Jacob Palme jpalme@dsv.su.se (Stockholm University and KTH) for more info see URL: http://www.dsv.su.se/~jpalme 
Only the embarrassed groans of many people in the XML community. 
:-) --Paul Hoffman, Director --Internet Mail Consortium XML is a text format. 
As such, it can be transcoded by mail gateways. 
If you label something as and it gets transcoded to EBCDIC, the binary data won't survive. 
The web can easily include binary data, it's done all the time with images, just use a link instead of putting things inline :-). 
Regards, Martin. 
#-#-# Martin J. Du"rst, World Wide Web Consortium #-#-# mailto:duerst@w3.org 
http://www.w3.org 
If you want to include everything in one document, I assume you would then use multipart/related? 
Another alternative I have been thinking of would be to use base64 encoding of binary data. 
Jacob Palme jpalme@dsv.su.se (Stockholm University and KTH) for more info see URL: http://www.dsv.su.se/~jpalme 
If by link you mean an URL, I can see problems with it. 
If you want to send secret data, you may not wish part of the data to be available through an URL - not even if that URL contains a password. 
Jacob Palme jpalme@dsv.su.se (Stockholm University and KTH) for more info see URL: http://www.dsv.su.se/~jpalme 
This is one possibility. 
The problem with this is the boundaries, but I guess it should be possible to construct boundaries that cannot appear in XML (such as something like   ]] ]] or something along these lines). 
[I'm just checking this with some XML experts]. 
Yes indeed. 
Regards, Martin. 
#-#-# Martin J. Du"rst, World Wide Web Consortium #-#-# mailto:duerst@w3.org 
http://www.w3.org 
I should also point out the option of a hybrid encoding. 
Use a simple binary structure with fixed-length ASCII character strings for protocol keywords. 
You get all the advantages of binary encoding, and a protocol dump is at least partially useful. 
Secure Shell 2 has a different interesting hybrid characteristic -- it uses length-counted text strings for extensibility-oriented feature lists. 
Hasn't happened much in the IETF, mostly because the apps area has a text bias and lower level areas have a binary bias. 
The PNG spec (RFC 2083) uses four-letter ASCII labels for chunks, although that's not IETF standards track. 
Length-counting has two problems: (1) It completely falls apart when common newline or charset conversions are applied. 
(2) It requires that you know the size of the object in advance, or that you use a complex chunking technique such as that used by SMTP BDAT. 
For wire protocols, (1) isn't much of an issue and (2) can often be tolerated. 
In my experience, the length-counted literals in IMAP are less error-prone and more efficient than the dot-stuffing in POP and SMTP (mostly because dot-stuffing creates a rarely used codepath and is intrusive when working with a canonical CRLF MIME mailstore). 
But (2) causes serious problems for mailstores that don't use canonical CRLF MIME format. 
For textual data formats, I think MIME got it right (a lot of smart people spent a lot of time on MIME). 
In fact, well constructed MIME boundaries make for a very nice Boyer-Moore search so you can find the end of the object in sub-linear time. 
For binary data formats, a length-counted chunking solution is most common. 
- Chris 
