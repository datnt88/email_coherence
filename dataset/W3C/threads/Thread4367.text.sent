Hi "20.2 XHTML Output Method The xhtml output method serializes the result tree as XML, using the HTML compatibility guidelines defined in the XHTML specification." 
The guideline about the XML prolog is vague: "C.1. 
Processing Instructions and the XML Declaration Be aware that processing instructions are rendered on some user agents. 
Also, some user agents interpret the XML declaration to mean that the document is unrecognized XML rather than HTML, and therefore may not render the document as expected. 
For compatibility with these types of legacy browsers, you may want to avoid using processing instructions and XML declarations. 
Remember, however, that when the XML declaration is not included in a document, the document can only use the default character encodings UTF-8 or UTF-16." 
I have no preference, neither for in- nor exclusion of the XML prolog, but I need consistent results across XSLT processors. 
Perhaps it would make sense to specify in that the XML prolog must be included, or omitted. 
Tobi We provide the user with the option to include or exclude the XML declaration using the omit-xml-declaration attribute. 
I'm happy to add a reference pointing readers to this section of the XHTML spec for advice on how to set this option. 
Thanks for pointing it out. 
Michael Kay "C.1. 
Processing Instructions and the XML Declaration Be aware that processing instructions are rendered on some user agents. 
Also, some user agents interpret the XML declaration to mean that the document is unrecognized XML rather than HTML, and therefore may not render the document as expected. 
For compatibility with these types of legacy browsers, you may want to avoid using processing instructions and XML declarations. 
Remember, however, that when the XML declaration is not included in a document, the document can only use the default character encodings UTF-8 or UTF-16." 
I have no preference, neither for in- nor exclusion of the XML prolog, but I need consistent results across XSLT processors. 
Perhaps it would make sense to specify in that the XML prolog must be included, or omitted. 
Tobi OK :) Tobi 
