<s> Dear DOM WG!  </s>
<s> I am new to DOM and after reading the specification of replaceWholeText method I have several questions.  </s>
<s> I suspect them to be caused by my poor English so I would be grateful  </s>
<s> if someone can clarify them.  </s>
<s> First let me cite the specification:  </s>
<s> This method returns the node in the hierarchy which received the replacement text, which is null if the text was empty or is the current node if the current node is not read-only or otherwise is a new node of the same type as the current node inserted at the site of the replacement.  </s>
<s> All logically-adjacent text nodes are removed including the current node unless it was the recipient of the replacement text.  </s>
<s> Return Value Text The Text node created with the specified content.  </s>
<s> Exceptions DOMException NO_MODIFICATION_ALLOWED_ERR: Raised if one of the Text nodes being replaced is readonly.  </s>
<s> And here are my questions:  </s>
<s> 1) What is null when the replacement text is empty?  </s>
<s> Is it method's return value or returned node's text content that is null?  </s>
<s> 2) Suppose I have three logically-adjacent text nodes (N1, N2, N3).  </s>
<s> Let N2 be readonly and the others are not readonly.  </s>
<s> If I call replaceWholeText('some text') on N2 what result should I expect?  </s>
<s> Should it be (N4, N2)  </s>
<s> (where N4 - new text node containing 'some text') or (N2, N4) or (N1, N2, N3) and the NO_MODIFICATION_ALLOWED_ERR should be raised or the result should be something else?  </s>
<s> Thanks.  </s>
<s> Yours sincerely, Vadim.  </s>
<s> I don't know, I found some of the wording of the wholeText stuff a little hairy too!  </s>
<s> I can't speak for the Editors, but this is my understanding of replaceWholeText and how I have implemented it in pxdom.  </s>
<s> The return value.  </s>
<s> If the whole text is replaced by no text, there will be no Text node left to return, which is why we get null.  </s>
<s> N4, containing text 'some text'.  </s>
<s> N1, N2 and N3 will be removed from the document.  </s>
<s> In N2's case its parent EntityReference will be removed instead of N2 itself (assuming that is the reason for N2 being readonly).  </s>
<s> Andrew Clover  </s>
<s> This is correct.  </s>
<s> If you have any input on how to clarify the spec, please, let us know!  </s>
<s> :-) Thanks.  </s>
<s> Arnaud Le Hors - IBM, XML Standards Strategy Group / W3C AC Rep.  </s>
<s> The description has been changed: Replaces the text of the current node and all logically-adjacent text nodes with the specified text.  </s>
<s> All logically-adjacent text nodes are removed including the current node unless it was the recipient of the replacement text.  </s>
<s> This method returns the node which received the replacement text.  </s>
<s> The returned node is: * null, when the replacement text is the empty string; * the current node, except when the current node is read-only; * a new Text node of the same type (Text or CDATASection) as the current node inserted at the site of the replacement.  </s>
<s> Not 100% satisfactory, but we didn't come up with a better proposal.  </s>
<s> Regards, Philippe  </s>
