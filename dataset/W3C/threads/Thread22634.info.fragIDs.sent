<s> a particular locale (US English).  </s>
<s> It might be something that is specific to the ECMAScript binding, since it doesn't affect Java implementations.  </s>
<s> I'm not even sure I understood this concern!  </s>
<s> For Python, each specific exception code is mapped to specific subclasses of the DOMException, and all such exceptions have the appropriate .code  </s>
<s> attribute.  </s>
<s> If you are accessing a COM DOM using JScript (and probably true for other ECMAScript implementations), there is no portable mechanism for determining the DOMException code for the exception.  </s>
<s> try { charData.substringData(-5,-5);  </s>
<s> catch(ex) { // on JScript you can access the HRESULT from a COM implementation // which is an very large negative number with little // or correspondance to the DOMException codes and // a textual description of the error which may // be sensitive to the locale var hresult = ex.number; var desc = ex.description; // currently if you want to respond to an specific exception // you have to somehow determine from the hresult // and description if it was the exception that you // intended var domExceptionCode = someImplementationAndLocaleSpecificRoutine(hresult,desc); I was thinking the implementation specific routine might be replaced with a standard call back the the DOMImplementation that could decipher their own error messages.  </s>
<s> try { charData.substringData(-5,-5);  </s>
<s> catch(ex) { var domExceptionCode = domImpl.getExceptionCode(ex);  </s>
<s> However, I'm not saying that that is the right solution, however I do think the problem is legitimate.  </s>
<s> If the DOM you are using follows the W3C Recomendation then you use the instanceof operator in JavaScript to find out what exception object was thrown.  </s>
<s> After you get that then you use the value of the code property to get the exact error thrown.  </s>
<s> If the DOM you are using follows the W3C Recomendation you can use the following: try{ //error prone code }catch(err){  </s>
<s> if( err instanceof DOMException ){  </s>
<s> switch( err.code ){ case DOMException.INDEX_SIZE_ERR: //error handling code here case DOMException.DOMSTRING_SIZE_ERR: //error handling code here case DOMException.HIERARCHY_REQUEST_ERR: //error handling code here case DOMException.INVALID_ACCESS_ERR: //error handling code here } else if( err instanceof EventException ){ if( err.code == EventException.UNSPECIFIED_EVENT_TYPE_ERR ) //error handling code here } else if( ... ){ Jeff Yates e-mail: PBWiz@PBWizard.com  </s>
<s> Homepage: http://www.PBWizard.com  </s>
<s> [...example code...] This is an enlightening example!  </s>
<s> I must confess I don't know enough ECMAScript -- I didn't even know it *had* a try/catch construct!  </s>
<s> It's good that it does.  </s>
<s> Sounds like it, but...  </s>
<s> [...example code...]  </s>
<s> This example seems to indicate that an implementation which follows the W3C bindings doesn't need any additional functions.  </s>
<s> So let's avoid the extra method.  </s>
<s> Perhaps Curt is using a non-conforming implementation?  </s>
<s> Fred L. Drake, Jr. fdrake at acm.org PythonLabs at Digital Creations  </s>
<s> Hi,  </s>
<s> A problem with the W3C recommendation and its ECMAScript binding is that it does not require DOMException (and many other interfaces) to be a constructor AFAIK.  </s>
<s> If an ECMAScript builtin object is no constructor, it is most likely that its type is not visible to scripts, i.e. "DOMException" is no valid type and the code line above fails.  </s>
<s> If I run this little JS script on my Mac var exc = new Object(); if (exc instanceof DOMException) // do something MSIE5, Opera5, Netscape6 and Mozilla 0.9 fail to execute it (I have not checked how Windows browsers handle this script).  </s>
<s> Of all the browsers on my hard disk only iCab reveals the type "DOMException".  </s>
<s> Maybe the W3C-DOM ECMAScript binding should explicitely state that interface types should be visible to scripts?  </s>
<s> In ECMAScript you do not need them for casting, but for type checking.  </s>
<s> bye, Thomas  </s>
<s> Fred,  </s>
<s> I believe the problem is that there is no conforming implementations built into a browser as yet.  </s>
<s> The closest I have run into is Mozilla and it has it's bugs.  </s>
<s> The one that applies to this is that the DOM constructors are NOT exposed until an object of that type is constructed first.  </s>
<s> Example: The Range object constructor is not exposed until you create one first.  </s>
<s> //example code alert( Boolean( Range ) ); //alerts false;  </s>
<s> document.createRange(); alert( Boolean( Range ) ); //alerts true; This is a major weakness.  </s>
<s> Jeff.  </s>
<s> Jeff Yates e-mail: PBWiz@PBWizard.com  </s>
<s> Homepage: http://www.PBWizard.com  </s>
<s> Sounds like a pretty serious bug from the user's standpoint!  </s>
<s> But as long as it's an implementation but, then there should be no need to change the DOM specification or even the ECMAScript mapping.  </s>
<s> Fred L. Drake, Jr. fdrake at acm.org PythonLabs at Digital Creations  </s>
