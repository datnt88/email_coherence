<s> I try to install the annotea server but it doesn't work.  </s>
<s> I installed the perllib from cvs, a mysql database and the apache webserver on a linux system.  </s>
<s> After that i set the configuration files and tried to call the "annotate"-script with a normal webbrowser.  </s>
<s> But i got an error message "Internal Server Error".  </s>
<s> So i watched the log-files and found the following 2 lines: [Wed Oct 31 01:02:03 2001] [error] (2)No such file or directory: exec of /usr/local/perl/modules/W3C/annotations/cgi/annotate.cgi failed [Wed Oct 31 01:02:03 2001] [error] [client 192.168.0.10] Premature end of script headers: /usr/local/perl/modules/W3C/annotations/cgi/annotate.cgi  </s>
<s> On my command line i can execute the annotate script (with any user): linux:/usr/local/perl/modules/W3C/annotations/cgi # perl annotate.cgi  </s>
<s> (offline mode: enter name=value pairs on standard input)  </s>
<s> Is it possible to test the script offline?  </s>
<s> Are there all perllib modules installed right, if i can run the script?  </s>
<s> What commands are accepted from the script on the command line?  </s>
<s> I don't know where to search the error.  </s>
<s> If anybody has a solution for one of my problems please write me... Thanks Markus  </s>
<s> hi Just a guess, but could it be the path to Perl specified in the script differs from your local setup?  </s>
<s> #!/usr/bin/perl or whatever...? danbri  </s>
<s> The system we run here has no annotate.cgi.  </s>
<s> Did you rename annotate to annotate.cgi to make the server happy?  </s>
<s> I don't remember off the top of my head if there are hard-coded references to the script.  </s>
<s> There may be as it makes the code much simpler to read.  </s>
<s> If there are, I would advice changing annotations/cgi/annotate.cgi to annotations/CGI/annotate.  </s>
<s> Also, I notice that the annotations/CGI directory is instead annotations/CGI.  </s>
<s> Are you running this on a FAT partition?  </s>
<s> Can you exec it directly?  </s>
<s> linux:/usr/local/perl/modules/W3C/annotations/CGI # ./annotate  </s>
<s> If not, you need to linux:/usr/local/perl/modules/W3C/annotations/CGI # chmod +x annotate to make it directly executable.  </s>
<s> The best tool for debugging your problem is the error log, usually found in /var/log/apache/error.log.  </s>
<s> It will tell you why you got an "Internal Server Error".  </s>
<s> Once you are able to execute annotate, you will be able to see the results of the last run by typing linux:/usr/local/perl/modules/W3C/annotations/CGI # ./annotate  </s>
<s> DEBUG but I don't recommend doing this before you have successfully run it once from a browser as it will create a file /tmp/annotate.log with permisions which will keep the web server from executing annotate.  </s>
<s> This log file needs to be writable by the user or group www-data.  </s>
<s> -rw-r--r-- 1 www-data www-data 19419546 Oct 31 00:56 /tmp/annotate.log  </s>
<s> The DEBUG function is good for people debugging client-server interactions.  </s>
<s> Each response from annotate comes with a session-id.  </s>
<s> You can rerun any session with annotate DEBUG someSessionId or annotate DEBUG -4 to run the fourth session back.  </s>
<s> -eric (eric@w3.org)  </s>
<s> Feel free to forward this message to any list for any purpose other than email address distribution.  </s>
