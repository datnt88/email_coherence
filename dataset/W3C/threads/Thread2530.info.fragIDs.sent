<s> Reading through the current thread of mail messages on including a comment URL as an attribute to a cookie, I find I cannot determine whether there is any limitation on the location of the comment URL.  </s>
<s> In other words, does the comment URL need to be on the same server as the resource producing the cooking about which it comments?  </s>
<s> If not, does the server on which it resides need to domain-match the server from which the cookie is produced?  </s>
<s> I raise these issues because there are a number of error conditions which can arise when the comment URL does not reside on the same server which do not otherwise come into play, and I am concerned with the complexity that handling those error conditions raises.  </s>
<s> regards, Ted Hardie NASA NIC  </s>
<s> The new (proposed) draft imposes no restrictions on where CommentURL may reside.  </s>
<s> So I guess you'd better reaise your concerns about error conditions.  </s>
<s> Dave Kristol  </s>
<s> Intentionally no ... with good citizen seals and other future possibilities, there may be no correlation we could see at the protocol level and in the near term case, it seems reasonable that IBM would have a corporate policy on use of the cookie information, owned by the legal folks.  </s>
<s> That policy URL would exist on www.ibm.com but be referenced by www.lotus.com,  </s>
<s> www.hursley.ibm.com, etc.  </s>
<s> Answered above.  </s>
<s> OK, what errors exist which aren't appropriately UI design issues?  </s>
<s> We have warned about recursion and suggested handling.  </s>
<s> Beyond that, this URL is just a URL and except where absolutely necessary should behave as any other URL.  </s>
<s> It shouldn't matter too much whether the user clicks the URL in a cookie accept dialog, from a cookie history management dialog or from a WWW page.  </s>
<s> Dave Morris  </s>
<s> Thanks for clarifying this.  </s>
<s> I certainly see why someone might want to reference a third-party hosted policy, whether it be hosted on a "main" corporate server, some policy org, or even at some site whose policy you just happen to admire.  </s>
<s> Inserting a third pary into a transaction for verification of anything has some known dangers, however (in fact, I have an odd memory of Brian Behlendorf raising a related issue a very long time ago).  </s>
<s> Minimally, the user-agent must be able to deal with the situation in which a comment-url is present but the site is unreachable or very slow.  </s>
<s> What, in particular, does it do with its connection to the cookie-providing site?  </s>
<s> If there is a user and she has requested to approve cookies, does it close the connection until approval?  </s>
<s> If not, can it or should it prevent the connection from closing, and if so, what would be the best method for doing so?  </s>
<s> A HEAD against the requested resource to make sure it has not changed?  </s>
<s> If the server closes the connection during this processing, should a client continue to try to reach the comment-url site and gain acceptance, or should it present an error?  </s>
<s> What happens if the user accepts the policy but, upon reconnect, a different cookie is presented?  </s>
<s> (In general, once a policy has been approved for a specific resource, should a UA consider it in force if the same URL is visited, even if a different cookie is presented, provided the same policy is referenced?  </s>
<s> That may seem like a no-brainer, but the first view of a cookie at a site may show much less than a view twenty items into the shopping basket later.  </s>
<s> When should someone be asked to re-view the policy and cookie?)  </s>
<s> Sorry for entering this discussion late with these questions.  </s>
<s> I can see that they are closely related to some of the others which have been raised, but they seem to me different enough to be worth voicing.  </s>
<s> Please feel free to point me to archived discussions of these points if I missed them in my look at the issue, best regards, Ted Hardie NASA NIC  </s>
<s> The CommentURL mechanism assists the user in making a decision.  </s>
<s> With that in mind, the answer to your questions is, I think, the UA tells the user what happened.  </s>
<s> If we're talking about an inspection mechanism at "the port of entry" (when a cookie accompanies a new page and before the user has viewed the page), the user probably has a choice of whether or not to accept the cookie.  </s>
<s> Examining the comment URL is a way for the user to make an informed choice.  </s>
<s> If the UA reports it can't fetch the CommentURL, the user still has that choice, just with less information than s/he hoped for.  </s>
<s> Assuming a sophisticated enough cookie inspection mechanism that would let the user select cookie inspection behavior on a per-site basis, the user can decide whether or not to inspect each cookie from a given site as it arrives.  </s>
<s> If, after looking at the first cookie from a site, the user decides not to inspect each one, I would expect him/her still to be able to inspect the cookies in the cookie jar later.  </s>
<s> I think the only guard against a site that describes cookie policy one way in one place and differently elsewhere is social pressure.  </s>
<s> I don't think the UA should try to guard against it.  </s>
<s> Dave Kristol  </s>
<s> I understand that the comment URL is not meant to be a true verfication mechanism, but, like Larry, I worry that the percentage gain in providing it may not match the cost.  </s>
<s> To deal with a comment URL we will already need advice/rules about providing cookies with the resource referenced in the comment URL.  </s>
<s> I was trying to point out that we might also need advice/rules about how to treat the open connection to the original resource during an inspection.  </s>
<s> If inspections are common, we could be asking servers to hold open a large number of persistent connections while a relatively slow thing (a user inspection) happens.  </s>
<s> That has a cost.  </s>
<s> If the connection is maintained by the UA "pinging" the server with a HEAD, we've also got bytes on the wire that impact everybody and aren't actually sending information anywhere.  </s>
<s> In contrast, if we don't provide that advice and connections normally close while inspections occur, there are consequences either to how cookies are created (so that the same client is highly likely to get the same cookie back on a request made in a short time frame, rather than highly unlikely as now) or how the UA manages the relationship between the approved inspection and the cookies it receives.  </s>
<s> Frankly, I'm not sure that all of the management cost and user education cost is worth the marginal (and hopefully short-term) gain.  </s>
<s> I fully support inclusion of comments which indicate certification or even asserted well-known policies.  </s>
<s> But doing this with individually-inspectable URLs does not seem to be a clear win to me.  </s>
<s> I worry in particular that allowing such URLs will encourage every corporate lawyer to have a policy, rather than relying on well know policies; that is, admittedly, probably paranoid, but I was raised by  </s>
<s> lawyers and I know how they can think.  </s>
<s> Given the ease of changing resources on the web, I would also want to be able to do a HEAD against the policy in a comment URL once every session I interacted  </s>
<s> with the resource, just to be sure the policy hadn't changed.  </s>
<s> (Note that I do not say I would always use that ability, just that I would want *at least* that ability).  </s>
<s> If even a small percentage of the net behaves as I would, we have a lot of additional overhead.  </s>
<s> Of course, I may what Phill would call "a corner case", but I hope you'll think about the cost vs. gain ratios one more time.  </s>
<s> best regards, Ted Hardie NASA NIC NB: NASA was not raised by lawyers, and some of the ones which raised me have since repented.  </s>
<s> First, I would hope, though I must admit I've not tested the question, that UA would receive the complete response w/o consideration for whether the user wished to accept the cookie.  </s>
<s> It would be bad programming to keep the connection open while asking the user about accepting the cookie, in particular since there is no suggestion in the cookie inspection UIs I've used or in the cookie spec that the response should be suppressed if the user suppresses the cookie.  </s>
<s> This is already an issue if the UA cookie dialogs hold the connection open waiting for user interaction so I don't see it as a significant change in the status quo.  </s>
<s> Individual URLs are the lingua franca (sp?) of the web.  </s>
<s> As I've said before, I'm not convinced that the whole official IETF cookie definition provides much gain over cost when we consider the real possiblity that the vast majority of users won't have the opportunity to use the facilities and protections we've crafted.  </s>
<s> But we've defined a baseline.  </s>
<s> Part of our argument has been for informed consent.  </s>
<s> It is hard to argue in my mind that we support informed consent when the only protocol supported mechanism for communication between the application/server and the user is a comment string.  </s>
<s> URLs are the mechanism of information on the WEB and as such are the 'right' approach here as well.  </s>
<s> If you grew up with lawyers, then you know that getting two lawyers to agree on sharing a single well known policy is even harder than getting an IETF working group to produce a cookie standard, probably by several orders of magnitude.  </s>
<s> So we can expect lawyers to insist on having their own statement.  </s>
<s> With a URL to check and track, you would at least be able to use existing automated tools which will check web resources for change.  </s>
<s> W/o the URL, the only choice would be to read each comment value, which if it was several lines long, might have a subtle change you'd never see.  </s>
<s> The difficultly is that I believe it unlikely that a comment value will be changed when the policy changes ... comment values will be buried in code unrelated to policy implementation ... code which is on the front line which if not updated carefully could cause breakage.  </s>
<s> So I'm a real skeptic when it comes to believing the comment.  </s>
<s> I also know it would be impossible to find a cookie policy on most web sites so the commentURL allows a protocol defined interoperable mechanism for connecting the cookie to whatever descriptive material the publisher wants the user to see.  </s>
<s> I think the main benefit of everything we're currently doing with Cookie2 is to provide a foundation upon which something like Dan Jaye's proposal can build.  </s>
<s> I believe CommentURL fills a critical gap and complements Dan's proposals.  </s>
<s> Dave Morris  </s>
