<s> Any chance for an option to *not* wrap the style section in "commented" CDATA sections?  </s>
<s> There are no ' ' or '&amp;' characters needed in any version of  </s>
<s> CSS. It would be sooo much nicer to have just a plain instead of the grotesque /* ![CDATA[*/  </s>
<s> /*]] */ currently emitted with XHTML output.  </s>
<s> Thanks, /Jelks  </s>
<s> PS. I tried sending this to the 'tidy-develop' list, but I keep getting an Unknown user: tidy-develop@lists.sourceforge.net  </s>
<s> error in the returned mail.  </s>
<s> Hello,  </s>
<s> I'd like to second that.  </s>
<s> Additionally each time I run tidy, another CDATA-section gets added.  </s>
<s> Resulting in things like /* ![CDATA[*/ /* ![CDATA[*/ /* ![CDATA[*/ /*]] */ /*]] */ /*]] */ regards Steffen  </s>
<s> Could you send sample input/config options to reproduce this behaivour?  </s>
<s> Yes... Long standing issue, see http://tinyurl.com/2yham if you like.  </s>
<s> It is however possible that style elements include , &amp; or ]] , a reference to a background image generated by a server side script, in generated content or comments for example.  </s>
<s> The current escape code is in pprint.c, it should be moved to clean.c and probably needs a rewrite to address several bugs listed in the bug tracker.  </s>
<s> Patches most welcome!  </s>
<s> (as are concrete proposals for configuration options).  </s>
<s> Works for me?!  </s>
<s> Hello,  </s>
<s> My configuration-file looks something like this:  </s>
<s> markup: yes wrap: 103 wrap-script-literals: no wrap-asp: yes break-before-br: yes indent: auto indent-spaces: 2 indent-attributes: no uppercase-tags: no uppercase-attributes: no hide-endtags: no enclose-text: yes quote-marks: no quote-nbsp: yes quote-ampersand: yes fix-backslash: yes clean: yes drop-font-tags: yes logical-emphasis: yes input-xml: no assume-xml-procins: no output-xml: yes output-xhtml: yes numeric-entities: no add-xml-pi: no show-warnings: yes doctype: strict char-encoding: ascii wrap-attributes: yes wrap-jste: yes drop-empty-paras: yes fix-bad-comments: yes word-2000: no numeric-entities: no tidy-mark: no add-xml-decl: yes join-classes: no escape-cdata: yes Is there something wrong with it?  </s>
<s> regards Steffen  </s>
<s> Input: p { color: red } p ... Tidy: % tidy -config a b | tidy -config a | tidy -config a Output: !DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd" /* ![CDATA[*/ p { color: red } /*]] */  </s>
<s> I.e., I am unable to reproduce this behaivour.  </s>
<s> Hello,  </s>
<s> The problem seemingly is with the editor I use.  </s>
<s> It changes the CDATA to lowercase.  </s>
<s> Tidy does not recognice the marked section then - which I think is correct behaviour.  </s>
<s> regards Steffen  </s>
<s> A lack of competency and familiarity preclude patches, but as for a concerete proposal, how about something like: style-comment : yes | no | auto script-comment: yes | no | auto (i.e., "AutoBool").  </s>
<s> "auto" would test for the presence of ' ' or '&amp;' within the pertinent content.  </s>
<s> I don't have a strong opinion either way as to what the defaults should be.  </s>
<s> If the general approach is to remain backwards-compatible with older Tidy versions (and head off the inevitable "Hey, what happened to my commented CDATA?" at the pass), they should be "yes" for both.  </s>
<s> Otherwise use "auto" for style (I initially thought it should be "no", but after reading your message, I concede the rare case), and either "auto" or "yes" for script -- probably "yes", because there's a likely probability of post-Tidy edits of script sections.  </s>
<s> What do you think?  </s>
<s> /Jelks  </s>
