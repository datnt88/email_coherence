<s> The following issues need to be decided by the ERB - most of them have been sufficiently discussed I think, but it can't hurt to lay them out.  </s>
<s> Assuming that some or all of this proposal is adopted by the ERB key points that I would like them to consider are: - all of this should be transparent to the parser (i.e. the parser simply transfers attributes, values and content as at present.) - if the ERB define a validation procedure for the XML-SQLTYPEs (and I'm not sure they should) it should be after parsing and before the application.  </s>
<s> - XML only deals in strings and should not be concerned with the internal representation of these strings as other types.  </s>
<s> XML should not require that an application carry out any operation on these types (other than transmitting them without corruption).  </s>
<s> - if all the recommendations are adopted, and an application is required to do meaningful operations on these types including conversions, there is quite a lot of work involved.  </s>
<s> P. Peter Murray-Rust, domestic net connection Virtual School of Molecular Sciences  </s>
<s> I have revised my paper on data typing at [1] http://www.textuality.com/xml/typing.html  </s>
<s> DT-1.  </s>
<s> Should we propose a data typing mechanism as part of the XML work?  </s>
<s> I vote against it unless it is a general solution.  </s>
<s> DT-2. Should the data typing mechanism be a separate paper in the WD-xml series rather than part of XML-lang?  </s>
<s> Keep it out of XML-lang.  </s>
<s> This is an application issue, not a syntax issue.  </s>
<s> DT-3. Should the data typing be a universal/extensible regexp-based thing, (as proposed by Gavin Nicol and others) rather than a simple subset of of the SQL types as proposed in [1]?  </s>
<s> DT-4.  </s>
<s> Should data typing be provided for attribute values, not just content as proposed in [1]?  </s>
<s> Yes.  </s>
<s> DT-5. Should data typing for the content of elements be applicable to mixed content as proposed in [2], as well as pure character data content as proposed in [1]?  </s>
<s> No data typeing for mixed content, unless the XML content model rules are extended so that one can bind the data format to the content model (could break SGML compatability).  </s>
<s> As I said before, I feel this is an application issue.  </s>
<s> DT-6. Should the primary attribute name be XML-TYPE as proposed in [2] rather than XML-SQLTYPE as proposed in [1]?  </s>
<s> Yes.  </s>
<s> DT-7. Should the typing proposal include data value ranges as proposed in [1] (omitted in [2])?  </s>
<s> Yes.  </s>
<s> DT-9. Should the numeric data types DECIMAL, INTEGER, and FLOAT use parameters designed to control the maximum datum size as in [2]'s XML-DIGITS, XML-DIGITS-R (both for DECIMAL and INTEGER) and XML-BITS (for FLOAT) ([1] provides only SCALE, for DECIMAL, and nothing else).  </s>
<s> Yes. Some definition of data size needs to be included.  </s>
<s> I have revised my paper on data typing at [1] http://www.textuality.com/xml/typing.html  </s>
<s> I don't feel data typing needs to be part of XML--it is not within the "minimum needed to declare victory."  </s>
<s> Therefore, I would vote against any proposal regarding data typing that puts a necessary burden on XML implementors or users or that extends the time frame for getting out the XML spec.  </s>
<s> However, I do believe data typing would be useful, and I would therefore be in favor of putting our assembled intelligence to the task of addressing this issue provided it is done as a separate "module" of the larger "XML-inspired" work.  </s>
<s> So, on DT-1, I am ambivalent, but finally come down saying we should consider data typing as part of the XML work.  </s>
<s> On DT-2, data typing should be a separate module in the XML series, and its support must not be a requirement of an XML system.  </s>
<s> On DT-4 and DT-5, I think data typing should work on attribute values and content (both character and mixed if feasible).  </s>
<s> I would favor making any necessary simplification (e.g., for mixed content, ignore subelements) to allow even an "80% solution."  </s>
<s> On the other points, I have no strong feelings at this time.  </s>
<s> paul  </s>
<s> DT-2. Should the data typing mechanism be a separate paper in the WD-xml series rather than part of XML-lang?  </s>
<s> Pro: Keep XML-lang simple.  </s>
<s> SGML (&amp; maybe HTML) can use it too.  </s>
<s> Con: The usefulness of XML-lang may be impaired if it doesn't have the typing guaranteed to be built-in.  </s>
<s> I think we should do data types in a fourth deliverable.  </s>
<s> I don't see how XML-Lang is impaired if it isn't built-in.  </s>
<s> Applications that need it will specify that both parts of XML are required.  </s>
<s> Is XML-Lang impaired because it doesn't have "built-in" linking or stylesheets?  </s>
<s> DT-3. Should the data typing be a universal/extensible regexp-based thing, (as proposed by Gavin Nicol and others) rather than a simple subset of of the SQL types as proposed in [1]?  </s>
<s> Pro: extensibility is good - the usages of SGML and XML are unpredictable; SQL types were designed for boring COBOL applications.  </s>
<s> Con: we already have extensibility with SGML extended facilities lextypes; the SQL types are proven in commercial practice, and are presented at the right level for the people who build real applications.  </s>
<s> Say no to COBOL!!! I want to be able to use XML for complex numbers and strings in a variety of "special" formats.  </s>
<s> We should make it extensible from the start.  </s>
<s> This is another reason to make it a fourth deliverable: those that aren't willing to make the commitment to extensibility should just treat them all like strings.  </s>
<s> DT-4. Should data typing be provided for attribute values, not just content as proposed in [1]?  </s>
<s> Pro: the minimal typing provided by SGML is for attributes; they are typically a good place to put atomic values any way.  </s>
<s> Con: for element content, you can do it with just one or two typing attributes - if you want to do attributes, the mapping machinery gets bigger and more complicated.  </s>
<s> Once again, less is more - if we have it for elements, do we really need it for attributes?  </s>
<s> I think that we should start to unify and rationalize element content and attributes.  </s>
<s> SGML/XML has enough special cases and un-unified concepts as it is.  </s>
<s> I personally feel uncomfortable with the notion that attribute are only in the language because they are "convenient".  </s>
<s> If that were the case then why do we treat them so differnt from content in the grove model, in our stylesheet languages, in our query languages, in our SGML editors, etc.  </s>
<s> In my mind, attributes are *named data roles*, like "members" in an OOP language, or "properties" in the grove model.  </s>
<s> As in the grove model, content is a special attribute, the attribute that describes the spanning tree that we call the "document hierarchy".  </s>
<s> Thus I consider moves to make attributes and elements even more different a step backwards.  </s>
<s> DT-6. Should the primary attribute name be XML-TYPE as proposed in [2] rather than XML-SQLTYPE as proposed in [1]?  </s>
<s> Pro: Shorter is better; having all these attributes with SQL in front of them makes them much less readable.  </s>
<s> Con: These are not pulled out of the air, but rely heavily on SQL; it may be desirable to have other typing mechanisms introduced later; they would mostly be predeclared in internal subsets; terseness is not supposed to be a big deal per our design goals.  </s>
<s> If the mechanism is extensible then XML-TYPE is appropriate.  </s>
<s> If the mechanism is tied to SQL, then XML-SQLTYPE is appropriate.  </s>
<s> Maybe types should live in namespaces in which case the answer to this will depend on what we do with namespaces.  </s>
<s> Paul Prescod  </s>
<s> I have revised my paper on data typing at [1] http://www.textuality.com/xml/typing.html to take into account some of the issues raised here.  </s>
<s> The following changes have been made: 1. scientific notation is supported for FLOAT data types 2. the DATE/TIME/TIMESTAMP types conform to ISO 8601:1988 (thanks to Peter M-R for digging this up) 3. rather than overload everything on XML-SQLSIZE, there are several independent data type parameterization attributes 4. used the nice explanatory technique from [2] below of providing element-like declarations for each type, to illustrate the use of the various parameterizing attributes 5. more examples Another note that is relevant is [2] Jon Bosak's legible version of Jon Paoli's posting, dated 16/05/97, embodying a Microsoft proposal, entitled "SD3 - Data Types [fmt]" The following issues need to be decided by the ERB - most of them have been sufficiently discussed I think, but it can't hurt to lay them out.  </s>
<s> DT-1.  </s>
<s> Should we propose a data typing mechanism as part of the XML work?  </s>
<s> Pro: the whole SGML world has been screaming for this for years, and XML needs it even more.  </s>
<s> Con: less is more - the world, despite its screams, has limped along without it all this time.  </s>
<s> Also we have other important work to do.  </s>
<s> DT-2.  </s>
<s> Should the data typing mechanism be a separate paper in the WD-xml series rather than part of XML-lang?  </s>
<s> Pro: Keep XML-lang simple.  </s>
<s> SGML (&amp; maybe HTML) can use it too.  </s>
<s> Con: The usefulness of XML-lang may be impaired if it doesn't have the typing guaranteed to be built-in.  </s>
<s> DT-3.  </s>
<s> Should the data typing be a universal/extensible regexp-based thing, (as proposed by Gavin Nicol and others) rather than a simple subset of of the SQL types as proposed in [1]?  </s>
<s> Pro: extensibility is good - the usages of SGML and XML are unpredictable; SQL types were designed for boring COBOL applications.  </s>
<s> Con: we already have extensibility with SGML extended facilities lextypes; the SQL types are proven in commercial practice, and are presented at the right level for the people who build real applications.  </s>
<s> DT-4.  </s>
<s> Should data typing be provided for attribute values, not just content as proposed in [1]?  </s>
<s> Pro: the minimal typing provided by SGML is for attributes; they are typically a good place to put atomic values any way.  </s>
<s> Con: for element content, you can do it with just one or two typing attributes - if you want to do attributes, the mapping machinery gets bigger and more complicated.  </s>
<s> Once again, less is more - if we have it for elements, do we really need it for attributes?  </s>
<s> DT-5.  </s>
<s> Should data typing for the content of elements be applicable to mixed content as proposed in [2], as well as pure character data content as proposed in [1]?  </s>
<s> Pro: There's no real architectural problem with doing mixed content, you just pretend the child elements aren't there.  </s>
<s> Con: With mixed content you can get into whitespace problems; also, it "feels like" the data typing should apply to atomic items, and mixed content doesn't "feel" atomic.  </s>
<s> DT-6.  </s>
<s> Should the primary attribute name be XML-TYPE as proposed in [2] rather than XML-SQLTYPE as proposed in [1]?  </s>
<s> Pro: Shorter is better; having all these attributes with SQL in front of them makes them much less readable.  </s>
<s> Con: These are not pulled out of the air, but rely heavily on SQL; it may be desirable to have other typing mechanisms introduced later; they would mostly be predeclared in internal subsets; terseness is not supposed to be a big deal per our design goals.  </s>
<s> DT-7.  </s>
<s> Should the typing proposal include data value ranges as proposed in [1] (omitted in [2])?  </s>
<s> Pro: Databases use them; this will make it pretty easy to construct an input/authoring system that will produce examples that are loadable into a database with somewhat higher confidence.  </s>
<s> Con: This really amounts to validation rather than typing, which is another domain; the approach in [1] is violently incompatible with SQL, which does it with real SQL queries, that can also be extended to involve the values of other queries - in fact, anything that an SQL query can do.  </s>
<s> DT-8.  </s>
<s> Should the CHAR datatype use both SIZE and MAXSIZE parameters as in [2] (in [1], it only had SIZE and was conceived of as a fixed-size field)?  </s>
<s> Pro/Con: I don't understand [2] in this regard - I was following SQL in assuming that CHAR fields are fixed-size and thus need only one parm.  </s>
<s> DT-9.  </s>
<s> Should the numeric data types DECIMAL, INTEGER, and FLOAT use parameters designed to control the maximum datum size as in [2]'s XML-DIGITS, XML-DIGITS-R (both for DECIMAL and INTEGER) and XML-BITS (for FLOAT) ([1] provides only SCALE, for DECIMAL, and nothing else).  </s>
<s> Question: what is DIGITS-R, anyhow?  </s>
<s> It doesn't show up in the example and is not otherwise explained.  </s>
<s> Pro: Better control over the storage requirements, and another useful validation step.  </s>
<s> Con: More machinery - perhaps beyond XML's complexity cost/benefit ratio.  </s>
<s> DT-10.  </s>
<s> For the FLOAT datatype, should we prescribe that these internally correspond to IEEE floats (as proposed by someone I forget who)?  </s>
<s> Pro: This would make comparison and sorting deterministic, and ensure that the string representation corresponds to a particular bit pattern.  </s>
<s> Con: Overspecification - comparison/sorting of the strings is deterministic anyhow, also presumably of the underlying bit patterns, anybody who compares a string against a bit pattern has rocks in their head anyhow.  </s>
<s> - Tim  </s>
<s> "I think that we should start to unify and rationalize element content and attributes.  </s>
<s> SGML/XML has enough special cases and un-unified concepts as it is.  </s>
<s> "I personally feel uncomfortable with the notion that attribute are only in the language because they are "convenient".  </s>
<s> If that were the case then why do we treat them so differnt from content in the grove model, in our stylesheet languages, in our query languages, in our SGML editors, etc.  </s>
<s> In my mind, attributes are *named data roles*, like "members" in an OOP language, or "properties" in the grove model.  </s>
<s> As in the grove model, content is a special attribute, the attribute that describes the spanning tree that we call the "document hierarchy".  </s>
<s> Thus I consider moves to make attributes and elements even more different a step backwards."  </s>
<s> I agree completely.  </s>
<s> Similarly, I agree with your point that our thinking about datatypes is dependent on what we do with namespaces.  </s>
<s> Datatypes live within some namespace.  </s>
