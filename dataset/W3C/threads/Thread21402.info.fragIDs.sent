Hi all, I noticed that annotations posted with Amaya aren't including time zone information in the date they post. 
They send something like: 2003-03-04T11:04:10 which doesn't give enough information. 
what we need is more like: 2003-03-04T11:04:10-06:00 I think the protocol document has the time zone in the created and date fields. 
thanks, Doug 
We use UTC and the times should have a Z after the time but is was dropped out by accident in our implementation. 
It was supposed to be corrected but I'll check that it is on the todo list. 
Here is an extract from the new protocol document (http://www.w3.org/2001/Annotea/User/Protocol.html). 
Is there a reason why this is not enough? 
The times can be converted to local time by the client if that is known. 
Marja 
Adding the 'Z' would be sufficient to specify the point in time (and be ISO8601 compliant). 
But sending UTC will lose the information about which timezone the poster was in, which could be useful. 
If you send local time + timezone, the server can retain that info. 
--Brent 
Please correct me if I'm wrong, but i'm using ZAnnot 0.3 and the dates are sent like this: a:created="2003/02/06 11:28:08 +0100" d:date="2003/02/06 11:28:08 +0100" Shouldn't they be in ISO 8601 format, as specified in the Annotea Protocol document? 
Thanks a lot, Pierre Queinnec. 
In the new RDF specifications there is the possiblity to specify a datatype for a literal. 
So we can write a date in one or another format, and provide a datatype that identifies the year, month, second, etc so they can be related to a different string format for date/time. 
For now there is only what DC says about date at Recommended best practice for encoding the date value is defined in a profile of ISO 8601 [W3CDTF] and follows the YYYY-MM-DD format. 
and a similar note in the Annotation schema itself yyyy-mm-ddThh:mm:ssZ format recommended So it seems legal to use any kind of date format, if not carefully following the recommendations. 
(Having datatyping will be something that can help us here...) cheers Chaals 
Hmmm. Indeed you are correct. 
Unfortunately, changing this seems to break the latest CVS Annozilla since Mozilla's javascript doesn't natively understand ISO 8601 dates. 
I'll release a new ZAnnot that corrects this once Annozilla 0.4 comes out. 
In the meantime, this shouldn't cause problems for anyone since Amaya seems to just treat it as a string. 
But if anyone is interested I can post a patch. 
--Brent 
The only place where the dates are used in Amaya is when doing reply threads. 
They are used during the sort. 
I'm upgrading the date functions of the Annotea part of Amaya to take into account this. 
And yes, it was a bug, the 'Z' was missing for some mysterious reason. 
-jose 
A follow-up, 
We modified the Amaya code so that now we respect the ISO 8601 format, as specified in [1]. 
We can parse both formats: 1994-11-05T08:15:30-05:00 1994-11-05T13:15:30Z 
And we output the first format now (with the time zone offset). 
The patch is commited to CVS and will be available in the next Amaya release. 
-jose 
[1] http://www.w3.org/TR/NOTE-datetime 
For [backward] compatibility, the Amaya fix will also accept timestamps that have no time zone designator. 
It will treat these as if they are in the local time of the current Amaya session. 
At the present, Amaya only parses this data when it sorts the list of replies to an annotation thread. 
I believe that the Amaya fix makes this part of Amaya support the full syntax of [1]; specifically, the seconds are optional and fractions of sections are accepted (and ignored). 
