<s> It would make us broken because of the following scenario: A server recieves a GET from a client, the request is marked HTTP/1.1.  </s>
<s> The server now knows it is dealing with a 1.1 client.  </s>
<s> So, no problem, according to the HTTP/1.1 Draft Standard a 1.1 client MUST honor the content-base header.  </s>
<s> So the server sends down a content-base expecting that the body will be interpreted using the content-base header to resolve relative URIs.  </s>
<s> Of course now the wrong thing will happen, the IE client will NOT honor the content-base header because it is based on the proposed standard where content-base is a MAY and the whole situation falls apart.  </s>
<s> So therefore changing the MAY to MUST breaks HTTP/1.1 proposed standard compliant implementations which choose to honor the may, as is their right, by ignoring the header.  </s>
<s> Yaron  </s>
<s> From:jg@pa.dec.com [SMTP:jg@pa.dec.com]  </s>
<s> Sent:Thursday, January 08, 1998 12:56 PM koen@win.tue.nl; http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com Subject:RE: MUST use Content-Base  </s>
<s> From: Yaron Goland yarong@microsoft.com  </s>
<s> Date: Thu, 8 Jan 1998 11:45:59 -0800 Foteos Macrides MACRIDES@SCI.WFBR.EDU , koen@win.tue.nl, http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com Subject: RE: MUST use Content-Base To be clear, I fully understand that RFC 2068 was a proposed, not  </s>
<s> draft,  </s>
<s> standard.  </s>
<s> As such it is subject to changes and bug fixes.  </s>
<s> The point I  </s>
<s> am  </s>
<s> trying to make is that we should go to great pains to ensure that  </s>
<s> nothing we  </s>
<s> do in going from proposed to draft will render proposed based implementations unusable.  </s>
<s> Sure.  </s>
<s> That is the point of IETF standards track processes...  </s>
<s> If we raise content-base to a MUST then we make my client unusable.  </s>
<s> A server, seeing my client's claim to be HTTP/1.1, will think it can rely  </s>
<s> upon  </s>
<s> sending a content-base and having it read and processed.  </s>
<s> That will not  </s>
<s> be  </s>
<s> the case with my client.  </s>
<s> My client will ignore the header and the  </s>
<s> result  </s>
<s> will be something other than what the server expected.  </s>
<s> Thus changing content-base from may to MUST results in my client doing the "wrong"  </s>
<s> thing  </s>
<s> vis a vie the standard.  </s>
<s> Hence my client has been defined, by fiat, as broken.  </s>
<s> If what you do is ignore the header, then you are no worse off than any HTTP/1.0 client.  </s>
<s> I don't see this as a very serious problem, as a result.  </s>
<s> If you implemented it, and did something different, then we'd have a bigger problem.  </s>
<s> But we aren't declaring anyone's implementation broken here; we're declaring the specification broken here.  </s>
<s> The spec wasn't clear that the intent was that everyone implement Content Base.  </s>
<s> So I disagree with the assertion that you are "broken".  </s>
<s> The fault isn't in the code, it it's the specification that's busted.  </s>
<s> Not the first time, and (unfortunately) probably not the last time.  </s>
<s> To repeat, if we are to convince companies to implement proposed  </s>
<s> standards  </s>
<s> then we must go as far as possible to ensure that moving to draft  </s>
<s> doesn't  </s>
<s> render their implementation broken.  </s>
<s> Sometime, I understand, this is  </s>
<s> totally  </s>
<s> unavoidable.  </s>
<s> That is the risk of implementing a proposed standard.  </s>
<s> But  </s>
<s> this  </s>
<s> case is not one of those instances.  </s>
<s> I'd like to understand the consequences of different possible courses of action.  </s>
<s> Yaron PS Is it appropriate to get into a conversation about why content-base  </s>
<s> is  </s>
<s> just a bad idea, from a design point of view?  </s>
<s> There was a reason why we didn't implement it.  </s>
<s> Yes, though it sure would have been better to raise it as an issue last year.  </s>
<s> We wouldn't be having this mail exchange if it had been.  </s>
<s> If the right solution is to remove it from the spec, (and have an independent document for a replacement for Content-Base), that is another possible course of action, for example.  </s>
<s> Let's explore the possible solutions...  </s>
<s> -----Original Message----- From:jg@pa.dec.com [SMTP:jg@pa.dec.com]  </s>
<s> Sent:Thursday, January 08, 1998 7:39 AM http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com Subject:RE: MUST use Content-Base  </s>
<s> From: Yaron Goland yarong@microsoft.com  </s>
<s> Date: Wed, 7 Jan 1998 22:00:42 -0800 Foteos Macrides MACRIDES@SCI.WFBR.EDU , koen@win.tue.nl  </s>
<s> Subject: RE: MUST use Content-Base Nothing like defining current implementations as broken to really  </s>
<s> get  </s>
<s> companies excited about the open standards process.  </s>
<s> "Be standards compliant" I said.  </s>
<s> "It's an RFC" I said.  </s>
<s> Sigh...  </s>
<s> Yaron  </s>
<s> Yaron, You conformed as well as you knew how to RFC 2068.  </s>
<s> No one said that  </s>
<s> you  </s>
<s> didn't.  </s>
<s> You can with a straight face continue to claim compliance  </s>
<s> with  </s>
<s> 2068 (and I, for one, will defend your claims for Content-Base).  </s>
<s> Please  </s>
<s> also read the IETF definition of what a proposed standard is.  </s>
<s> We are  </s>
<s> not  </s>
<s> declaring anyone broken (except the specification, that is, which is broken).  </s>
<s> Unfortunately, 2068 has an ambiguity.  </s>
<s> You are far from alone in  </s>
<s> believing  </s>
<s> it to be capable of multiple interpretations by well minded people  </s>
<s> with  </s>
<s> the best of intentions.  </s>
<s> (I certainly believe it capable of multiple interpretations).  </s>
<s> Other people have the other interpretation... Are  </s>
<s> they  </s>
<s> supposed to not be "standards complient"?  </s>
<s> Or are you saying that the Microsoft implemetation is the only implementation that matters?  </s>
<s> I think that Netscape might have some other opinion here, for example.  </s>
<s> In the future you'll be complient to RFC 2XXX (the sucessor to 2068) (which one way or the other won't have the ambiguity).  </s>
<s> And the process  </s>
<s> ensures  </s>
<s> that compliance to RFC 2XXX, as a draft standard, should mean you  </s>
<s> remain  </s>
<s> compliant with 2068.  </s>
<s> This is why there is interoperability testing; to find and fix  </s>
<s> problems  </s>
<s> in the specification, and end up with multiple INTEROPERABLE implementations that can be implemented from the specification successfully.  </s>
<s> Given  </s>
<s> the  </s>
<s> multiple possible interpretations, and multiple implementations, it  </s>
<s> isn't  </s>
<s> always possible to fix a problem without someone having to change an implementation.  </s>
<s> What we're trying to figure out here is what the right solution is to remove the abiguity, with minimum short term AND long term impact.  </s>
<s> My  </s>
<s> previous  </s>
<s> mail stated a PERSONAL opinion of what should happen; it is not a  </s>
<s> "done  </s>
<s> deal" (none has been made as yet, though I'll take one eventually if  </s>
<s> there  </s>
<s> is no "rough consensus", so that we make progress in a timely  </s>
<s> fashion).  </s>
<s> This is why I often keep quiet until relatively late in discussions  </s>
<s> on a  </s>
<s> topic in HTTP; I take the responsibility of trying to reflect the  </s>
<s> working  </s>
<s> group "rough consensus" very seriously.  </s>
<s> I do not act against the  </s>
<s> working  </s>
<s> group opinions.  </s>
<s> This having been said, we (the working group) need to figure out what  </s>
<s> the  </s>
<s> right solution is.  </s>
<s> So: 1) data on what current implementations do is very useful.  </s>
<s> 2) understanding what options we have is useful 3) understanding what the consequences of following each options is useful.  </s>
<s> Hand wringing, and worrying about whether one is "compliant" is not useful.  </s>
<s> Note that understanding the consequences of a change are covered in  </s>
<s> 3.  </s>
<s> I'd like to hear from others who can help on these points,  </s>
<s> particularly  </s>
<s> those who've implemented it.  </s>
<s> - Jim Jim Gettys Industry Standards and Consortia Digital Equipment Corporation Visting Scientist, World Wide Web Consortium, M.I.T. jg@w3.org,  </s>
<s> jg@pa.dec.com  </s>
<s> Jim Gettys Industry Standards and Consortia Digital Equipment Corporation Visting Scientist, World Wide Web Consortium, M.I.T. jg@w3.org,  </s>
<s> jg@pa.dec.com  </s>
<s> Sorry Yaron, there is no MAY in the Content-Base definition of RFC 2068 aside from the optional decision of the server.  </s>
<s> If the browser does not implement Content-Base as specified, then the browser is not compliant with HTTP/1.1 as specified in RFC 2068.  </s>
<s> Scott's proposal was merely a clarification.  </s>
<s> If, on the other hand, you want to argue that Content-Base is not going to be implemented, and therefore should not be in the HTTP/1.1 standard, then that's a valid concern.  </s>
<s> When I was rewriting the URI specification and arguing with the MHTML group, I came to the conclusion that Content-Base is not needed provided that Content-Location is implemented as specified.  </s>
<s> The reasoning was similar to what Dave Morris mentioned: the only person capable of knowing whether or not the embedded references in a document are relative to some other namespace is the document creator, and they are better-off making that distinction within the document.  </s>
<s> Granted, some formats may not have the equivalent of HTML's BASE, but I would argue that those formats are very unlikely to contain relative references.  </s>
<s> Does MSIE implement Content-Location as specified?  </s>
<s> Note that this will eventually be very important, since it enables the reduction of external redirect messages for internally redirected content.  </s>
<s> ....Roy  </s>
<s> From: "Roy T. Fielding" fielding@kiwi.ics.uci.edu  </s>
<s> (material elided...)  </s>
<s> Do others agree with Roy's analysis?  </s>
<s> Is this true in the face of  </s>
<s> negotiated resources, where Content-Location might be used to tell you where the underlying version is found?  </s>
<s> The minimalist in me says if we don't actually need a mechanism, or a different mechanism we do need can be used to solve a problem, we shouldn't have it... And we haven't heard other opinions (e.g. lynx, etc....).  </s>
<s> I'd like to hear from others who've formed opinions.  </s>
<s> - Jim  </s>
<s> Jim Gettys Industry Standards and Consortia Digital Equipment Corporation Visting Scientist, World Wide Web Consortium, M.I.T. jg@w3.org,  </s>
<s> jg@pa.dec.com  </s>
<s> Jim Gettys:  </s>
<s> From: "Roy T. Fielding" fielding@kiwi.ics.uci.edu  </s>
<s> I agree that Content-Base is not really needed.  </s>
<s> As far as I can see, the removal of Content-Base will not break any proposed content negotiation scheme.  </s>
<s> Koen.  </s>
