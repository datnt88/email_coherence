<s> I have a resource called http://a/b/c.  </s>
<s> I delete http://a/b.  </s>
<s> Is http://a/b/c deleted?  </s>
<s> Yaron  </s>
<s> From: Larry Masinter [mailto:masinter@parc.xerox.com]  </s>
<s> Sent: Thursday, August 20, 1998 7:38 PM Subject: RE: Hierarchical URLs and Collections This is an odd discussion, since people seem to be putting up strawman proposals and then knocking them down.  </s>
<s> The objection to the current WebDAV spec is that it requires the client to parse the URL in ways that are otherwise not required.  </s>
<s> I think part of the issue is that the 'parent' is an attribute of the resource locator, and not an attribute of the resource itself.  </s>
<s> The 'value' is that it no longer requires that the URL hierarchy match the (direct) containment hierarchy.  </s>
<s> For example, if put up a DAV server as I might want to treat 'root' as a container, but not have the client assume that the parent of 'root' is and that the parent of that resource is etc. Clients shouldn't parse URLs except to deal with relative references.  </s>
<s> This is not a "multi-membership" issue, nor a direct vs. referential issue; those are perhaps issues too, but let's leave them aside for now.  </s>
<s> The issue is that currently the semantic concept of direct containment is equated with syntactic MUST constraints on the URL syntax.  </s>
<s> That syntactic mapping is certainly required by most file systems, but it shouldn't be required here.  </s>
<s> From "4.1 Collection Resources" of the April 7 (version 08) draft:  </s>
<s> A collection is a resource whose state consists of at  </s>
<s> least a list  </s>
<s> of internal members and a set of properties, but which may have additional state such as entity bodies returned by GET.  </s>
<s> An internal  </s>
<s> member resource MUST have a URI that is immediately  </s>
<s> relative to the  </s>
<s> base URI of the collection.  </s>
<s> That is, the internal  </s>
<s> member's URI is  </s>
<s> equal to the parent collection's URI plus an additional segment where segment is defined in section 3.2.1 of RFC 2068  </s>
<s> [Fielding et  </s>
<s> al., 1996].  </s>
<s> There are NO OTHER parts of the web or the WebDAV protocol that require this constraint.  </s>
<s> The DocuShare WebDAV-style Windows client works without that constraint because it deals with the content of PROPFIND requests, not the syntax of resource URLs.  </s>
<s> You certainly don't need the syntax to walk down the tree - PROPFIND clearly tells what a collection's members are.  </s>
<s> If we add a server-side operation for obtaining the DAV 'parent' of a resource (locator), then that kind of approach to walking the hierarchy will be more general and more robust.  </s>
<s> The _server_ should be the source of hierarchical knowledge, not the client or syntactic conventions.  </s>
<s> The server would then be free to store and reference content as it wishes and the client doesn't need to care.  </s>
<s> It may have confused the issue to make this operation 'PROPFIND', since it doesn't actually apply to the resource but to the locator.  </s>
<s> Larry  </s>
<s> |I have a resource called http://a/b/c.  </s>
<s> I delete http://a/b.  </s>
<s> Is http://a/b/c |deleted?  </s>
<s> Is this a trick question?  </s>
<s> DELETE instructs that the collection specified in the request-URI and all its internal member resources are to be deleted.  </s>
<s> So whether deleting http://a/b deletes http://a/b/c by dint of this rule depends on whether http://a/b/c is or isn't an internal member resource of http://a/b.  </s>
<s> For the most part, WebDAV works fine without the assumption that resource membership hierarchy is mapped onto URL syntax.  </s>
<s> Of course, if we allow a resource to be an 'internal member' of multiple collections, why, we might have to resort to reference counting!  </s>
<s> Or even garbage collection!  </s>
<s> Larry (resource contained in http://www.parc.xerox.com/istl/members/)  </s>
<s> For the most part, WebDAV doesn't define things in terms of the URL syntax.  </s>
<s> The only thing it does is internal members, and that's because people did want to require that http://a/b/c be deleted whenever  </s>
<s> I am all for a member of a collection that may appear in multiple collections and does not act like an external reference.  </s>
<s> However, that thing is called a direct reference (or alias) and not 'internal member'.  </s>
<s> And yes, you might need reference counting and garbage collection to keep track of aliased resource disposal, but not for internal members.  </s>
<s> Calling both things an 'internal member' makes it impossible to describe the requirements of internal resources that do not exist independent of the collection.  </s>
<s> ....Roy  </s>
<s> |For the most part, WebDAV doesn't define things in terms of the |URL syntax.  </s>
<s> The only thing it does is internal members, and that's |because people did want to require that http://a/b/c be deleted whenever |http://a/b/ is deleted.  </s>
<s> If you defined this in terms of 'internal member' rather than syntactically, then the requirement would be stated by semantics rather than by the URL syntax.  </s>
<s> This would then not disallow systems that didn't follow the syntactic convention.  </s>
<s> I think we're talking past each other.  </s>
<s> Isn't it better to not require a syntactic convention if there's no justification for it?  </s>
<s> |I am all for a member of a collection that may appear in multiple |collections and does not act like an external reference.  </s>
<s> However, that |thing is called a direct reference (or alias) and not 'internal member'.  </s>
<s> You're justifying the design by making reference to the design, so this seems like a circular argument.  </s>
<s> WebDAV has a concept called 'internal member', and it maps it onto a syntactic convention.  </s>
<s> And anything that doesn't follow the syntactic convention you have to assign a different concept.  </s>
<s> But the concept works fine without the syntactic convention, in which case you wouldn't have to call it something else.  </s>
<s> It sounds like you're trying to _explain_ the design, but I understand the design, I'm just asking that the design be changed.  </s>
<s> If you're explaining why you shouldn't change the design, saying "because we called the thing you want to do something else" isn't a good justification.  </s>
<s> |Calling both things an 'internal member' makes it impossible to describe |the requirements of internal resources that do not exist independent |of the collection.  </s>
<s> No! An internal member is something that doesn't exist independent of the collection(s) that contain it.  </s>
<s> That's the definition, and the requirement.  </s>
<s> Now you have another requirement, which is that "The URL of an internal member has a particular syntactic relation to the URL of the container", but that requirement isn't justified.  </s>
<s> Larry  </s>
<s> We are definitely talking past one another.  </s>
<s> The real problem is that WebDAV defines namespaces, not collections in the general sense.  </s>
<s> The hierarchical requirement does make sense for a namespace.  </s>
<s> What I was trying to explain was that the requirement only applies to that subset of collections which is a namespace, though I've pretty much gotten to the point where I'd be a lot happier if WebDAV wouldn't use general terminology to refer to something that has been restricted (for ease of deployment) to only a subset of what real collections are capable of supporting.  </s>
<s> The functionality you want is part of the advanced collections requirements and is currently called a direct reference.  </s>
<s> Maybe it should also be called an internal member, but that means you have to go back and invent a new term for internal members that are not direct references.  </s>
<s> I hope that this will be easier to do sometime this week in the hallways or DAV-WG meeting rather than trying to wrangle terminology on the list.  </s>
<s> ....Roy  </s>
