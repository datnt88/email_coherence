<s> Although it seems to be past the October 8, 1999 last call date, here are several questions, little suggestions, and some larger issues (potentially important) with the 23 September 1999 version of the DOM Level 2 Specification.  </s>
<s> I believe some of them are important, and I apologize that they are not arranged in any particular order, or if they have been raised before.  </s>
<s> (I have not looked at the W3C list archives, and have not subscribed to this list.  </s>
<s> Perhaps someone can send me subscription information) * NamedNodeMap.item()'s comments says: Returns the code index /code th item in the map.  </s>
<s> If code index /code is greater than or equal to the number of nodes in the map, this returns code null /code .  </s>
<s> What about if index is less than zero?  </s>
<s> * The DocumentType has PublicID and SystemID, but Entity has PublicId and SystemId.  </s>
<s> The naming convention isn't consistent.  </s>
<s> * Suggestion: Add a public boolean containsNamedItem() to the NamedNodeMap interface.  </s>
<s> * How does one tell if an Entity is a general or parameter entity?  </s>
<s> * There seems to be a conflict between the nodeValue of an Attribute and its text children.  </s>
<s> Under Node, it says that the nodeValue contains the "value of the attribute," but setting Attribute.setValue apparently "creates a code Text /code node with the unparsed contents of the string."  </s>
<s> What happens, then, when an attribute has both a node value and text children?  </s>
<s> * The documentation for Node.importNode talks about the data and length "attributes" of nodes, as well as the publicID, systemID, and notationName "attributes."  </s>
<s> Perhaps "properties" is meant?  </s>
<s> (Note this type of reference is found throughout the DOM spec, but in a few cases it could be confusing when actual attributes are involved.)  </s>
<s> * The DOM CSS specification repeatedly mentions a DOMException of type INVALID_ACCESS_ERR, but the definition of this can't be found.  </s>
<s> It's not listed in DOMException.  </s>
<s> * Under CSSPrimitiveValue.get/setFloatValue(), CSS_PX is mentioned twice.  </s>
<s> * CSSValue has a set of unit types, and CSSPrimitiveValue has another set of  </s>
<s> unit types.  </s>
<s> The former is referred to as "valueType" and the latter as "primitiveType".  </s>
<s> This is fine, except the "valueType" of CSS_INHERIT seems  </s>
<s> in later discussion to get mixed in as a valid value of "primitiveType."  </s>
<s> The  </s>
<s> true value of "primitiveType" when a value is inherited is uncertain, since  </s>
<s> CSS_INHERIT is not listed as one of the possibilities.  </s>
<s> Perhaps a separate  </s>
<s> CSS_INHERIT should be defined for "primitiveType," and it should be listed  </s>
<s> as an accepted value under CSSPrimitiveValue.primitiveType.  </s>
<s> Also, how can  </s>
<s> "valueType" ever return CSS_INHERIT from this interface, if this interface  </s>
<s> is only returned when "valueType" is set to CSS_PRIMITIVE_TYPE?  </s>
<s> (This is where I miss the type-safe enum in C++ that aren't in Java, BTW, but that's  </s>
<s> a different issue.)  </s>
<s> * CSSStyleDeclaration.cssText does not have a description of parameter  </s>
<s> cssText in the documentation.  </s>
<s> * Under MediaList, SYNTAX_ERR is mistakenly listed as a DOMException and not as a CSSException, as it should be.  </s>
<s> * Why does CSSStyleDeclaration.item(), when there is no property at a particular index, return an empty string instead of null as other similar DOM functions do?  </s>
<s> Sincerely, Garret Wilson GlobalMentor, Inc. garret@globalmentor.com  </s>
<s> Good catch !  </s>
<s> It's now listed in DOMException.  </s>
<s> Fixed.  </s>
<s> I'm not sure I understand your comment.  </s>
<s> CSSValue.CSS_INHERIT is not mixed with  </s>
<s> primitiveType and you can't cast the CSSValue instance to CSSPrimitiveValue.  </s>
<s> I checked the latest public version [1] and there is a description for the  </s>
<s> parameter cssText.  </s>
<s> Fixed.  </s>
<s> Two reasons: - getPropertyValue also returns an empty string.  </s>
<s> - Some existing implementations already return an empty string on item() and getPropertyValue() and it was not possible to change that.  </s>
<s> Thank you for your feedbacks, Philippe.  </s>
<s> [1] Philippe Le Hegaret - http://www.w3.org/People/LeHegaret/ World Wide Web Consortium (W3C), DOM Activity Lead  </s>
<s> Philippe and others, [cut]  </s>
<s> set of  </s>
<s> seems  </s>
<s> The  </s>
<s> since  </s>
<s> separate  </s>
<s> listed  </s>
<s> can  </s>
<s> interface  </s>
<s> that's  </s>
<s> with  </s>
<s> CSSPrimitiveValue.  </s>
<s> Since my ramblings above aren't exactly straightforward, let me take it step-by-step.  </s>
<s> Please let me know where my assumptions go wrong:  </s>
<s> 1) Inheritance: The interface CSSPrimitiveValue descends from CSSValue.  </s>
<s> 1a) This means that every CSSPrimitiveValue has a "valueType" property which holds one of the constants of CSSValue.  </s>
<s> 1b) According to the spec, when CSSValue.valueType==CSS_PRIMITIVE_VALUE, "The value is a CSSPrimitiveValue."  </s>
<s> 1c) I take this to mean that whenever I have the CSSValue interface with its "valueType" set to CSS_PRIMITIVE_VALUE, the interface is also a CSSPrimitiveValue (meaning I can cast the CSSValue to a CSSPrimitiveValue).  </s>
<s> Or conversely, CSSPrimitiveValue.valuteType will always equal CSS_PRIMITIVEVALUE.  </s>
<s> 2) CSSPrimitiveValue defines a separate property, "primitiveType," which is distinct from CSSValue.valueType.  </s>
<s> 3) CSSPrimitiveValue.setStringValue() accepts a stringType parameter.  </s>
<s> 3a) According to the spec, stringType is "A string code as defined above.  </s>
<s> The string code can only be a string unit type (e.g. CSS_URI, CSS_IDENT, CSS_INHERIT and CSS_ATTR."  </s>
<s> 3b) Three of those codes (CSS_URI, CSS_IDENT, and CSS_ATTR) are defined under CSSPrimitiveValue as valid types for CSSPrimitiveType.primitiveType.  </s>
<s> The other code (CSS_INHERIT) is defined under CSSValue as a valid type for CSSValue.valueType.  </s>
<s> 3c) This seems to me to be mixing CSSValue.CSS_INHERIT with CSSPrimitiveType.primitiveType.  </s>
<s> Perhaps there's something I'm missing here...  </s>
<s> the  </s>
<s> So there is.  </s>
<s> I don't have a clue to what I was referring to here... :) Cheers, Garret Wilson GlobalMentor, Inc. garret@globalmentor.com  </s>
<s> Now that I have read the following XML document into memory.  </s>
<s> What DOM API can I use to parse out the content of the ProcessingInstruction and the DocumentType?  </s>
<s> thanks Document Title Name  </s>
<s> correct.  </s>
<s> incorrect.  </s>
<s> Every CSSPrimitiveValue has a "valueType" property and the value of this property can only be CSS_PRIMITIVE_VALUE.  </s>
<s> correct.  </s>
<s> We'll try to clarify this in the next version.  </s>
<s> You found an error in the specification.  </s>
<s> This statement is deprecated and should be removed.  </s>
<s> Philippe.  </s>
<s> above.  </s>
<s> Thanks for clearing that up, Phillipe.  </s>
<s> One other point about CSSPrimitiveValue.setStringValue():  </s>
<s> The listed types do not include CSS_STRING.  </s>
<s> Perhaps the specification is not meaning to provide an exhaustive list here, but I'm assuming it is (CSSPrimitiveValue.setFloatValue()  </s>
<s> seems exhaustive at first glance).  </s>
<s> It might be clearer if A) "e.g." is changed to "i.e." in both places to indicate that the lists for CSSPrimitiveValue.setFloatValue() and CSSPrimitiveValue.setStringValue() are both exhaustive.  </s>
<s> B) CSS_STRING is added to the list of possible values for CSSPrimitiveValue.setStringValue().  </s>
<s> Cheers, Garret Wilson GlobalMentor, Inc. garret@globalmentor.com  </s>
<s> What DOM API can I use to parse out the content of the ProcessingInstruction and the DocumentType?  </s>
<s> The example that you gave does not contain a processing instruction.  </s>
<s> It contains an XML declaration The XML spec explicitly says that this is not a PI, even though it uses PI-like syntax.  </s>
<s> The DOM hasn't yet officially decided whether to treat it as a pseudo-PI, as fields attached to the Document node, or in some other way.  </s>
<s> DOM Level 2 will add fields to DocumentType to hold the PUBLIC and SYSTEM IDs.  </s>
<s> However, it does not yet include any additional storage for the contents of the DTD.  </s>
<s> DOM Level 1's NamedNodeMaps for Entities and Notations will continue to be available in Level 2, but content model issues were deferred.  </s>
<s> If I remember correctly, both issues are expected to be addressed in DOM Level 3. Until then, you'll have to rely on the nonportable workarounds (if any) provided by your specific DOM and/or parser.  </s>
<s> Joe Kesselman / IBM Research  </s>
