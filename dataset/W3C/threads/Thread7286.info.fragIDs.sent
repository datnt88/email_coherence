<s> In so far as I am aware Catapult will just pass the information through.  </s>
<s> I am sure the Apache folks on this list will let us know what Apache does.  </s>
<s> Anyone know the Netscape story?  </s>
<s> As for caching, we need to differentiate between two different parts of this process.  </s>
<s> The first part is the request for an action, the second part is the action itself.  </s>
<s> Sending a COPY request does not cause a copy to occur.  </s>
<s> It only requests that a copy occur.  </s>
<s> It is up to the request handler to make the actual GETs and PUTs, or logical equivalent.  </s>
<s> If files are being copies across servers then the GETs and PUTs will take care of the caches.  </s>
<s> If the copy happens on a single server then we have a typical cache problem.  </s>
<s> What happens if you copy a file on a server?  </s>
<s> The cache contains bad information, that is what happens.  </s>
<s> Using methods does not solve this problem as copy allows for multiple simultaneous requests.  </s>
<s> Are we going to have caches parse the response messages to see which files were actually copied and then dump their corresponding cache entries?  </s>
<s> We are dancing around a problem that a lot of people are aware of - Server Push.  </s>
<s> However that is a whole other problem and I do not believe this is the right forum for it.  </s>
<s> My conclusion is that the cache consistency problem is inherent to the current cache infrastructure and that using methods does not solve this problem.  </s>
<s> One final note, using methods or using POST w/mime types are absolutely semantically equivalent.  </s>
<s> So any problem you bring up with POST w/mime types will also exist with methods.  </s>
<s> Yaron  </s>
<s> I'm interested in receiving feedback from the group on whether they feel having distributed authoring and versioning functionality is best performed via a POST (with many new content types), which is descreibed in the current spec., or whether it would be better to have this  </s>
<s> functionality  </s>
<s> implemented as many new methods, with parameters in headers, and mostly  </s>
<s> blank  </s>
<s> entity types.  </s>
<s> The primary constraint, I think, is how various proxy &amp; security gateway services might deal with POST-with-new-entity-body vs. a new method.  </s>
<s> A survey ("what's actually implemented?")  </s>
<s> would be useful, since otherwise we're left with speculation.  </s>
<s> A secondary issue (which doesn't actually affect the choice) is the question of cache invalidation, e.g., after copy(a, b), any cache entries for B should be invalidated even if are otherwise fresh, if we're going to require sequential transparency of information delivered through the same set of proxies.  </s>
<s> E.g., if you do copy(a, b) and then ask for b, then YOU see the version you copied even if others who use a different cache might be updated later.  </s>
<s> This is already an issue for POST, PUT and DELETE, but http-wg didn't (yet) create any mechanism for doing this.  </s>
<s> Larry  </s>
<s> In message c=US%a=_%p=msft%l=RED-44-MSG-961029200115Z-1264@INET-03-IMC.itg.mic  </s>
<s> Methods are semantically equivalient to POST w/mime types iff the spec says they are.  </s>
<s> That's the beauty of new methods: they can have new semantics.  </s>
<s> I don't have any strong intuitions, but I think it's possible new methods could usefully address some caching issues.  </s>
<s> I'd have to see a spec.  </s>
<s> Dan  </s>
<s> I think that is great idea but is this the group to propose it?  </s>
<s> We should raise flags with other groups but I think we need to keep the RFC tightly focused on distributed authoring and versioning.  </s>
<s> Yaron I was thinking more of a return header from ANY request that identified a set of other URLs whose cache entries should be marked stale.  </s>
<s> So, if you POST a new entry to you might get back a return header that it updated: or (even) This puts the computational burden on the update method rather than retrieval, and is predicated on an assumption that reads happen far more frequently than writes.  </s>
<s> Larry  </s>
<s> I have discussed this off line with Roy and frankly I think this is a religious issue.  </s>
<s> Roy and I have fundamentally different visions of what HTTP should become.  </s>
<s> As with the attributes discussion, I do not believe this issue can resolved on this list in anything like a reasonable amount of time.  </s>
<s> This is another issue that should be dealt with at the November conference.  </s>
<s> I realize that pushing stuff off to November sounds like whimping out but I have seen these discussions roll on in e-mail and they take forever and rarely resolve themselves.  </s>
<s> It is only when you get people in a room that you can get any kind of resolution.  </s>
<s> These issues are too fundamental to be argued out on an e-mail list.  </s>
<s> Yaron  </s>
<s> From:Roy T. Fielding [SMTP:fielding@liege.ICS.UCI.EDU] Sent:Saturday, November 02, 1996 3:53 AM Subject:Re: POST vs. separate methods  </s>
<s> The issue is change control: once you define the semantics of a new method, there's little or no way to change it or update it.  </s>
<s> Adding new methods is currently (intentionally) difficult.  </s>
<s> PEP might make it easier, but I'll believe in PEP when I see more progress on it.  </s>
<s> On the other hand, there's a well defined mechanism for defining, modifying, agreeing on, registering new media types.  </s>
<s> So "POST with new media type" isn't equivalent to "new method" in the important dimension of "what happens if we get it wrong".  </s>
<s> I'll disagree with Larry and Yaron on this one -- there is a giant difference between using media types to define the intended action and using methods to define the intended action.  </s>
<s> a) access control is based on methods, not media types.  </s>
<s> It is true that you could change all WWW software and HTTP semantics such that you could do access control via media types, but there had better be a damn good reason for it [I haven't seen any yet].  </s>
<s> b) the HTTP interface is designed to be capable of being the interface to a general object store, where the method really is an OO method to be applied to an object.  </s>
<s> For a variety of reasons, it is better to have separate names for separate semantics, rather than a single name for all method calls and having the object determine the semantics by some case-based switch on one of the parameters.  </s>
<s> I'll also disagree with Larry on the notion of media types being any easier to change than methods.  </s>
<s> Anybody ever try to change application/x-www-form-urlencoded (the media type used by default in WWW form-based entry)?  </s>
<s> That was an incredibly poor design decision, known from the start, and yet we still can't get rid of it.  </s>
<s> I personally would rather have the definition of standard methods go through the RFC process; non-standard methods don't have to go through any process.  </s>
<s> As an implementer, it is easier (and better) to add support for a new method to the Apache server than it is to add access control by media type.  </s>
<s> If you get it wrong, just change the method name.  </s>
<s> .....Roy  </s>
<s> Yaron, # I have discussed this off line with Roy and frankly I think this is a # religious issue.  </s>
<s> Roy and I have fundamentally different visions of what # HTTP should become.  </s>
<s> I think your characterization of this as a 'religious' issue is insulting, and the idea that a discussion at the November conference might resolve something about the future of HTTP is presumptuous.  </s>
<s> I've yet to see anything here that constitutes a 'religious' argument.  </s>
<s> I've tried to raise in a constructive manner the concerns about representations of metadata and document attributes in network protocols and in HTTP that I've seen, and raised the points in a way that I'd hoped was constructive.  </s>
<s> Are you just frustrated by the considerations we've raised?  </s>
<s> Who is Del Jensen, and why should we hand over the editing of the draft to him/her?  </s>
<s> Regards, Larry  </s>
<s> Actually the server people and the client people love the POST idea because it is fully backwards compatible with everything out there.  </s>
<s> By implementing the new functions through POST we can take any currently existing server and client and have it work with the system.  </s>
<s> Yaron  </s>
<s> From:Roy T. Fielding [SMTP:fielding@liege.ics.uci.edu]  </s>
<s> Sent:Tuesday, November 05, 1996 8:30 PM Subject:Re: POST vs. separate methods Jim summarized ...  </s>
<s> In a nutshell, Roy and Yaron differ in their model of a web server.  </s>
<s> Roy sees a web server as a collection of objects, with methods defined on them, a la object-oriented programming.  </s>
<s> Yaron sees a web server as a collection of agents (computational entities), of which some serve documents, while others perform activities like "copy" or "server diff."  </s>
<s> In fact, there may be many agents capable of performing an activity, and a single agent may be capable of handling more than one type of activity.  </s>
<s> Ummmm, not quite.  </s>
<s> My view (and my experience) is that HTTP is an interface mechanism between clients and servers.  </s>
<s> Any reduction of that interface based on the assumed needs of one particular implementation of an HTTP server is just plain wrong -- wrong because it limits the possible implementations of whatever it is you want to accomplish.  </s>
<s> JigSaw and Apache are two very different ways of implementing a server, but both ways have their advantages.  </s>
<s> (JigSaw is OO-based and Apache is handler-based).  </s>
<s> Likewise, a Hyper-G server's view of what a "directory" may be is substantially different from that of the NCSA or CERN servers.  </s>
<s> Nevertheless, everything that you might want to do in the way of distributed authoring can be done in such a way that the implementation is independent of the interface, unless you make the mistake of assuming things about the implementation when you design the interface.  </s>
<s> HTTP includes methods (that define actions) and resources (that define the point of the server's namespace) and parameters (request headers) and data (entity headers and body).  </s>
<s> What the server does with those things is defined by the semantics of the method and acknowledged by the server's response (including Vary, if necessary).  </s>
<s> How the server does it is none of HTTP's business.  </s>
<s> The advantages of the Object Oriented view stem from the fixed set of methods: this fixed set is understood better by existing Web technology (e.g., caches), and can be used to implement a simple access control scheme (method x user -- ACL).  </s>
<s> Not at all!!!! Feature X can be triggered by any media type that is defined to perform that action.  </s>
<s> So copy would initially be performed through application/copy.  </s>
<s> There is nothing stopping application/foobar from also doing copy.  </s>
<s> In addition all the mime types we are defining are versioned.  </s>
<s> So if you don't like application/copy as we have defined it, no problem, just change the version number in the mime file and implement anything you want.  </s>
<s> There are no restrictions.  </s>
<s> We may even want to create a header to indicate the version of the enclosed mime file so you can negotiate on that as well.  </s>
<s> That is a much more powerful form of negotiation then we currently have with methods.  </s>
<s> Thus you can negotiate any kind of copy you want.  </s>
<s> Including querying the server to see if it supports application/foobar.  </s>
<s> It is generic, negotiable, and brain dead easy to implement.  </s>
<s> In addition we need to differentiate between requesting an action and performing an action.  </s>
<s> When you make a copy request nothing actually happens.  </s>
<s> What you have done is requested that the server take certain actions on your behalf.  </s>
<s> Conceptually the copy doesn't occur until the server goes out and performs a bunch of GETs and PUTs.  </s>
<s> A COPY method is meaningless without its content body.  </s>
<s> Unlike GET or HEAD where all the information about the request is in the header, for operations like COPY, MOVE, and RENAME, the entity-body contains the critical data.  </s>
<s> Originally we were going to sidestep this problem by introducing a billion new headers which would allow us to put all the information about a COPY in the header but we understand that this wasn't a good idea.  </s>
<s> Thus introducing a bunch of new methods buys you nothing.  </s>
<s> The real action is in the content type.  </s>
<s> Yaron  </s>
<s> From:Daniel W. Connolly [SMTP:connolly@beach.w3.org] Sent:Tuesday, November 05, 1996 8:59 PM Subject:Re: POST vs. separate methods  </s>
<s> I understand that it is possible to ignore that and to do everything under a single method and to encapsulate the semantics of the request within the message body.  </s>
<s> The reason we don't do that is [...] it also frees the media type from having any semantics other than "this is the format of what is contained within the body."  </s>
