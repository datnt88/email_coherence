Any chance for an option to *not* wrap the style section in "commented" CDATA sections? 
There are no ' ' or '&amp;' characters needed in any version of CSS. 
It would be sooo much nicer to have just a plain instead of the grotesque /* ![CDATA[*/ /*]] */ currently emitted with XHTML output. 
Thanks, /Jelks PS. 
I tried sending this to the 'tidy-develop' list, but I keep getting an Unknown user: tidy-develop@lists.sourceforge.net 
error in the returned mail. 
Hello, I'd like to second that. 
Additionally each time I run tidy, another CDATA-section gets added. 
Resulting in things like /* ![CDATA[*/ /* ![CDATA[*/ /* ![CDATA[*/ /*]] */ /*]] */ /*]] */ regards Steffen Could you send sample input/config options to reproduce this behaivour? 
Yes... Long standing issue, see http://tinyurl.com/2yham if you like. 
It is however possible that style elements include , &amp; or ]] , a reference to a background image generated by a server side script, in generated content or comments for example. 
The current escape code is in pprint.c, it should be moved to clean.c and probably needs a rewrite to address several bugs listed in the bug tracker. 
Patches most welcome! 
(as are concrete proposals for configuration options). 
Works for me?! Hello, My configuration-file looks something like this: markup: yes wrap: 103 wrap-script-literals: no wrap-asp: yes break-before-br: yes indent: auto indent-spaces: 2 indent-attributes: no uppercase-tags: no uppercase-attributes: no hide-endtags: no enclose-text: yes quote-marks: no quote-nbsp: yes quote-ampersand: yes fix-backslash: yes clean: yes drop-font-tags: yes logical-emphasis: yes input-xml: no assume-xml-procins: no output-xml: yes output-xhtml: yes numeric-entities: no add-xml-pi: no show-warnings: yes doctype: strict char-encoding: ascii wrap-attributes: yes wrap-jste: yes drop-empty-paras: yes fix-bad-comments: yes word-2000: no numeric-entities: no tidy-mark: no add-xml-decl: yes join-classes: no escape-cdata: yes Is there something wrong with it? 
regards Steffen Input: p { color: red } p ... Tidy: % tidy -config a b | tidy -config a | tidy -config a Output: !DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd" /* ![CDATA[*/ p { color: red } /*]] */ I.e., I am unable to reproduce this behaivour. 
Hello, The problem seemingly is with the editor I use. 
It changes the CDATA to lowercase. 
Tidy does not recognice the marked section then - which I think is correct behaviour. 
regards Steffen A lack of competency and familiarity preclude patches, but as for a concerete proposal, how about something like: style-comment : yes | no | auto script-comment: yes | no | auto (i.e., "AutoBool"). 
"auto" would test for the presence of ' ' or '&amp;' within the pertinent content. 
I don't have a strong opinion either way as to what the defaults should be. 
If the general approach is to remain backwards-compatible with older Tidy versions (and head off the inevitable "Hey, what happened to my commented CDATA?" at the pass), they should be "yes" for both. 
Otherwise use "auto" for style (I initially thought it should be "no", but after reading your message, I concede the rare case), and either "auto" or "yes" for script -- probably "yes", because there's a likely probability of post-Tidy edits of script sections. 
What do you think? 
/Jelks 
