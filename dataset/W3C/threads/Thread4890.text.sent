In section A.2.2 Lexical Rules, " !--", " ?" and " ![CDATA[" go to XML_COMMENT, PROCESSING_INSTRUCTION, and CDATA_SECTION respectively with pushState(). 
The direct element constructor " " goes to START_TAG with pushState(OPERATOR) Since the OPERATOR state is not pushed for comments, pis, and cdata, the following is illegal: let $a := !-- foo -- return $a whereas let $a := ( !-- foo -- ) behaves correctly. 
We suggest changing " !--", " ?", and " ![CDATA" to push the OPERATOR state so the parentheses are not necessary. 
--Sarah Hi Sarah. 
Your last call comment in [1] has been given the ID qt-2004Jan0340-01. 
This is the official response from the XQuery and XSLT working groups. 
This issue has also been raised by Michael Dyck in [2]. 
The relevant patterns now "pushState(OPERATOR)" when in non-element content, and "pushState" in the ELEMENT_CONTENT state. 
Samples to test for this situation have been added to the regression tests for the test parser. 
Thank you for raising the comment. 
I would be grateful if you would confirm that this provides an adequate resolution. 
-scott [1] [2] Yes, thank you. 
