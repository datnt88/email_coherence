<s> Hi, I have a doubt regarding readonly nodes.  </s>
<s> I believe Entity, EntityReference, Notation and DocumentType nodes are readonly.  </s>
<s> Why does the DOM L1 conformance  </s>
<s> tests then fail, when the setNodeValue() throws a exception for these nodes.  </s>
<s> The tests pass when setNodeValue() is modified not to throw exception!!  </s>
<s> Why is it  </s>
<s> so? Can somebody clarify on this?  </s>
<s> Thanks, Amit Sun Microsystems, Inc.  </s>
<s> Sorry, I originally replied to the www-dom-ts list instead.  </s>
<s> This was a subject of debate a month or so ago.  </s>
<s> resolution from the work group.  </s>
<s> Basically, the WG decided that the explicit statement that setting a nodeValue has no effect when nodeValue is defined to be null took precedence over throwing an exception when the node is readonly.  </s>
<s> As of today DOM L1 SE, L2, L3 say: "The value of this node, depending on its type; see the table above.  </s>
<s> When it is definied to be null, setting it has no effect".  </s>
<s> But no one, neither errata says that no effect takes precedence over throwing exception.  </s>
<s> Is the precedence clause going to be in DOM L1 SE, L2 errata and L3?  </s>
<s> Thanks, Rahul.  </s>
<s> It is going to be a L2 erratum and included in L3. Regarding DOM L1 SE, no further developement are planned on it.  </s>
<s> Someone suggested a few months ago that it would be better to remove it.  </s>
<s> Philippe  </s>
<s> Philippe Le Hegaret wrote...  </s>
<s> Thanks for the clarification Philippe.  </s>
<s> Does this means L2/L3 are not backward compatible with L1 on this issue?.  </s>
<s> DOM L1 REC says: DocumentType - "The DOM Level1 doesn't support editing DocumentType nodes".  </s>
<s> Does it mean DocumentType nodes are readonly?. Notation - "The DOM Level1 doesn't support editing Notation nodes; they are therefore readonly".  </s>
<s> This means Notation nodes are readonly.  </s>
<s> Entity - "The DOM Level1 doesn't support editing Entity nodes; ....All descendants of an Entity node are readonly".  </s>
<s> This means Entity nodes itself are not readonly.  </s>
<s> EntityReference - "As with Entity node, all descendants of the EntityReference are readonly".  </s>
<s> This means EntityReference nodes itself are not readonly.  </s>
<s> Per L1 REC, only Notation is a readonly node.  </s>
<s> Further, DOM L1 REC says: nodeValue - The value of this node, depending on its type; see the table above.  </s>
<s> NO_MODIFICATION_ALLOWED_ERR: Raised when node is readonly.  </s>
<s> Should setNodeValue() for Notation throw an exception or L1 SE should be referred?  </s>
<s> DOM L1 WD SE differes with L1 REC:  </s>
<s> Entity - "The DOM Level1 doesn't support editing Entity nodes; ....Entity nodes and all their descendants are readonly".  </s>
<s> This means Entity nodes are readonly.  </s>
<s> The table has a value null for this node.  </s>
<s> EntityReference - "As for Entity nodes, EntityReference nodes and all their descendants are readonly".  </s>
<s> This means EntityReference nodes are readonly.  </s>
<s> The table has a value null for this node.  </s>
<s> Per L1 SE Notation, Entity and EntityReference nodes are readonly.  </s>
<s> Further, DOM L1 WD SE says: nodeValue - The value of this node, depending on its type; see the table above.  </s>
<s> When it is defined to be null, setting it has no effect.  </s>
<s> NO_MODIFICATION_ALLOWED_ERR: Raised when node is readonly.  </s>
<s> Should setNodeValue() for Notation, Entity and EntityReference throw an exception?.  </s>
<s> If L1 SE is thought to be removed, what is the resolution for L1 REC?.  </s>
<s> Perhaps an erratum should suffice.!? Thanks, Rahul.  </s>
<s> Ps: I agree w/ Joe that at the first place setNodeValue() should not be invoked for nodes which have a null value as per the table.  </s>
<s> But, it is always nice for the spec to be clear in such places to avoid any confusion.  </s>
<s> Hi, Thanks for all the clarification.  </s>
<s> Some of my questions, I asked below, are still unanswered.  </s>
<s> I would squeeze them into three small questions: 1.  </s>
<s> Should setNodeValue() for Notation throw an exception per L1 REC or L1 WD SE should be referred?  </s>
<s> 2. Should setNodeValue() for Notation, Entity and EntityReference throw an exception per L1 WD SE?. 3. What is the resolution for this? - Errata or leave it as it is.  </s>
<s> Thanks, Rahul.  </s>
<s> Rahul Srivastava wrote...  </s>
<s> Philippe Le Hegaret wrote...  </s>
<s> FYI, I added those questions on the agenda of the DOM f2f meeting next week.  </s>
<s> Philippe  </s>
<s> Philippe Le Hegaret wrote...  </s>
<s> Thanks Philippe.  </s>
<s> I would wait to know the comments of DOM WG on this issue.  </s>
<s> Thanks, Rahul.  </s>
