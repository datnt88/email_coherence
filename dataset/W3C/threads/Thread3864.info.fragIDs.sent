<s> Hi,  </s>
<s> You've probably already thought of this, but thinking about the possibility of using RELAX NG to provide type information during the construction of a node tree, I was wondering if the data model could be made more schema-language neutral by having the 'type' of a node be a sequence of QNames instead.  </s>
<s> For node trees derived from the PSVI from XML Schema validation, the sequence could contain the type of the node, its base type and so on up to and including xs:anyType/xs:anySimpleType.  </s>
<s> For node trees generated during RELAX NG validation, the sequence could contain the names of the define elements used while validating the content of the node.  </s>
<s> Even languages like Schematron could be used -- each rule could have an 'type' annotation and the node be assigned a type based on these annotations.  </s>
<s> Then type matching in sequence type matching could test whether the named type was listed within the type of the node without having to worry about (or depend on) type hierarchies being present.  </s>
<s> In parallel, I suppose that the name of an element could be a sequence also containing the name of the head elements of any substitution groups that it belongs to; the name() function could still just return the first (actual) name of the element, but the sequence could be used when doing sequence type matching.  </s>
<s> Cheers, Jeni Jeni Tennison  </s>
<s> This kind of thing has been suggested and rejected in the past, and the idea is currently being explored once again to see whether it solves any of the problems with anonymous types.  </s>
<s> I've no idea what the outcome will be: but thanks for the contribution.  </s>
<s> Michael Kay  </s>
<s> As far as I know, RELAX-NG is a Schema language that does validation but does not provide type information.  </s>
<s> There is, for example, nothing like the PSVI.  </s>
<s> Of course, it could be made to provide type info but that's a lot of work and what is the motivation for doing this work?  </s>
<s> All the best, Ashok  </s>
<s> This kind of thing has been suggested and rejected in the past, and the idea is currently being explored once again to see whether it solves any of the problems with anonymous types.  </s>
<s> I've no idea what the outcome will be: but thanks for the contribution.  </s>
<s> Michael Kay  </s>
<s> Hi Ashok,  </s>
<s> The reason any schema language provides type information is that it can be used in downstream processing of the XML document.  </s>
<s> Currently, there's no standard way of using that information at all; XPath 2.0 provides one.  </s>
<s> So the motivation for creating RELAX NG validators that make available type information would be the ability for people using XPath 2.0 to use it.  </s>
<s> It's certainly true that it is a lot of hard work to enable RELAX NG validators to create the data model currently required for XPath 2.0.  </s>
<s> That's why I wondered whether a slightly different XPath 2.0 data model would make that easier/possible and therefore XPath 2.0 less schema-language specific.  </s>
<s> Cheers, Jeni Jeni Tennison  </s>
