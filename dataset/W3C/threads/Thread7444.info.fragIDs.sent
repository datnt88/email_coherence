<s> I am adding some basic Digest Authentication to our WebDAV server and am trying to test this out using WebFolders as the client.  </s>
<s> I have a network sniffer set up so that I can see the interaction between WebFolders and Windows2000, but I do NOT see any HTTP Authentication headers being processed.  </s>
<s> Does anyone have any experience doing WebDAV authentication and having WebFolders (or Office2000 for that matter) as the client?  </s>
<s> Is there a way to "turn these headers on" in these clients?  </s>
<s> Or is it setup to be a challenge/response where the server has to challenge the client somehow?  </s>
<s> If so, how do I challenge?  </s>
<s> Any information would be great -- thanks in advance!  </s>
<s> Peter J. Carlson Engineering Manager, DataChannel pete@datachannel.com  </s>
<s> (425) 462-1999 x141  </s>
<s> I have some experience with this.  </s>
<s> I have used Web folders with Basic authentication, but have not yet used  </s>
<s> them with Digest authentication, and hence I cannot say anything about Web  </s>
<s> folders with Digest auth.  </s>
<s> Authentication in HTTP is a challenge/response protocol.  </s>
<s> Hence, what will happen is the WebDAV Explorer will make a request to the server, and the server will reply with one or more WWW-Authenticate headers, which then detail the kinds of authentication supported by that resource.  </s>
<s> The client then picks from among those authentication schemes, and returns authentication information in its response, which is the original request, with the addition of an Authenticate header which contains the authentication information.  </s>
<s> So, Web Folders won't just send an Authenticate header unless it first gets a WWW-Authenticate header back in a response.  </s>
<s> So, as you suspected, the challenge is configuring the server to issue the challenge.  </s>
<s> Since you specifically mention Windows2000, I'll note that on this platform (actually W2K server), to turn on this Basic authentication capability you go to the Internet Services Manager (Startup -- Administrative Tools), then select the folder you want to have authenticated, then select Properties, then select Security.  </s>
<s> Click "Edit.." button for "Anonymous Access and Authentication Control".  </s>
<s> Unselect "Anonymous access".  </s>
<s> Then click on "Basic authentication", and unselect other options.  </s>
<s> Then click OK, and Save.  </s>
<s> You can now authenticate as any user who has any permissions defined on the collection (add these users by, as Administrator, right clicking on the folder.  </s>
<s> Select the Security tab.  </s>
<s> Add/remove users.) Verify that Basic auth. is active by doing a HEAD request against the resource (via telnet).  </s>
<s> The resposne should include a single WWW-Authenticate header for Basic authentication.  </s>
<s> For an example of how you might configure a server to do Basic auth.  </s>
<s> using Apache mod_dav, you can check out this email from the dav-dev archives: - Jim  </s>
<s> As far as I can tell, Web Folders will have nothing to do with Digest authentication.  </s>
<s> In one mode, my server will send back challenges on the order of WWW-Authenticate: Basic realm="quux" Digest realm="quux" nonce="b806c84912cb622b25ffa4d6ec8dd98f" algorithm=MD5 qop="auth" and it promptly identifies the realm as 'quux" Digest realm="quux"' when prompting the user.  </s>
<s> :-P If I set my server to accept only Digest authentication, Web Folders will send Basic anyway and be rejected.  </s>
<s> %% Max Rible %% max@glyphica.com  </s>
<s> %% http://www.amurgsval.org/~slothman/  </s>
<s> %% %% "Before enlightenment: sharpen claws, catch mice.  </s>
<s> %% %% After enlightenment: sharpen claws, catch mice." - me %%  </s>
<s> Unless I'm misreading the BNF, your WWW-Authenticate header is incorrectly formatted.  </s>
<s> There must be a "," between the Basic and Digest challenges.  </s>
<s> From: Max Rible [mailto:max@glyphica.com] Sent: Tuesday, April 06, 1999 2:06 PM Subject: RE: Web Folders interoperability with Authentication?  </s>
<s> Hmmm... I must've mistaken a # for a * there... and, for that matter, on the other tokens for Digest auth.  </s>
<s> The Digest authentication code in JDK 1.2 doesn't seem to mind the lack of such things, hence I didn't notice that earlier.  </s>
<s> Thanks.  </s>
<s> With the commas added, the Web Folders client does seem to speak Digest.  </s>
<s> %% Max Rible %% max@glyphica.com  </s>
<s> %% http://www.amurgsval.org/~slothman/  </s>
<s> %% %% "Before enlightenment: sharpen claws, catch mice.  </s>
<s> %% %% After enlightenment: sharpen claws, catch mice." - me %%  </s>
