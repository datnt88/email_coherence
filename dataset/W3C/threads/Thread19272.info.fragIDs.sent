<s> Hi, I configure an Apache server to send a special mime.types  </s>
<s> when serving files with a special extension : myfile.dchtml is served with "application/amaya" mime.type myfile.dchtml are in fact generated html files.  </s>
<s> The goal is to tell every client to launch Amaya when this type of document is requested.  </s>
<s> It works.  </s>
<s> Because Amaya does not know this special mime.type, the document is opened in text mode.  </s>
<s> Is there a way to let Amaya know that these document are in fact HTML documents ?  </s>
<s> Thanks. Best regards, Catherine.  </s>
<s> Catherine CHAT - Responsable Technique VIA BUSINESS S.A. Domaine de Voluceau - BP 105 - 78153 Le Chesnay cedex - FRANCE  </s>
<s> Amaya detects that the document is written in html: 1) when the mime-type is text/html 2) when the suffix is (case insensitive) .html,  </s>
<s> .html.xx, .htm,  </s>
<s> .htm.xx, shtml, jsp, xht, xhtml 3) when the mime-type is text/xml and the document includes the tag html 4) when the suffix is xml and the document includes the tag html You can play either on the mime-type or on the suffix.  </s>
<s> Irene.  </s>
<s> Thanks Ir?ne.  </s>
<s> But all these extensions may already be defined and used by other applications.  </s>
<s> That's why I was thinking of defining a specific combination of mime type and extension.  </s>
<s> So I patch Amaya code to add a new extension and tell Amaya that files having this extension have to be treated as HTML.  </s>
<s> To do that I : - open AHTURLTools.c  </s>
<s> - search for the IsHTMLName function - add the new extension among if (!ustrcmp (nsuffix, TEXT("html")) || !ustrcmp (nsuffix, TEXT("htm")) || !ustrcmp (nsuffix, TEXT("shtml")) || !ustrcmp (nsuffix, TEXT("jsp")) || !ustrcmp (nsuffix, TEXT("xht")) || !ustrcmp (nsuffix, TEXT("xhtm")) || !ustrcmp (nsuffix, TEXT("xhtml"))) return (TRUE); - compile and build There are more and more applications which are defining their own extensions to treat special html files.  </s>
<s> I am thinking for example of .asp,  </s>
<s> .php,  </s>
<s> .dwt  </s>
<s> (dreamweaver HTML templates files)...  </s>
<s> So having a ressource file to define that in Amaya without recompiling would be useful.  </s>
<s> Thanks to think about it.  </s>
<s> Best regards, Catherine.  </s>
<s> All in all it is better if you can use HTTP to give you a content-type for the file (and if you can specify one with new documents).  </s>
<s> Then the suffix is not so important.  </s>
<s> The other problem with suffixes is that there are clashes - Some RealMedia files and most RPM packages use the extension .rpm  </s>
<s> so it is only possible to find out what they are from getting a content-type.  </s>
<s> And beause the Macintosh OS has always included a content type (of sorts) Macintosh users typically do not bother to use any extension since they don't need one.  </s>
<s> cheers Charles McCN  </s>
<s> Thanks Ir?ne.  </s>
<s> But all these extensions may already be defined and used by other applications.  </s>
<s> That's why I was thinking of defining a specific combination of mime type and extension.  </s>
<s> So I patch Amaya code to add a new extension and tell Amaya that files having this extension have to be treated as HTML.  </s>
<s> To do that I : - open AHTURLTools.c - search for the IsHTMLName function - add the new extension among if (!ustrcmp (nsuffix, TEXT("html")) || !ustrcmp (nsuffix, TEXT("htm")) || !ustrcmp (nsuffix, TEXT("shtml")) || !ustrcmp (nsuffix, TEXT("jsp")) || !ustrcmp (nsuffix, TEXT("xht")) || !ustrcmp (nsuffix, TEXT("xhtm")) || !ustrcmp (nsuffix, TEXT("xhtml"))) return (TRUE); - compile and build There are more and more applications which are defining their own extensions to treat special html files.  </s>
<s> I am thinking for example of .asp,  </s>
<s> .php,  </s>
<s> .dwt  </s>
<s> (dreamweaver HTML templates files)...  </s>
<s> So having a ressource file to define that in Amaya without recompiling would be useful.  </s>
<s> Thanks to think about it.  </s>
<s> Best regards, Catherine.  </s>
<s> W3C Web Accessibility Initiative http://www.w3.org/WAI Location: I-cubed, 110 Victoria Street, Carlton VIC 3053 Postal: GPO Box 2476V, Melbourne 3001, Australia  </s>
