Hi! It seems that I should not use HTML Tidy on pages that containg Javascript? 
Or am I misunderstanding something here? 
(The HTML Tidy version that I'm using is "HTML Tidy for Windows (vers 1st August 2002)". 
Thanks in advance, Daniel Here is the test case in question: The original file (test1.htm): 
!-- function preload() { //v3.0 var doc=document; if(doc.images){ 
if(!doc.MM_p) doc.MM_p=new Array(); var i,j=doc.MM_p.length,a=preload.arguments; 
for(i=0; i a.length; i++) if (a[i].indexOf("#")!=0){ doc.MM_p[j]=new Image; doc.MM_p[j++].src=a[i];}} 
//-- body topmargin="0" leftmargin="0" marginheight="0" marginwidth="0" background="bg.gif" 
onLoad="preload('img1.gif','img2.gif','img3.gif','img4.gif','img5.gif',' 
img6.gif','img7.gif','img8.gif');" 
HTML Tidy's output: 2002), see www.w3.org" !-- function preload() { //v3.0 var doc=document; if(doc.images){ 
if(!doc.MM_p) doc.MM_p=new Array(); var i,j=doc.MM_p.length,a=preload.arguments; 
for(i=0; i body topmargin="0" leftmargin="0" marginheight="0" marginwidth="0" background="bg.gif" 
onload="preload('img1.gif','img2.gif','img3.gif','img4.gif','img5.gif',' 
img6.gif','img7.gif','img8.gif');" 
HTML Tidy was invoked with the following config file: indent-spaces: 2 wrap: 0 wrap-attributes: no wrap-script-literals: no wrap-sections: yes wrap-asp: yes wrap-jste: yes wrap-php: yes literal-attributes: no tab-size: 8 markup: yes quiet: no tidy-mark: yes indent: no indent-attributes: no hide-endtags: no input-xml: no output-xml: no output-xhtml: no output-html: no add-xml-pi: no add-xml-decl: no assume-xml-procins: no raw: yes uppercase-tags: no uppercase-attributes: no bare: no clean: no logical-emphasis: no word-2000: no drop-empty-paras: yes drop-font-tags: no drop-proprietary-attribute: no enclose-text: no enclose-block-text: no add-xml-space: no fix-bad-comments: yes split: no break-before-br: no numeric-entities: no quote-marks: no quote-nbsp: yes quote-ampersand: yes write-back: no keep-time: yes show-warnings: yes show-body-only: no new-inline-tags: names new-blocklevel-tags: names new-empty-tags: names new-pre-tags: names char-encoding: ascii input-encoding: latin1 output-encoding: ascii ncr: yes doctype: auto fix-backslash: yes gnu-emacs: no fix-uri: yes lower-literals: yes hide-comments: no indent-cdata: no force-output: no show-errors: 6 ascii-chars: yes join-classes: no join-styles: yes escape-cdata: no repeated-attributes: -last output-bom: auto replace-color: no accessibility-check: 0 Thank you, Allan. 
I just tried your suggestion and it produced the same error. 
(if it didn't, it would have been too easy... ;-)) I believe this is a Tidy bug - unless I'm told that I did something wrong in my config file. 
Thanks again, Daniel Daniel; Tidy might be detecting an anchor ( A... ) in the middle of your javascript component. 
Try adding a space: var i,j=doc.MM_p.length, 
a=preload.arguments; 
for(i=0; i a.length; i++) If this is true, then Tidy needs to learn better how to scipt these components. 
Allan onload="preload('img1.gif','img2.gif','img3.gif','img4.gif','img5.gif',' 
I didn't see anything unusual in your config. 
I did fix one script parsing bug in the library version. 
I just tried it, and it worked for me. 
Until we go live with that version, you can get it from my Tidy page at take it easy, Charlie Charlie, Thank you! 
I just downloaded the version you mentioned below, tested it and... it worked! 
Please note however, that for this to work I had to change "i a.length" to "i  a.length" (a space between ' ' and 'a'). 
I can live with that Also, the new tidy did not recognize 3 options from the latest release on source forge: Config: unknown option: add-xml-pi Config: unknown option: raw Config: unknown option: drop-proprietary-attribute Are you planning on deprecating those? 
Regards, Daniel On Wed, 02 Oct 2002 12:25:44 -0400, "Charles Reitzel" creitzel@rcn.com 
said: danibe_@speedymail.org 
Glad to hear it. 
And, yup, that's by design. 
Use it's synonym, add-xml-decl Not sure about that one. 
Isn't that char-encoding: raw? 
I think you just need an "s" on the end: drop-proprietary-attributes Yes take it easy, Charlie 
