<s> The issue has been raised here about whether we might be making a mistake by encoding some of our request parameters in XML entity bodies.  </s>
<s> The thought is that this may force proxies to read the body of the message, something that they should not have to do.  </s>
<s> I guess there are several questions here: Are we currently forcing proxies to read message bodies?  </s>
<s> Are any of the  </s>
<s> parameters that are now in the message body ones that proxies have to  </s>
<s> know about?  </s>
<s> If so, should we make some changes?  </s>
<s> Should we express some design principle for future revisions of the  </s>
<s> spec, about not putting into the message body any parameters a proxy  </s>
<s> might need to read?  </s>
<s> Should we consider a more extreme position (that would require significant changes to the current spec): Never put request parameters in the message body?  </s>
<s> Judith A. Slein Xerox Corporation jslein@crt.xerox.com  </s>
<s> (716)422-5169 800 Phillips Road 105/50C Webster, NY 14580  </s>
<s> The rule was "It goes in the header unless you have a damn good reason to do otherwise."  </s>
<s> Put in more detail: If (it involves cachability it goes into the headers) exit; elseif (it is likely to be something a firewall would want to examine it goes into the headers) exit; elseif (it must be used with a method that already has a defined body then it goes into the headers) exit; elseif (it encodes information that is very likely to be expanded on later then it goes in the body) exit; elseif (it has potentially unlimited length then it goes into the body) exit;  </s>
<s> The second to last rule reflects the difficult of encoding the DAV message  </s>
<s> model in a header without re-inventing XML for headers.  </s>
<s> The last rule reflects the reality that most proxy/firewall implementations will barf if headers get larger than around 4k.  </s>
<s> This also effects performance.  </s>
<s> Once a proxy/firewall hits content length it can just blindly start passing bits, which is very fast.  </s>
<s> If you have mega huge headers you slow down every single proxy/firewall on the path for info it may not care about.  </s>
<s> As always, it is a judgement call.  </s>
<s> Yaron  </s>
<s> This is a great statement of some rules of thumb for deciding between headers and XML entity bodies for request parameters.  </s>
<s> Can we put these on the Web site someplace as a reference for the authors of the remaining specs?  </s>
<s> (It would just be a little easier than searching the mail archive for them.) Maybe there are some other guiding principles, too, that suthors should keep in mind.  </s>
<s> --Judy  </s>
<s> Sure, copy as you will.  </s>
<s> You really should start beating up on me to get me to release a document I have put together which collects all the "Why did you do that?" e-mails I have answered, both in public and private.  </s>
<s> I just have about 10,000 things to do and this one hasn't quite ranked high enough.  </s>
<s> Yaron  </s>
