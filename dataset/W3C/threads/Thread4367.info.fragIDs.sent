<s> Hi "20.2 XHTML Output Method The xhtml output method serializes the result tree as XML, using the HTML compatibility guidelines defined in the XHTML specification."  </s>
<s> The guideline about the XML prolog is vague:  </s>
<s> "C.1.  </s>
<s> Processing Instructions and the XML Declaration Be aware that processing instructions are rendered on some user agents.  </s>
<s> Also, some user agents interpret the XML declaration to mean that the document is unrecognized XML rather than HTML, and therefore may not render the document as expected.  </s>
<s> For compatibility with these types of legacy browsers, you may want to avoid using processing instructions and XML declarations.  </s>
<s> Remember, however, that when the XML declaration is not included in a document, the document can only use the default character encodings UTF-8 or UTF-16."  </s>
<s> I have no preference, neither for in- nor exclusion of the XML prolog, but I need consistent results across XSLT processors.  </s>
<s> Perhaps it would make sense to specify in that the XML prolog must be included, or omitted.  </s>
<s> Tobi  </s>
<s> We provide the user with the option to include or exclude the XML declaration using the omit-xml-declaration attribute.  </s>
<s> I'm happy to add a reference pointing readers to this section of the XHTML spec for advice on how to set this option.  </s>
<s> Thanks for pointing it out.  </s>
<s> Michael Kay  </s>
<s> "C.1.  </s>
<s> Processing Instructions and the XML Declaration Be aware that processing instructions are rendered on some user agents.  </s>
<s> Also, some user agents interpret the XML declaration to mean that the document is unrecognized XML rather than HTML, and therefore may not render the document as expected.  </s>
<s> For compatibility with these types of legacy browsers, you may want to avoid using processing instructions and XML declarations.  </s>
<s> Remember, however, that when the XML declaration is not included in a document, the document can only use the default character encodings UTF-8 or UTF-16."  </s>
<s> I have no preference, neither for in- nor exclusion of the XML prolog, but I need consistent results across XSLT processors.  </s>
<s> Perhaps it would make sense to specify in that the XML prolog must be included, or omitted.  </s>
<s> Tobi  </s>
<s> OK :) Tobi  </s>
