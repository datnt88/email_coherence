<s> Folks, I want to draw your attention to the W3C Note [1].  </s>
<s> That WG is looking for direction on the level of semantic depth folks like you will want in your signatures.  </s>
<s> A couple of related questions bouncing around from that WG (based on an email from Bert Bos):  </s>
<s> - the XML-namespace draft allows changes in prefixes that namespace-aware  </s>
<s> applications are supposed to ignore.  </s>
<s> I think DOM-HASH and other processors will have to expand the namespace of every single ns-identifier so as to  </s>
<s> ensure they have a non-ambiguis hash, no?  </s>
<s> - if a document has a DTD and in the DTD there are fixed or default attributes that don't occur in the instance, do we consider those attributes to be part of the instance or not?  </s>
<s> - if a document has a DTD that defines "unparsed entities" (links to images and such; yeah, I know people should use Xlink for that, but XML still allows it) then the internal name of the entity is arbitrary.  </s>
<s> Should it be renamed in the canonical form?  </s>
<s> - to what degree should the semantic or surface structure of referenced resources be included in the hash?  </s>
<s> Where would you come down in addressing the old problem (even from PICS days) of what is the semantic scope of a  </s>
<s> resource that links or is composed of other resources?  </s>
<s> Regards, http://web.mit.edu/reagle/www/ Joseph Reagle E0 D5 B2 05 B6 12 DA 65 BE 4D E3 C1 6A 66 25 4E independent research account  </s>
<s> Joseph,  </s>
<s> namespace-aware  </s>
<s> to  </s>
<s> Yes, I think they have to.  </s>
<s> DOMHash is defined on the "expanded name" whenever a name is qualified (either by default or an explicit namespace prefix).  </s>
<s> I think we want to consider them as a part of canonicalization.  </s>
<s> XML 1.0 Recommendation clearly states that if an XML processor encounters an omitted attribute, it is to behave as though the attribute were present with the declared default value.  </s>
<s> DOMHash assumes that the DOM structure is created by a conformant XML processor, so it counts the recovered attributes in the hash calculation.  </s>
<s> a  </s>
<s> Hiroshi Maruyama Hiroshi Maruyama Manager, Network Applications, Tokyo Research Laboratory Also Associate Professor, Dept. of Computer Science, Tokyo Institute of Technology  </s>
<s> I believe DOMHASH takes care of this by expanding the name (replacing the ns-identifier with the URI)  </s>
<s> I believe so.  </s>
<s> Also, don't we have to worry about substitute strings for general entities?  </s>
<s> These could change the context drastically.  </s>
<s> Yes, and I believe DOMHASH handles this.  </s>
<s> If I understand the problem, perhaps only canonical external references (but not the referenced content) should be included in the hash.  </s>
<s> However, we should allow signatures of external resources (e.g. external XLinked elements or external documents in non-XML formats.)  </s>
<s> Rich Himes  </s>
