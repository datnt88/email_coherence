<s> I have committed the stuff I had on my mind for link checker 3.9.3.  </s>
<s> Regarding the beta announcement, I would like to request feedback in particular of the following (feel free to rephrase, comment, and add items):  </s>
<s> - Robots exclusion standard support in the link checker.  </s>
<s> Good or bad?  </s>
<s> - Should the "Check linked documents recursively" checkbox be removed?  </s>
<s> Recursion is implicit if there's anything in the "depth" field, so the checkbox is sort of redundant.  </s>
<s> Changelog since 3.9.2 is attached.  </s>
<s> The corresponding in-a-nutshell, or NEWS-like list (excluding command line only changes) would be something like: - Support for the robots exclusion standard has been added.  </s>
<s> - Sleep 1 second between requests to servers.  </s>
<s> - Cookie handling logic is now more robust and predictable.  </s>
<s> - Harmonized layout with the Markup Validator.  </s>
<s> - Do not send an Accept-Language header at all if the client did not send us one.  </s>
<s> Previously, "Accept-Language: *" was sent by default.  </s>
<s> - Miscellaneous markup, layout, and documentation improvements, minor bug fixes and warning cleanups.  </s>
<s> 2004-06-08 ville * bin/checklink.pod:  </s>
<s> Document Doc_URI and Style_URI.  </s>
<s> 2004-06-08 ville * docs/linkchecker.css:  </s>
<s> Remove some unused properties, and do a gratuitous whitespace cleanup.  </s>
<s> 2004-06-08 ville * bin/checklink, docs/linkchecker.css:  </s>
<s> Restore some lost CSS properties, and selectively sync some of the new layout stuff from the current markup validator.  </s>
<s> 2004-06-08 ville * bin/checklink: Avoid warning when no realm is given in WWW-Authenticate.  </s>
<s> 2004-06-08 ville * docs/linkchecker.css:  </s>
<s> Use JPEG versions of header and footer images.  </s>
<s> 2004-06-08 ville * bin/checklink, docs/checklink.html,  </s>
<s> docs/linkchecker.css:  </s>
<s> Remove the "Skip navigation" link as it is not too useful at the moment.  </s>
<s> 2004-06-02 ville * bin/checklink, docs/checklink.html:  </s>
<s> Add/revise accesskeys.  </s>
<s> (l=linkchecker,i=download/install,d=docs,m=markup validator,s=skip navigation) 2004-06-02 ville * bin/checklink: Switch to HTML 4.01 strict, and make related adjustments and layout consistency improvements mainly to error message views.  </s>
<s> 2004-06-02 ville * bin/checklink: Work around a bug in URI::sip(s) in URI 1.22-1.30.  </s>
<s> 2004-06-01 ville * bin/checklink: More markup improvements.  </s>
<s> 2004-06-01 ville * bin/checklink: Avoid error log warning when no Content-Type is received, improve markup.  </s>
<s> 2004-06-01 ville * bin/checklink, bin/checklink.pod, etc/checklink.conf:  </s>
<s> Typo and consistency fixes.  </s>
<s> 2004-06-01 ville * bin/checklink: Apply parameters from cookie only when loading the "front" page.  </s>
<s> Also, only load the cookie we set (not all possibly sent to us), when deciding how to output the cookie options on the front page.  </s>
<s> This should make the effect of the cookie more predictable.  </s>
<s> 2004-06-01 ville * bin/checklink: Avoid warning from invalid (non-numeric) recursion depth.  </s>
<s> 2004-05-31 ot * bin/checklink: fixing some silliness in my recent patches - thanks Ville for the catch 2004-05-31 ot * docs/linkchecker.css:  </s>
<s> adding style specific to linkchecker results 2004-05-31 ot * bin/checklink, docs/checklink.html,  </s>
<s> etc/checklink.conf:  </s>
<s> Changing the layout of checklink (script) to math the one for the documentation.  </s>
<s> - adding Style_URI configuration parameter - The layout now uses default links pointing to the instance on v.w.o 2004-05-16 ville * bin/checklink: HTML-escape given URI in the "you cannot check such a URI" message.  </s>
<s> 2004-05-14 ot * docs/checklink.html,  </s>
<s> docs/linkchecker.css:  </s>
<s> quick attempt at styling link checker as the Markup Validator.  </s>
<s> Fr the actial service, an idea would be to keep some of its inline style + a link to the stylesheet in the repository.  </s>
<s> 2004-05-10 ville * bin/checklink: Treat non-empty URI's "ok" again with JavaScript implementations without String.search().  </s>
<s> 2004-05-10 ville * bin/checklink: Tweak fieldset padding.  </s>
<s> 2004-05-10 ville * bin/checklink: Don't send Content-Script-Type as a real HTTP header, use meta http-equiv instead.Also  </s>
<s> make uriOk() focus the URI field if it was not 'ok'.  </s>
<s> 2004-05-07 ville * bin/checklink: Use relative self-referencing URL without the query string for the form action. 2004-05-07 ville * bin/checklink: Associate all labels explicitly with their controls as recommended by WCAG 1.0.  </s>
<s> Thanks to Hugo Silveira da Cunha for the heads up.  </s>
<s> 2004-05-03 ville * bin/checklink.pod:  </s>
<s> Always point to tweaks.  </s>
<s> 2004-04-28 ville * bin/checklink: Set "self URI" to Thanks to James Gallagher for the report.  </s>
<s> 2004-04-20 ville * bin/checklink, docs/checklink.html,  </s>
<s> docs/linkchecker.css:  </s>
<s> Add instructions how to allow us in /robots.txt, and include a link to it in the results.  </s>
<s> 2004-04-19 ville * bin/checklink: Implement "better" (yet somewhat hacky) handling of non-HTTP error codes, currently used for "forbidden by robots.txt" and "bad hostname" messages from LWP.  </s>
<s> While at it, display "forbidden by robots.txt" with a light gray background (CVS class "dubious") instead of screaming-red-403.  </s>
<s> 2004-04-17 ville * t/00compile.t:  </s>
<s> Add a _very_ basic "test suite".  </s>
<s> 2004-04-12 ville * bin/checklink: Fix broken fragment UI (was broken in revision 3.30).  </s>
<s> 2004-04-12 ville * bin/checklink: Small wording improvements.  </s>
<s> 2004-04-11 ville * bin/checklink: Use "(no message)" if for some reason we do not receive a reason phrase in the response status line.  </s>
<s> 2004-04-11 ville * docs/checklink.html:  </s>
<s> Redirect loops are no longer a problem with the link checker and libwww-perl 5.76 (but redirects to file: URLs still are).  </s>
<s> 2004-04-11 ville * bin/checklink, bin/checklink.pod, docs/checklink.html:  </s>
<s> Make sleep time between requests to each server configurable in command line use (-S/--sleep, defaults to 1 second), remove old "sleep 3 seconds between documents" feature, and show used settings in the results.  </s>
<s> 2004-04-11 ville * bin/checklink: Fix typo in results CSS. 2004-04-11 ville * bin/checklink: Reimplement/replace internal redirect tracking logic using the response chaining feature of libwww-perl (HTTP::Response- previous()).  </s>
<s> Should be more robust and RobotUA-friendly now.  </s>
<s> 2004-04-10 ville * bin/checklink: Code cleanups.  </s>
<s> 2004-04-10 ville * bin/checklink: Eliminate a couple of recently introduced printf() warnings.  </s>
<s> 2004-04-10 ville * docs/checklink.html:  </s>
<s> RobotUA/RobotRules works for local files from command line in LWP 5.66+, bump the required version.  </s>
<s> 2004-04-10 ville * bin/checklink: Don't mask LWP's default redirect_ok() functionality, remove some dead code.  </s>
<s> 2004-04-09 ville * bin/checklink, etc/checklink.conf:  </s>
<s> New configuration parameter (Doc_URI) to aid local doc installations.  </s>
<s> 2004-04-09 ville * docs/checklink.html,  </s>
<s> docs/linkchecher.css,  </s>
<s> docs/linkchecker.css:  </s>
<s> Rename the doc CSS once more (to linkchecker.css).  </s>
<s> 2004-04-08 ot * docs/checklink.css,  </s>
<s> docs/linkchecher.css:  </s>
<s> changing name to avoid conneg issues 2004-04-08 ville * bin/checklink: Make sure default configuration options are set also when there is no configuration file.  </s>
<s> D'oh!  </s>
<s> Thanks to Rafael Gieschke for the report.  </s>
<s> 2004-04-07 ville * bin/checklink, docs/checklink.html:  </s>
<s> Initial (partial) implementation for support for robots exclusion standard.  </s>
<s> The UI still needs some work: the results view should be fixed and some new configuration options (admin address, minimum delay) should be added.As a side effect, we now require libwww-perl  = 5.60.  </s>
<s> 2004-04-04 ville * bin/checklink, bin/checklink.pod:  </s>
<s> Do not send any Accept-Language header by default in command line mode, and don't default to "*" in CGI mode either (but still use the client-supplied value if present).  </s>
<s> In command line mode, -L auto now autodetects a value from the environment, and the -n/--noacclanguage option is deprecated and does nothing.  </s>
<s> 2004-04-03 ville * bin/checklink: Usage message improvements.  </s>
<s> 2004-04-03 ville * bin/checklink: Link to http://www.w3.org/2000/07/checklink for docs again.  </s>
<s> 2004-04-03 ville * bin/checklink, bin/checklink.pod:  </s>
<s> Improve the "Trusted" domain documentation.  </s>
<s> 2004-04-03 ville * bin/checklink: Compile trusted and exclude-docs regexps only once.  </s>
<s> 2004-04-03 ville * bin/checklink, bin/checklink.pod:  </s>
<s> New command line option (--exclude-docs) for excluding checking links in documents whose URIs match a regexp; thanks to Michael Ernst.  </s>
<s> Also, some improvements to argument and configuration option checking and error reporting.  </s>
<s> 2004-04-02 ville * README.cvs:  </s>
<s> Fix link to the online version.  </s>
<s> 2004-04-01 ot * README.cvs: adding download instructions  </s>
<s> It would be good to announce in what way it supports it; as discussed, there are apparently several approaches, like do you read the submitted document if the robots.txt of that server does not allow it or will it refuse to check any link in that case (as it does not download anything but robots.txt).  </s>
<s> Without such information one would have to figure this out by testing or looking at the code which is unlikely to yield in much feedback.  </s>
<s> The current behaviour is the "blunt" one, ie. nothing except /robots.txt is fetched if /robots.txt disallows it.  </s>
<s> Oh, and the version of the supported exclusion standard is the "original 1994 one" (for now, as is not supported at all in this version.  </s>
<s> This info should be included in the docs, BTW, not (only) the beta announcement.  </s>
<s> Will take a look at improving the documentation tomorrow unless someone beats me to it... ;)  </s>
<s> Ok, done.  </s>
<s> http://qa-dev.w3.org/wlc/#bot  </s>
<s> Ville,  </s>
<s> Thanks for doing all that.  </s>
<s> I'm in the process of setting it up on vwo:8001 I've used the opportunity for a minimal cleanup of the file structure.  </s>
<s> Many checklink files still had to be within the validator tree, even though they're not in CVS ther eany more.  </s>
<s> What I have done: * http://validator.w3.org:8001/checklink is now aliased as follows: ScriptAlias /checklink /usr/local/perl/modules/W3C/LinkChecker/bin/checklink * Whereas http://validator.w3.org/checklink points to: ScriptAlias /checklink /usr/local/bin/checklink * removed symlinks and stale copies in httpd/cgi-bin/ * on both :80 and :8001 htdocs/docs/checklink.html and linkchecker.css are symlinked to the docs in /usr/local/perl/modules/W3C/LinkChecker/docs/  </s>
<s> This should allow us to "make install" when we want to update :80 and cvs-up when dealing with :8001.  </s>
<s> This seems reasonable, although there might be @INC issues when we modularize.  </s>
<s> We may want to think of this in advance.  </s>
<s> I just noticed a small issue with the relative URIs for the images.  </s>
<s> checklink.html  </s>
<s> tries to access images in ".".  </s>
<s> Maybe we could replicate the directory structure of the validator and put images in images/, docs in docs/ and have the docs refer to "../images/foo" ?  </s>
<s> olivier  </s>
<s> The feeback request (with the clarifications in your other mail), along with the changelog, should be perfect to create the announcement.  </s>
<s> given it's a beta and we mainly want feedback, there does not seem to be no need for specific formality in the announcement.  </s>
<s> depending on my time this afternoon I may send you a draft announcement, but if I don't have the time, I'll take the material we have already, with minor rewording maybe, tomorrow morning (my time).  </s>
<s> olivier  </s>
<s> A well-chosen "SetEnv PERL5LIB" in httpd.conf  </s>
<s> should work.  </s>
<s> OTOH it needs to be checked whether that works with taint mode.  </s>
<s> Maybe, but that would mean a bit of extra work for folks installing the link checker (docs) locally, and the doc couldn't any more be installed to /checklink.html (theoretically /../images might not "work").  </s>
<s> Not big issues, but before changing, we should be really sure that the new setup is "correct" and that we don't have to change soon again.  </s>
