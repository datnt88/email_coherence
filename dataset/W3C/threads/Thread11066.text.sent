Catching up on old threads... 
It was a while ago, but... 
A request for advice about the XML-lang grammar. 
Should we change the grammar by dropping most or all mentions of S? If we do, what else needs to change to avoid changing the language we recognize in ways we don't want? 
Bert looked into this, and he came up with: Bison grammar (See the source.) 
The grammar contains just 13 productions, and it could have been shorter and clearer if Bison had accepted some common notations for grammars. 
The grammar that is actually intended is as follows: document: prolog element misc*; prolog: VERSION? 
ENCODING? 
misc*; misc: COMMENT | attribute_decl; attribute_decl: ATTDEF NAME attribute+ ENDDEF; element: START attribute* empty_or_content; empty_or_content: SLASH CLOSE | CLOSE content END NAME? 
CLOSE; content: (DATA | misc | element)*; attribute: NAME (EQ VALUE)?; ... or just 8 productions. 
Hmmm... evidently he didn't deal with the internal DTD subset. 
Oh: he's suggesting "Split the core syntax and the meta-syntax." 
Hmmm... that sounds appealing... and familiar: I think I brought it up myself a while back. 
But he did look into the details of implementation. 
Source is available. 
Dan Connolly Attribute declarations outside the prolog? 
I hope not. 
Dave Peterson SGMLWorks! 
davep@acm.org 
If you look into the details[1], you'll see that Bert is using the PI syntax for attribute defaults proposed (and revoked) a while back. 
It has the advantage that it can be lexically scoped inside any element. 
[1] http://www.w3.org/XML/9707/XML-in-C 
Dan Connolly 
