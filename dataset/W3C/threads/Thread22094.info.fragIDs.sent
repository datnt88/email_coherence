<s> Participants: Bob Clary, Netscape Johnny Stenback, Netscape Ray Whitmer, AOL Dimitris Dimitriadis, invited expert Philippe Le H?garet, W3C Agenda  </s>
<s> Framework license Current state of the framework Exception handling in the framework DOM Level 1 Core in the current test suite Task Force and Chair Schedule Dimitris: Curt is not around?  </s>
<s> Philippe: We discussed framework issues at the f2f meeting last week and we felt that Bob was the right person to contact given he has done on it recently.  </s>
<s> Framework license Philippe: JSUnit is not under the W3C Software license.  </s>
<s> Got feedback that this may be a problem for compagnies in order for them to look at it and fix it.  </s>
<s> Bob: originally, Edward was using GPL.  </s>
<s> He is now using LGPL/Mozilla Public license/GPL.  </s>
<s> Edward is quite open on that.  </s>
<s> Johnny: it may not satisfy those companies if it's under several licences.  </s>
<s> Philippe: can talk to them again and see if they can be satisfied.  </s>
<s> ACTION: Dimitris will follow up on the licence and if something can be done to satisfy those companies (but they may have conflicting issues).  </s>
<s> Framework Philippe: Where are we?  </s>
<s> We have 2 versions: Bob and Edward versions.  </s>
<s> Heard concerns during the technical plenary regarding the JSUnit framework (browser sniffing, exceptions handling).  </s>
<s> Bob: during last summer, modifications were made to JSUnit 1.3.2 in such way that the DOM Test Suite wasn't working anymore.  </s>
<s> Until recently, it wasn't fixed.  </s>
<s> The current CVS version from Edward has been fixed.  </s>
<s> My version does have changes and contains other proposed changes as well, including selection of content type and test implementation  </s>
<s> attributes.  </s>
<s> Except for a bug, we are waiting for feedback from Apple and Opera before releasing the next version of JSUnit.  </s>
<s> JSUnit 1.3.4 will be identical to my current version.  </s>
<s> The current bug only affects Mozilla on Apple and Opera as well.  </s>
<s> Currently, the DOM test suite does not work in Opera.  </s>
<s> trying to get their feedback.  </s>
<s> Philippe: can help for Opera.  </s>
<s> Dimitris: can help for Apple.  </s>
<s> Bob: we modified the test suite to remove dependencies on HTML getElementById/innherHTML. Nothing browser specific.  </s>
<s> only relies on ECMAScript and some features of DOM Level 0.  </s>
<s> Philippe: what about exceptions?  </s>
<s> IE does not support the ECMAScript exceptions.  </s>
<s> Bob: IE does support exceptions but they return incorrect error codes.  </s>
<s> Philippe: do we do browser sniffing to avoid those troubles in IE? Bob: not sure... Don't remember if the exception mapping from last spring is still in the test suite.  </s>
<s> Philippe: do we do browser sniffing for the framework?  </s>
<s> Johnny: it may need to do so for the framework itself.  </s>
<s> there is nothing wring with that.  </s>
<s> Bob: no user agent detection.  </s>
<s> only test for support of specific objects.  </s>
<s> Philippe: as long as it doesn't change the result of the tests, it's fine.  </s>
<s> Bob: following feedback from DOM TS and other browsers, we are very close to release a new version.  </s>
<s> we need help from Opera and Apple.  </s>
<s> In contact with Hakon to fix the framework for Opera.  </s>
<s> Contacted David Hyatt from Apple as well.  </s>
<s> For Safari, they are moving rapidly.  </s>
<s> ACTION: Philippe to contact Hakon regarding the test suite, cc Bob  </s>
<s> Philippe: We currently have a DOM Level 1 Core Test Suite, but DOM Level 1 doesn't exist a Core module.  </s>
<s> It only references Core interfaces.  </s>
<s> DOM Level 1 XML and DOM Level 1 HTML do use those Core interfaces though.  </s>
<s> Johnny: seems a reorganization issue Dimitris: should focus on DOM Level 2 instead.  </s>
<s> - Once the DOM Level 2 test suite is released, we may think about DOM Level 1. TF and Chair Philippe: Following Dimitris's concerns, we discussed the idea of having a kind of Task Force for the DOM Test Suite.  </s>
<s> It will provide an organization of the work.  </s>
<s> However, neither Dimitris or myself do have the cycles for that unfortunately.  </s>
<s> We need someone who can keep track on what's going on, follow up on test submissions, provide a roadmap, organize teleconferences, ... Bob will try to get an answer by the end of the week.  </s>
<s> (Philippe will be on the road for a week starting end of this week)  </s>
<s> It should be possible to run the ECMAScript tests on a different or custom test framework with an adaption layer and little no changes to the generated tests.  </s>
<s> The Java tests initially supported multiple test frameworks (JUnit and Avalon), but since Avalon was abandoned by ASF there hasn't been any continuing effort to support multiple test frameworks.  </s>
<s> I haven't been able to run JSUnit on Palm's Web Browser 2.0 emulator on Windows and was thinking that might require doing a stripped down test runner.  </s>
<s> The Internet Explorer 5.5 for Windows CE looked like it might be able to run JSUnit as is if you increased the timeouts substantially.  </s>
<s> The layout of JSUnit on Palm's Web Browser 2.0 is pretty bad.  </s>
<s> See  </s>
<s> I believe both JSUnit 1.3.3 and Bob's version have a annoying problem around line 293 of JsUnitCore.js that raised an exception when displaying the test files in the browser.  </s>
<s> The following change will avoid the problem.  </s>
<s> -if (top.xbDEBUG.on  </s>
<s> &amp;&amp; top.testManager) +if (top.xbDEBUG != null &amp;&amp; top.xbDEBUG.on  </s>
<s> &amp;&amp; top.testManager)  </s>
<s> Earlier adapters for MSXML did "adapt" for COM exceptions as did the original NIST JavaScript test suite.  </s>
<s> Per discussions on the list from last year (or before), that adaptation was removed.  </s>
<s> The only remaining "adaption" for MSXML is to remove the processing instruction used to represent the XML declaration.  </s>
<s> Using PI's to represent the XML declaration was stated to be acceptible by the WG.  </s>
<s> However, since only MSXML displays the behavior to my knowledge and it would add a great deal of complexity to a lot of tests to adapt for this behavior, the simplest way to address the issue is just to have the loader remove it.  </s>
<s> I'll double check, but I don't believe there any remaining sniffing.  </s>
<s> Would be great to have JSUnit and DOM TS support the new PDA browsers.  </s>
<s> I've done a little exploration, but it might require some vendor support too.  </s>
<s> I know that the Konqueror team has been able to run the test suite, but I haven't been able to get Konqueror 3.1 on SuSE 8.0 to run it.  </s>
<s> It would be great if they could provide pointers to getting things set up.  </s>
<s> I hope to have an iteration into the CVS in a few hours.  </s>
<s> Can you provide a tar ball with the generated tests ?  </s>
<s> From what I've remember none of us had been able to get the Java Code working.  </s>
<s> Note that if you receive any patches from Apple they'll probably help with Konqueror problems as well as the code base is almost identical (especially the non-rendering part).  </s>
<s> Harri.  </s>
