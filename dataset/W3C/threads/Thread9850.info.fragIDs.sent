<s> Draft: - for www-rdf-interest www-webont-wg uri w3c-i18n-ig xml-names-editor@w3.org The RDF Core WG has decided [1] that the URI ref labels used in an RDF graph are in Unicode rather than US-ASCII.  </s>
<s> These are seen as "original character sequences" in the terminology of RFC 2396 (see [10]).  </s>
<s> This is motivated by the clarity in XML Erratum 26 [2] (and equally in XLink section 5.4) that the %-escaping algorithm that is used for mapping international characters into US-ASCII is "performed only when absolutely necessary and as late as possible in a processing chain".  </s>
<s> In the terms of the text from xlink [3] the labels on the RDF graph "must be a URI reference as defined in [IETF RFC 2396], or must result in a URI reference after the escaping procedure [...] is applied."  </s>
<s> Moreover, the WG decided, guided by charmod [4] that such labels should conform with Unicode Normal Form C. For those unfamiliar with the RDF graph but familiar with XML Namespaces, the analogous decision would be that the identifier of an XML Namespaces "must be a URI reference as defined in [IETF RFC 2396], or must result in a URI reference after the escaping procedure [...] is applied." and that the escaping procedure is *not* applied before considering whether two such identiers are identical.  </s>
<s> The decision was with dissent, and RDF Core WG welcomes feedback both positive and negative to www-rdf-comments@w3.org.  </s>
<s> We expect to review this decision in the light of the feedback.  </s>
<s> We note that the current WD of Namespaces in XML 1.1 [5] does *not* follow the text from xlink or erratum 26, and would particularly value feedback from both the XML Names editors and I18N IG on this issue.  </s>
<s> The test cases agreed to represent this issue are found in [6], and [7] Detailed rationale: - the normative dependency of M&amp;S on XML Erratum 26, see [8] - the possibility of URI fraud with non NFC international URIs see [9] - a test case that is unclear under M&amp;S.  </s>
<s> - an XML Namespace test case that is similar.  </s>
<s> See appendix below.  </s>
<s> An alternative would be specifying %-escaping before forming the graph.  </s>
<s> This is in line with common practice in the RDF community.  </s>
<s> The test case below indicates that clarity would require specifying the case of % escaping.  </s>
<s> So that clarification would involve adding to the well-known % escaping algorithm of RFC 2396.  </s>
<s> Within the RDF/XML serialization the URI fraud issue would be addressed by requiring the XML to be fully normalized.  </s>
<s> This would not address the security issue in non-XML uses of RDF, in which any reverse %-encoding (necessary for legibility in I18N environments) may introduce the problematic cases.  </s>
<s> Jeremy Carroll HP Rep on RDF Core Issue owner References [1] [2] [3] [4] [5] [6] [7] [8] [9] [10] More test cases RDF/XML rdf:RDF xmlns:eg="http://example.org/#"  </s>
<s> Is the label on the typed node the same as the label on the eg:foo object or the eg:bar object, (or are they the same).  </s>
<s> XML Names eg xmlns:a="http://example.org/#Andr%c3%a9" xmlns:b="http://example.org/#Andr%C3%A9" xmlns:c="http://example.org/#Andr%c3%a9 a:a="a" b:a="b" c:a="a" / If this is not well formed, why?  </s>
<s> (under the current spec and the latest WD because ?? is not US ASCII?) What about the three other cases formed by deleting one of the last three attributes.  </s>
<s> I should have linked to the dissent messages as well, how about adding the following as the last paragraph (before my name)  </s>
<s> The dissenters primarily considered this as a significant change to both RDF and the understanding of RFC2396 and hence an inappropriate step for rdfcore WG, independent of the technical merits or otherwise of the decision.  </s>
<s> [11] [12] [11] [12] (I note that the message I pulled out for Aaron (0537) is mid-thread, but I judge it as powerfully expressing his position).  </s>
<s> Jeremy Draft: - for www-rdf-interest www-webont-wg uri w3c-i18n-ig xml-names-editor@w3.org The RDF Core WG has decided [1] that the URI ref labels used in an RDF graph are in Unicode rather than US-ASCII.  </s>
<s> These are seen as "original character sequences" in the terminology of RFC 2396 (see [10]).  </s>
<s> This is motivated by the clarity in XML Erratum 26 [2] (and equally in XLink section 5.4) that the %-escaping algorithm that is used for mapping international characters into US-ASCII is "performed only when absolutely necessary and as late as possible in a processing chain".  </s>
<s> In the terms of the text from xlink [3] the labels on the RDF graph "must be a URI reference as defined in [IETF RFC 2396], or must result in a URI reference after the escaping procedure [...] is applied."  </s>
<s> Moreover, the WG decided, guided by charmod [4] that such labels should conform with Unicode Normal Form C. For those unfamiliar with the RDF graph but familiar with XML Namespaces, the analogous decision would be that the identifier of an XML Namespaces "must be a URI reference as defined in [IETF RFC 2396], or must result in a URI reference after the escaping procedure [...] is applied." and that the escaping procedure is *not* applied before considering whether two such identiers are identical.  </s>
<s> The decision was with dissent, and RDF Core WG welcomes feedback both positive and negative to www-rdf-comments@w3.org.  </s>
<s> We expect to review this decision in the light of the feedback.  </s>
<s> We note that the current WD of Namespaces in XML 1.1 [5] does *not* follow the text from xlink or erratum 26, and would particularly value feedback from both the XML Names editors and I18N IG on this issue.  </s>
<s> The test cases agreed to represent this issue are found in [6], and [7] Detailed rationale: - the normative dependency of M&amp;S on XML Erratum 26, see [8] - the possibility of URI fraud with non NFC international URIs see [9] - a test case that is unclear under M&amp;S.  </s>
<s> - an XML Namespace test case that is similar.  </s>
<s> See appendix below.  </s>
<s> An alternative would be specifying %-escaping before forming the graph.  </s>
<s> This is in line with common practice in the RDF community.  </s>
<s> The test case below indicates that clarity would require specifying the case of % escaping.  </s>
<s> So that clarification would involve adding to the well-known % escaping algorithm of RFC 2396.  </s>
<s> Within the RDF/XML serialization the URI fraud issue would be addressed by requiring the XML to be fully normalized.  </s>
<s> This would not address the security issue in non-XML uses of RDF, in which any reverse %-encoding (necessary for legibility in I18N environments) may introduce the problematic cases.  </s>
<s> Jeremy Carroll HP Rep on RDF Core Issue owner References [1] [2] [3] [4] [5] [6] [7] [8] [9] [10] More test cases RDF/XML rdf:RDF xmlns:eg="http://example.org/#"  </s>
<s> Is the label on the typed node the same as the label on the eg:foo object or the eg:bar object, (or are they the same).  </s>
<s> XML Names eg xmlns:a="http://example.org/#Andr%c3%a9" xmlns:b="http://example.org/#Andr%C3%A9" xmlns:c="http://example.org/#Andr%c3%a9 a:a="a" b:a="b" c:a="a" / If this is not well formed, why?  </s>
<s> (under the current spec and the latest WD because ?? is not US ASCII?) What about the three other cases formed by deleting one of the last three attributes.  </s>
<s> yes, glad you added that.  </s>
<s> I noticed the lack of it, but wasn't sure whether to complain or not.  </s>
<s> Looks good now.  </s>
<s> Dan Connolly, W3C http://www.w3.org/People/Connolly/  </s>
