<s> Joe, the IBM alphaWork XML4J 3.0.1tells  </s>
<s> me --- snip --- [Fatal Error] _.dtd:_:_: The markup in the document preceding the root element must be well-formed.  </s>
<s> org.xml.sax.SAXParseException:  </s>
<s> The markup in the document preceding the root element must be well-formed.  </s>
<s> at java.lang.Throwable.  </s>
<s> init (Throwable.java:74) at java.lang.Exception.  </s>
<s> init (Exception.java:38) at org.xml.sax.SAXException.  </s>
<s> init (SAXException.java:45) at org.xml.sax.SAXParseException.  </s>
<s> init (SAXParseException.java:53) at org.apache.xerces.framework.XMLParser.reportError(XMLParser.java:1318) at org.apache.xerces.framework.XMLDocumentScanner.reportFatalXMLError(XMLDocumentScanner.java:616) at org.apache.xerces.framework.XMLDocumentScanner.abortMarkup(XMLDocumentScanner.java:670) at org.apache.xerces.framework.XMLDocumentScanner$PrologDispatcher.dispatch(Compiled  </s>
<s> Code) at org.apache.xerces.framework.XMLDocumentScanner.parseSome(XMLDocumentScanner.java:381) at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1208) at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1247) at com.ibm.xml.parsers.NonValidatingDOMParser.parse(NonValidatingDOMParser.java:231) --- snip --- when I feed it a XML DTD (non XML4J specific informations blanked out using "_".).  </s>
<s> Look at the first line of the message.  </s>
<s> It says: "The markup in the document preceding the root element must be well-formed.".  </s>
<s> So, a XML DTD is not even well-formed.  </s>
<s> How can it be a XML instance?  </s>
<s> I know, citing a computer program is a rather weak argumentation.  </s>
<s> But I also studied the "Extensible Markup Language (XML) 1.0" W3C recommendation (Feb 10, 1998).  </s>
<s> So, I know the XML DTD can be inlined in the prolog of the associated XML instance.  </s>
<s> But as far as I know (sorry, I am not a W3C member) itself is not a XML instance.  </s>
<s> BTW, IBM alphaWork did a very good job implementing their XML parser library.  </s>
<s> The only bugs I've found so far were: - NDATA entity handling in versions prior to 3.0.1 - notation handling in versions prior to 3.0.1  </s>
<s> Carsten  </s>
<s> I didn't say that a DTD by itself was an XML Instance.  </s>
<s> It isn't, and attempting to parse it as one will yield errors.  </s>
<s> However, an XML instance can certainly include an internal subset, or can reference an external DTD, and a validating XML parser will handle these.  </s>
<s> If you "just want to parse the DTD", you have to express that request in a format that your parser can handle -- which may mean providing a dummy instance document, or may mean calling the parser differently, depending on your parser's APIs.  </s>
<s> The DOM currently doesn't address how parsers are invoked; DOM Level 3 is looking at that issue as part of the "Load/Save" activity.  </s>
<s> Meanwhile, look at the documentation for the parser you want to use.  </s>
<s> The DOM currently has no standardized mechanism for representing them.  </s>
<s> DOM Level 3 is looking at that issue under the "Content Model" activity.  </s>
<s> Meanwhile, some parsers -- including XML4J -- have custom data structures for that purpose.  </s>
<s> Joe Kesselman / IBM Research  </s>
<s> And if you use SAX2, most parsers have _standard_ callbacks with DTD information ... - Dave  </s>
