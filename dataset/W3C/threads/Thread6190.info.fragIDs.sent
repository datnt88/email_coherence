<s> Hi,  </s>
<s> I have few comments on this WD which I think is meeting a real need.  </s>
<s> * I think that you should add a definition in your Terminology section stating that unless otherwise qualified, the word "processor" means a XML processor compliant to the xml:id specification (otherwise, people can read that spec as a modification of the XML rec.).  </s>
<s> * You make a reference to XML 1.0 but do not mention XML 1.1.  </s>
<s> It might be a good idea to mention if it applies to XML 1.1 as well (I don't why it couldn't)  </s>
<s> * (#id-strictness) I really don't like the idea of non validating parsers having to report errors when a XML document is well formed but the xml:id is mis-used.  </s>
<s> I'd prefer that you say that non validating parsers may report errors and add a comment suggesting that they add properties to switch this error reporting on and off.  </s>
<s> * The fact that xml:id relies on the XML infoset restricts its scope to XML documents that are conform to namespaces in XML.  </s>
<s> Is that really needed?  </s>
<s> xml:space and xml:lang on one hand and DTD IDs on the other hand work for any XML document, why couldn't it be the case for xml:id?  </s>
<s> Thanks for that spec, Eric Did you know it?  </s>
<s> Python has now a Relax NG (partial) implementation.  </s>
<s> Upcoming XML schema languages tutorial: - Amsterdam -half day- (18/04/2004) http://masl.to/?P220516D7 Eric van der Vlist http://xmlfr.org  </s>
<s> http://dyomedea.com  </s>
<s> (ISO) RELAX NG ISBN:0-596-00421-4 http://oreilly.com/catalog/relax  </s>
<s> (W3C) XML Schema ISBN:0-596-00252-1 http://oreilly.com/catalog/xmlschema  </s>
<s> Hi Eric,  </s>
<s> Good point.  </s>
<s> For the conformance section 5 we used the term "application" to avoid any risk of confusion there, but apparently we need to watch uses of "processor" too.  </s>
<s> Hum, right, this should work as well with 1.1  </s>
<s> The problem is that we want as much as possible the xml:id processor to report case where using a validating or a non-validating processor would give different result.  </s>
<s> This is an extra layer (at least logically) on top of the processor and if that layer can detect misuse shouldn't it report them.  </s>
<s> Section 4.3 states: "A processor that does neither DTD nor XML Schema validation must report xml:id attributes..." i.e. recognized xml:is must be reported by the processor.  </s>
<s> But "If those conditions are not satisfied then the processor should report the error to the application."  </s>
<s> it's a should so I think the spec already provide some flexibility about not reporting xml:id problems.  </s>
<s> Is there a specific part you looked at which you think contradicts with section 4.3 ?  </s>
<s> Well, defining the xml:id processing behaviour is far easier to do based on the XML infoset which is really the best specification to use to describe the transformation of an xml:id (post-)processor.  </s>
<s> I don't see anything preventing processors not based on the XML infoset from implementing xml:id but based on their own mechanism to reflect IDness of an attribute, and in such a context documents for which the XML infoset is not defined could still be processed.  </s>
<s> I actually expect my own implementation to work that way.  </s>
<s> Daniel Daniel Veillard | Red Hat Network https://rhn.redhat.com/  </s>
<s> veillard@redhat.com  </s>
<s> | libxml GNOME XML XSLT toolkit http://xmlsoft.org/  </s>
<s> Hi Daniel,  </s>
<s> No, I was referring to this section.  </s>
<s> I think that the distinction between well formness and validity is really important in XML and I really like the fact that with libxml (an other XML parsers) I can read any well formed document and switch validation on only when I want.  </s>
<s> To me, non respect of the xml:id spec cannot be considered as similar to a well formness error (you can still understand the basic tree structure of your document and build an infoset if the xml:id are wrong, and, furthermore, the notion of well formness is normatively defined in the XML recs) but more like a validity error.  </s>
<s> That this might be clarified in the spec and I do hope that the parsers  </s>
<s> will enable to switch this error reporting on and off.  </s>
<s> That's probably more theoretical than a real world case, but as I read it, making reference to the XML Infoset as the consequence that xml:id can't be applied to that perfectly well formed XML document: Or even that one: because strictly speaking, they don't have XML infosets!  </s>
<s> Eric If you have a XML document, you have its schema.  </s>
<s> Upcoming XML schema languages tutorial: - Amsterdam -half day- (18/04/2004) http://masl.to/?P220516D7 Eric van der Vlist http://xmlfr.org  </s>
<s> http://dyomedea.com  </s>
<s> (ISO) RELAX NG ISBN:0-596-00421-4 http://oreilly.com/catalog/relax  </s>
<s> (W3C) XML Schema ISBN:0-596-00252-1 http://oreilly.com/catalog/xmlschema  </s>
<s> I don't see any conflict between the spec as written and the behaviour you suggest.  </s>
<s> Sure those are "like" validity errors, they don't destroy the Infoset passed, in the worse case you get an error message from the xml:id layer and no addition to the Infoset.  </s>
<s> I think "should" carry the flexibility potential you ask for.  </s>
<s> Maybe that can be changed as 'should at the user option report the error to the application.' though I prefer the idea that by default such error be reported.  </s>
<s> I think I understood your point.  </s>
<s> You're saying "xml:id can't be applied" to such document and I'm answering ""xml:id is not defined" for it.  </s>
<s> That doesn't mean it can't be applied.  </s>
<s> Trying to define xml:id without an Infoset sounds a far more difficult than useful exercise since the semantic of xml:id for such document can be derived from the semantic in the case of document with an Infoset.  </s>
<s> Similary XInclude is not formerly defined when such a document is included.  </s>
<s> I don't think that prevent implementations from working with them.  </s>
<s> Daniel Daniel Veillard | Red Hat Network https://rhn.redhat.com/  </s>
<s> veillard@redhat.com  </s>
<s> | libxml GNOME XML XSLT toolkit http://xmlsoft.org/  </s>
