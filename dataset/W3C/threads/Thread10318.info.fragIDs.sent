<s> Dave, can you answer me a quick question about RDF/XML?  </s>
<s> Sorry I am  </s>
<s> still so behind the curve on this, but I need to get this exactly  </s>
<s> right given our decision about plain literals and xsd:string.  </s>
<s> Consider a plain literal in an RDF graph which uses some characters which require escaping in XML, eg say " br/ ". 1.  </s>
<s> Is it the case that in RDF/XML, this would be rendered using XML character escaping?  </s>
<s> Ie it would look like this "&amp;gr;br/"  </s>
<s> 2. If so, would it be correct to say that in spite of this, that the literal character string itself was the original 5-character Unicode sequence?  </s>
<s> (Or is the character string of the literal an 11-character sequence in RDF/XML but a 5-character sequence in the graph?  </s>
<s> I hope not....)  </s>
<s> 3. If so, are there any literal character sequences which *cannot* be sent through RDF/XML?  </s>
<s> Or does XML provide an escape for every Unicode  </s>
<s> code point?  </s>
<s> Thanks. Pat IHMC(850)434 8903 or (650)494 3973 home 40 South Alcaniz St.(850)202 4416 office FL 32501(850)291 0667 cell phayes@ihmc.us  </s>
<s> http://www.ihmc.us/users/phayes  </s>
<s> Short answer: Yes.  </s>
<s> Did you see this: The relevant bit is this: [66] CharRef ::= '&amp;#' [0-9]+ ';'  </s>
<s> '&amp;#x' [0-9a-fA-F]+ ';' [WFC: Legal Character]  </s>
<s> Well-formedness constraint: Legal Character Characters referred to using character references must match the production for Char.  </s>
<s> -- http://www.w3.org/TR/REC-xml#NT-CharRef  </s>
<s> OOPS! That well-formedness constraint means the awkward characters are not  </s>
<s> allowed.  </s>
<s> I was wrong, the awkward characters cannot be encoded in XMl.  </s>
<s> #g Graham Klyne PGP: 0FAA 69FF C083 000B A2E9 A131 01B9 1C7A DBCA CB5E  </s>
<s> Another case is strings that are not in Unicode Normal Form C.  </s>
<s> These can be written in XML 1.0, cannot be written in XML 1.1 and are not  </s>
<s> permitted in an RDF graph.  </s>
<s> I don't think Pat can have the elegant identity between xsd:string and RDF  </s>
<s> plain literal.  </s>
<s> xsd:string is not in practice a fixed point but an evolving  </s>
<s> concept which will, in the fullness of time, adjust to XML 1.1  </s>
<s> (Every code point is legal - but strings not in NFC are only permitted in XML  </s>
<s> 1.0 not any of the other contexts).  </s>
<s> Jeremy  </s>
<s> Quick reply - Dave to confirm/correct  </s>
<s> That would be "br /", but you have the right idea.  </s>
<s> The literal in the graph is " br / "  </s>
<s> We discovered last week that there are some UNICODE characters (ascii  </s>
<s> control codes e.g. bel) which are not legal in an XML document.  </s>
<s> We have  </s>
<s> to decide whether they are legal in the graph, and thus not expressible in RDF/XML, or just not legal in the graph.  </s>
<s> I guess you would like us to make this decision quickly.  </s>
<s> My instincts are to not allow XML special cases to pollute (sorry value  </s>
<s> laden term) the graph syntax, so I'm for saying that any UNICODE character sequence is legal and noting there might be problems serializing in RDF/XML.  </s>
<s> That said, you (Pat) commented this would make expressing the semantics more difficult, in that not all plain literals without lang tags would  </s>
<s> denote xsd:string's, requiring you to have a more complex rule in the  </s>
<s> semantics doc.  </s>
<s> I wonder whether we really need that rule.  </s>
<s> Would it suffice to *note*  </s>
<s> that most plain literals without lang tags denote xsd:string's, but that  </s>
<s> due to the fact that some UNICODE sequences are not legal xsd:string's, not all plain literals without lang tags are xsd:string's.  </s>
<s> This is something that should be straightforward to implement in an xsd reasoner.  </s>
<s> We could do a couple of simple test cases.  </s>
<s> So I'm suggesting no rule and a warning note.  </s>
<s> As always, the WG decides.  </s>
<s> Brian  </s>
<s> ps: test case: _:a rdf:label "\0007" .  </s>
<s> entails?  </s>
<s> _:a rdf:label _:v .  </s>
<s> _:v rdf:type xsd:string .  </s>
<s> On 28 Jul 2003 12:15:25 +0100  </s>
<s> That's one of the encodings, there are several.  </s>
<s> How plain literals is written into RDF/XML does not involve XML canonicalization.  </s>
<s> In the graph, you get a Unicode string, what Charmod calls a Character string: http://www.w3.org/TR/charmod/#def-character-string  </s>
<s> Yes, these are listed Char ::= #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF] /* any Unicode character, excluding the surrogate blocks, FFFE, and FFFF.  </s>
<s> */ ]] -- http://www.w3.org/TR/REC-xml#NT-Char  </s>
<s> However, that is for XML 1.0(2nd edition).  </s>
<s> the draft XML 1.1 proposes replacing the above comment to: /* any Unicode character, excluding most ISO controls, the surrogate blocks, FFFE, and FFFF */ ]] -- http://www.w3.org/TR/xml11/#NT-Char: (ISO controls I assume refering to the excluded parts #0-#8, #B, #C, #E-#1F) RDF/XML is an XML 1.0 (2nd edition) format so the former definition applies.  </s>
<s> The former would be for concepts.  </s>
<s> RDF/XML or any XML format would have problems serializing such things.  </s>
<s> I'm wondering here what's broke - xsd:string allowing illegal Unicode  </s>
<s> or RDF's plain literals?  </s>
<s> _:a rdf:label "\u0007" .  </s>
<s> _:a rdf:label _:v .  </s>
<s> _:v rdf:type xsd:string .  </s>
<s> Dave  </s>
<s> Someone (Brian) suggested:  </s>
<s> I think not.  </s>
<s> (IIRC xsd:string is restricted to the characters matching the xml 1.0 Char  </s>
<s> production, and bel is not one of them).  </s>
<s> Jeremy  </s>
<s> Thanks for the correction.  </s>
<s> That should be does not entail (xsd:string)  </s>
<s> Hmmm: how about:  </s>
<s> _:a rdf:label "\u0007" .  </s>
<s> RDFS-entails?  </s>
<s> _:a rdf:label _:v .  </s>
<s> _:v rdf:type rdfs:Literal .  </s>
<s> #g Graham Klyne PGP: 0FAA 69FF C083 000B A2E9 A131 01B9 1C7A DBCA CB5E  </s>
<s> Yes that one is OK.  </s>
<s> Regarding the below, my current version says this: "... there may be valid D-entailments for particular datatypes which depend on idiosyncratic properties of the particular datatypes, such as..." (old text at end of section 7.4, now following added:) "In particular, the value space and lexical-to-value mapping of the XSD datatype xsd:string sanctions the identification of typed literals with plain literals without language tags for all character strings which are in the lexical space of the datatype, since both of them denote the Unicode character string which is displayed in the literal; so the following inference rule is valid in all  </s>
<s> XSD-interpretations. Here, 'sss' indicates any  </s>
<s> string of characters in the lexical space of xsd:string.  </s>
<s> xsd 1a uuu aaa "sss".  </s>
<s> -- uuu aaa "sss"^^xsd:string .  </s>
<s> xsd 1b uuu aaa "sss"^^xsd:string .  </s>
<s> -- uuu aaa "sss".  </s>
<s> I think that covers it.  </s>
<s> OK?? Pat  </s>
<s> IHMC(850)434 8903 or (650)494 3973 home 40 South Alcaniz St.(850)202 4416 office FL 32501(850)291 0667 cell phayes@ihmc.us  </s>
<s> http://www.ihmc.us/users/phayes  </s>
<s> That last sentence is particularly cunning.  </s>
<s> Too cunning?  </s>
<s> Should we  </s>
<s> note that some plain literals are not in the lex space of xsd:string?  </s>
<s> Brian  </s>
<s> Well, if you really think so.  </s>
<s> We could write an essay here referring  </s>
<s> to charmod, XML 1.0, XML 1.1 etc.., but I figured that I might try to actually believe what Tim is always saying, viz.  </s>
<s> that how its supposed to work is that people actually read the specs and work it out for themselves.  </s>
<s> But maybe I was just getting tired.  </s>
<s> Pat IHMC(850)434 8903 or (650)494 3973 home 40 South Alcaniz St.(850)202 4416 office FL 32501(850)291 0667 cell phayes@ihmc.us  </s>
<s> http://www.ihmc.us/users/phayes  </s>
<s> Here, 'sss' indicates any  </s>
<s> Bows head, with a quiet smile..  </s>
<s> No, I don't insist.  </s>
<s> You're call.  </s>
<s> Brian  </s>
<s> Bows head, with a quiet smile..  </s>
<s> Ok, then I will leave it alone until obliged to change it.  </s>
<s> The less said the better as long as it is not actually wrong.  </s>
<s> Pat IHMC(850)434 8903 or (650)494 3973 home 40 South Alcaniz St.(850)202 4416 office FL 32501(850)291 0667 cell phayes@ihmc.us  </s>
<s> http://www.ihmc.us/users/phayes  </s>
