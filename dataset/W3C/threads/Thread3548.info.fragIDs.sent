<s> 5.2 Providing Language and Locale Negotiation 5.2.1 I-020: Correlation of Data Between Services in Different Languages Scenarios in this section address the requirements of services that employ intermediaries, as discussed in "Service Oriented Architecture Derivative Patterns Intermediary" (in Web Services Architecture document[WSA]).  </s>
<s> Editorial note Insert illustration.  </s>
<s> [Owner: Addison] In these scenarios, providers may offer services with support for either differing or a variety of international preferences.  </s>
<s> An intermediary service makes requests of these providers and uses the results to satisfy the requests coming from its clients.  </s>
<s> The intermediary service may process and/or integrate the results from different providers to create a new kind of service.  </s>
<s> The intermediary service may cache its results, or the results returned to it  </s>
<s> by its providers, for reuse with subsequent requests.  </s>
<s> Clients requesting intermediary services can have different international preferences.  </s>
<s> Therefore the intermediary service must be careful with its algorithms for determining when to reuse requests.  </s>
<s> Proper tracking of source data locale and requester locale is required.  </s>
<s> Also, correlation and/or aggregation of data may prove difficult if sound internationalization principles are not used.  </s>
<s> 5.2.3 I-012: Caching If caching does not take international preferences into account, it is possible that cached responses in the wrong language, format, or locale could be returned.  </s>
<s> 5.2.3 I-012: Locale Negotiation in Intermediary Services Alternatively, in scenario I-020, the intermediary service caches fault reasons and other data returned from its providers in each of the languages and cultural conventions that are requested of it, tracking the locales of each result.  </s>
<s> Requesters of the intermediary service identify the desired locale of expected results.  </s>
<s> With locale negotiation, the intermediary service can provide results and/or fault reasons that match the requester's international preferences.. 5.2.2 I-007: Locale Negotiation and Chained Services Chained services are a form of intermediary services.  </s>
<s> A (source) provider defines a service that has a requirement for a language or locale preference.  </s>
<s> Another (intermediary) service provider, defines the same service and invokes the first service to utilize its capabilities.  </s>
<s> The source provider defines an optional header containing a language request field.  </s>
<s> If the intermediary service does not also define the optional header, then when it receives a request it cannot communicate the requester's preferences to the source provider.  </s>
<s> The intermediary service might indicate its own international preference(s) to the source provider or none, accepting default values.  </s>
<s> Unless, the description of the intermediary's service declares its policy on addressing international preferences, its users may have incorrect expectations of the results.  </s>
<s> 5.4 Soap headers In a variation of these scenarios, a SOAP header can be used for locale negotiation between each layer of requester, intermediary and service.  </s>
<s> An example is a Web service wrapper to a legacy client/server application.  </s>
<s> Hi Tex, I'm incorporating this text, but it's a little confusing.  </s>
<s> The scenario 5.2.1 appears to be introductory text to the section?  </s>
<s> Addison Addison P. Phillips Director, Globalization Architecture webMethods | Delivering Global Business Visibility Chair, W3C Internationalization (I18N) Working Group Chair, W3C-I18N-WG, Web Services Task Force Internationalization is an architecture.  </s>
<s> It is not a feature.  </s>
<s> Hi, I am at 781 863 1648 if you want to chat about it.  </s>
<s> Yes it is introductory but the last para is supposed to be a (very generally stated) scenario that clients and providers may have different i18n settings which the intermdiary must negotiate carefully.  </s>
<s> The diagram was supposed to help set the stage.  </s>
<s> Probably will need sharpening though.  </s>
<s> Maybe move the scenario heading to the last para in that section and leave the rest as intro?  </s>
<s> tex  </s>
<s> Tex Texin cell: +1 781 789 1898 mailto:Tex@XenCraft.com Xen Master http://www.i18nGuy.com  </s>
<s> XenCraft http://www.XenCraft.com  </s>
<s> Making e-Business Work Around the World  </s>
