<s> Hi,  </s>
<s> Some XSLT 2.0 constructs like xsl:for-each allow xsl:sort* in their content model, it is however defined that no other xsl:* elements may precede xsl:sort in these cases.  </s>
<s> It happens that you want to use sort expression later in the body of the respective construct and would thus  </s>
<s> like to assign it to a variable, which is not allowed, which is rather counter-intuitive.  </s>
<s> Please allow xsl:variable to precede xsl:sort in xsl:for-each and xsl:for-each-group (maybe others I did not check whether it makes sense anywhere else too).  </s>
<s> regards.  </s>
<s> The semantics of this would be very complicated.  </s>
<s> It would imply that the variable is computed with a context based on the unsorted sequence.  </s>
<s> How would this extend to: Would a call on position() in the second variable reflect the position of the item after applying the first sort key and before applying the second?  </s>
<s> I agree that there are cases in 1.0 where computing a sort key is difficult.  </s>
<s> However, I think that XSLT 2.0 already provides adequate remedies: (a) you can compute the sort key using a call to a stylesheet function  </s>
<s> (xsl:function) (b) you can compute the sort key using a sequence constructor  </s>
<s> This is a personal response, but as the official public comment period is closed, I'm not going to place this on the WG agenda unless another WG member asks for it to be added.  </s>
<s> The XSL WG is currently happy to accept comments that report problems in the spec, but not requests for new features.  </s>
<s> Regards, Michael Kay  </s>
<s> It would not, the content model would rather be variable*, sort*, ... And as you said, the semantics would be the same as if the for-each had no sort children.  </s>
<s> Doesn't really sound complicated to me.  </s>
<s> When I authored the fragment above it's been the first time that my XSLT processor correctly and surprisingly considered my transformation malformed, hence this stroke me as counter-intuitive.  </s>
<s> I am not too concerned about this though.  </s>
<s> I am not sure I understand.  </s>
<s> The WG is required to formally address all comments, the end of the LC review period just allows the WG to refuse to make substantive changes in response to comments on procedural rather than technical grounds.  </s>
<s> I guess I would accept such a response, but I would nevertheless expect the WG to formally address my comment which seems to require to put it on the WG's agenda.  </s>
<s> Thanks.  </s>
