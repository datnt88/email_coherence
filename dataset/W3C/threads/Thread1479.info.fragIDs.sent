<s> I'm confused about this paragraph in 15.1, section 2.2.1: "In order to remove a resource from version control, a client can COPY the version-controlled resource to a temporary location, DELETE the version-controlled resource, and then MOVE the copy from the temporary location back to the original URL.  </s>
<s> The versions created for that resource while it was under version control will continue to exist at their server-defined locations."  </s>
<s> I'd parse the first sentence to mean that when the COPY is done, only one version is created at the destination.  </s>
<s> Then when the MOVE back is done, only one version is available at the original location.  </s>
<s> This has the effect of replacing 'n' versions with 1 version, and replacing a VCR with a non-version-controlled (ordinary) resource.  </s>
<s> Then I read the second sentence, and I get confused.  </s>
<s> The versions all still exist?  </s>
<s> Why?  </s>
<s> What's the point?  </s>
<s> How can that be?  </s>
<s> lisa  </s>
<s> Interoperability is achieved by making server behavior predictable.  </s>
<s> If there are two different "reasonable" behaviors, one needs to chose one behavior as the defined behavior and ensure that the other behavior can be achieved by explicit client action.  </s>
<s> In this case, the two behaviors are: - automatically delete all versions from a version history when a version-controlled resource for that version history is deleted.  </s>
<s> - keep all versions when a version-controlled resource is deleted.  </s>
<s> If the defined behavior is to keep all versions, then the other behavior can be achieved by the client explicitly deleting the versions when deleting the version-controlled resource.  </s>
<s> But if the defined behavior is to delete all versions, the other behavior cannot be achieved by any explicit client action (the versions are deleted and cannot be brought back).  </s>
<s> Note that "explicit client action" does not mean "explicit user action".  </s>
<s> A client can expose a user to whatever default behavior  </s>
<s> it wishes (e.g. delete all versions), and can achieve that behavior interoperably against all (compliant) servers.  </s>
<s> Alternatively, one can just define every possible server default as a "server option", and leave it up to the client writer to discover what kind of server it is running against, and to modify every action it performs based upon "what kind of server" it is running against.  </s>
<s> But the result of this approach is  </s>
<s> that it is too hard to write an interoperable client, so you just write clients to run against a specific set of server options, and thus interoperability is not achieved.  </s>
<s> Cheers, Geoff  </s>
<s> If the server only supports the version control feature, then there is no version history resource visible in the URL namespace, so a client wouldn't know if it was deleted or not (:-).  </s>
<s> The key here is that the behavior of DELETE has to be consistent, whatever feature set is supported by the server, so you can't have DELETE do incompatible things depending on what versioning features are supported (not if you want to make it feasible to write interoperable clients).  </s>
<s> Then you need to explain in the draft what the interoperable behaviour is that allows our implementation to clean out version histories automatically, because that is what our customers want.  </s>
<s> lisa  </s>
<s> Normally I'd agree with what you're saying, but cleaning up old versions can be server policy.  </s>
<s> Server administrators can't force clients to do that, so it must be a possible server behaviour.  </s>
<s> I understand it can also be server policy to keep around all old versions and NEVER delete them.  </s>
<s> That's why DeltaV MUST support both.  </s>
<s> lisa  </s>
<s> If you were to use the model of an RDBMS; If a version is related to anything then you must archive everything at that point of time before removing the relation and the version.  </s>
<s> If something in the version control system depends on or is a child of the version that is to be deleted then that version can not be deleted.  </s>
<s> Do not allow the versioning standard to allow defined corruption... [mailto:ietf-dav-versioning-request@w3.org]On  </s>
<s> Behalf Of Lisa Dusseault  </s>
<s> Normally I'd agree with what you're saying, but cleaning up old versions can be server policy.  </s>
<s> Server administrators can't force clients to do that, so it must be a possible server behaviour.  </s>
<s> I understand it can also be server policy to keep around all old versions and NEVER delete them.  </s>
<s> That's why DeltaV MUST support both.  </s>
<s> lisa  </s>
<s> I'm not dissing the RDBMS-model or any other model that says "keep around versions that are referenced".  </s>
<s> In fact, what I'm proposing may be compatible with that model -- we weren't planning to delete versions that were still referenced by an existing VCR.  </s>
<s> I'm also not dissing the model that says "keep around all versions forever".  </s>
<s> That's fine.  </s>
<s> But there is also a model that requires servers to delete stuff.  </s>
<s> To conserve space, to enforce policy on not archiving stuff (e.g. like email servers), or for whatever reason.  </s>
<s> The rule might be to delete ANYTHING over 2 yrs old.  </s>
<s> The rule might be to cleanse (bitmask wipe) anything that's deleted in case your archives are requested for material in a trial.  </s>
<s> The spec needs to accomodate these models as well.  </s>
<s> Or consider the model on www.sharemation.com,  </s>
<s> where we support versioning through a Web UI (try it out) but we also have quota.  </s>
<s> A user is limited to 20 MB. THey reach that and clean out old files.  </s>
<s> How can they possibly reduce the amount of space used in their system?  </s>
<s> Remember, this person may be using current Web Folders or other existing clients.  </s>
<s> To rebut the earlier argument that clients need predictable behaviour -- well sometimes that goes by the wayside.  </s>
<s> After all, that's what 404 Not Found was invented for.  </s>
<s> Things disappear.  </s>
<s> lisa  </s>
