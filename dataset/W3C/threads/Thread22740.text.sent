Let's assume we have the following XML document: !DOCTYPE doc [ ] If 'doc' holds my Document object, should I expect doc.documentElement.getAttributeNodeNS( 
"urn:my-scheme:my-namespace", "foo") to return an ATTRIBUTE_NODE referring to the foo attribute, or should it return null? 
Thanks! 
-Fred Fred L. Drake, Jr. fdrake at acm.org PythonLabs at Digital Creations null, following the XML namespace recommendation: Note that default namespaces do not apply directly to attributes. 
-- Namespaces in XML Thu, 14 Jan 1999 22:24:57 GMT Philippe Attributes in XML files do not inherit namespaces, nor do they pick up the default namespace; if you want an Attr to be namespaced, you must use an explicit prefix and define that prefix. 
See the Namespaces specification. 
It is possible to use the DOM APIs to explicitly create an Attr which has a Namespace but does not have a prefix. 
It is the serializer's reponsibility to repair this situation when you write that document out as XML syntax. 
Typically it will either find and use an existing prefix for that URI, or synthesize and declare a new one, or ask the user for guidance. 
Since the DOM does not yet define serializer behavior, nor provide a check for namespace-well-formedness, nor provide namespace-to-prefix or prefix-to-namespace lookup operations, we have not yet expressed any opinion regarding which of these options is preferred. 
DOM Level 3 will add some of those functions, and may or may not recommend specific solutions. 
Joe Kesselman / IBM Research Thanks; this was what I expected, but someone else on my project wrote a test case that assumed differently. 
Since I know that person has spent at least as much time in the various recommendations as I have, and possibly more, I figured I'd better make sure I wasn't missing an interaction somewhere. 
The aspect of my sample document which was of the most interest was that the result of the getAttributeNodeNS() was an attribute specified in the DTD. 
The person who wrote test cases for the DOM implementation expected the expression I posted to return a non-null value. 
I don't think there's *any* way to get an ATTRIBUTE_NODE with a namespaceURI without specifying it in the document instance or adding it programmatically to the node (in which case the "specified" attribute is true). 
The test was specifically checking that the node became a specified node and did not cause the length of the "attributes" attribute of the ownerElement to change. 
-Fred Fred L. Drake, Jr. fdrake at acm.org PythonLabs at Digital Creations 
