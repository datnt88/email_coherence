From RFC 2396 section 5 Some URI schemes do not allow a hierarchical syntax matching the hier_part syntax, and thus cannot use relative references. 
I think that that justifies xmlbase/error001.rdf as an error. 
Perhaps the above quote need to be added to the file. 
rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:eg="http://example.org/" xml:base="mailto:Jeremy_Carroll@hp.com" 
Jeremy Jeremy Carroll said: Isn't this implying (since it is an error case) that RDF applications have to validate URI-refs or at least know some non-hierarchical uri schemes. 
I understand RDF apps need to do relative URI resolution but until the xmlbase test cases, we never checked that they worked right. 
We seem to be sort-of generating test cases for other specifications (RFC 2396, xml base) which we generally shouldn't be doing :) and urn:, isbn: etc. etc. Dave Jeremy Carroll said: DaveB: Yes your right. 
I am convinced. 
I will switch error1 to positive. 
Hmmm... that's food for thought. 
Jeremy Here is the new test error001 == test017 Note that I have, for consistency, treated the empty path as "/". 
rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:eg="http://example.org/" xml:base="mailto:Jeremy_Carroll@hp.com" == http://example.org/type . 
Sorry for being slow on the uptake. 
Jeremy Yup. 
#g Graham Klyne IIRC, RFC 2396 is crafted so that the non-hierarchical schemes can be detected syntactically; i.e. the base URI doesn't start with a "/" immediately following the schema name. 
If the scheme name is followed immediately by a '/' then it's hierarchical. 
#g Graham Klyne IIRC, RFC 2396 is crafted so that the non-hierarchical schemes can be detected syntactically; i.e. the base URI doesn't start with a "/" immediately following the schema name. 
If the scheme name is followed immediately by a '/' then it's hierarchical. 
[Follow-up] Here's the relevant syntax from RFC 2396: URI-reference = [ absoluteURI | relativeURI ] [ "#" fragment ] absoluteURI = scheme ":" ( hier_part | opaque_part ) relativeURI = ( net_path | abs_path | rel_path ) [ "?" query ] hier_part = ( net_path | abs_path ) [ "?" query ] opaque_part = uric_no_slash *uric uric_no_slash = unreserved | escaped | ";" | "?" | ":" | "@" | "&amp;" | "=" | "+" | "$" | "," net_path = "//" authority [ abs_path ] abs_path = "/" path_segments rel_path = rel_segment [ abs_path ] #g Graham Klyne Graham Klyne DaveB, Jos, please can you include this in your review, so we can clear this off this week. 
Brian Well I'll change my mind again! 
error001.rdf 
or test017.rdf 
I now think it's an error. 
I am so easily swayed one way or another. 
Jeremy From: w3c-rdfcore-wg-request@w3.org [mailto:w3c-rdfcore-wg-request@w3.org]On 
Behalf Of Graham Klyne Sent: 13 March 2002 17:18 Subject: Re: xmlbase error1 glad to do that can agree with all cases at just also want to mention that Jena-1.3.0 appoved as well, except for {W105} Redefinition of ID: frag {W105} Previous definition of 'frag'. 
models are unequal Jos oops... jena.rdfcopy seems to be too happy with error001 as well "Jos De_Roo" jos.deroo.jd@belgium.agfa.com 
@w3.org on 2002-03-15 11:01:51 AM Sent by: w3c-rdfcore-wg-request@w3.org dave.beckett" dave.beckett@bristol.ac.uk , "" w3c-rdfcore-wg " Subject: RE: xmlbase error1 glad to do that can agree with all cases at just also want to mention that Jena-1.3.0 appoved as well, except for N-TRIPLE {W105} Redefinition of ID: frag {W105} Previous definition of 'frag'. 
models are unequal Jos Jos De_Roo said: Brian said: Summary: I agree to all the tests: test001-test016.{rdf,nt} 
I don't think I can agree to: error001.rdf 
I renamed error001.rdf 
= test017.rdf 
as Jeremy asked in then renamed it back as per: I don't think error.rdf is an error in the right way - but I really didn't want to writing test cases for the URI spec RFC2396! 
Can some URI expert tell me if (non-hierarchical) base URI: mailto:Jeremy_Carroll@hp.com resolved with relative URI: relfile gives resulting URI: mailto:relfile or and is this important for us to test? 
Alternative proposal: delete this In test012.rdf 
Jeremy says: Note: RFC 2396 appears to permit implementations that discard excess .. components, "compensating for obvious author errors". 
Such behaviour is not correct for RDF/XML. 
Which if true, we (or Jeremy:) should explain in more detail in one of our documents as to why we require this, rather than in a test case. 
In test013.rdf 
Jeremy says: With an xml:base with fragment the fragment is ignored. 
which I think also needs bringing out of a test case into documents. 
These are all probably for the syntax doc for section in my draft Dave A known bug ;( ? 
Good; this is the conclusion Larry and I came to[Cannes] on the basis of: "5.2. 
Resolving Relative References to Absolute Form Note that only the scheme component is required to be present in the base URI; the other components may be empty or undefined." -- http://www.ietf.org/rfc/rfc2396.txt 
[Cannes] Dan Connolly, W3C http://www.w3.org/People/Connolly/ 
Dan Connolly said: That was 2 weeks ago. 
I've since renamed it to positive after http://lists.w3.org/Archives/Public/w3c-rdfcore-wg/2002Mar/0167.html then back to negative after Jeremys' last message of 14 March: [[ I'll change my mind again! 
error001.rdf 
or test017.rdf 
I now think it's an error. 
]]] -- http://lists.w3.org/Archives/Public/w3c-rdfcore-wg/2002Mar/0206.html 
This is an URI resolution that I think has an undefined answer; neither the generic URI spec (RFC 2396) or the mailto spec define relative URI resolution for mailto scheme (RFC 2368). 
Jeremy quoted RFC 2396: Some URI schemes do not allow a hierarchical syntax matching the hier_part syntax, and thus cannot use relative references. 
I couldn't find any compelling answer as I went over in and We should not be testing for something with an undefined answer! 
Tricky to write code for :) Dave My considered opinion is that the answer is defined by RFC 2396; "relfile" relative to mailto:foo@bar is mailto:relfile. 
I regret that I cannot write a more detailed response, nor investigate the state of this matter (whether the WG has already decided on it or not) without putting my other obligations at risk for the next week or so. 
Dan Connolly, W3C http://www.w3.org/People/Connolly/ 
