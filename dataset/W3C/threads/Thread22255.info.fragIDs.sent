<s> I pulled a copy of the test suite from CVS and noticed that the dom1.dtd  </s>
<s> file is not there.  </s>
<s> It was in the previous release in the "test" directory.  </s>
<s> And at lease some (if not all) of the tests currently in CVS reference the DTD.  </s>
<s> If it's not going to be supported anymore, the references need to be removed.  </s>
<s> If it is to be supported, the DTD need to be placed in CVS.  </s>
<s> This brings up some good questions: Can the current tests in CVS (for at least core level 1 tests) be validated against dom1.dtd from the previous release ????  </s>
<s> Will this be supported in the future ????  </s>
<s> What about level 2 ??? Has the definition of the test files changed to support level 2 ???  </s>
<s> In any case, I a building a test harness for the test suite and I need a good definition of the contents of the test files so I can build the test generator.  </s>
<s> Is there such a definition in CVS or elsewhere ?????  </s>
<s> Joe Schafer jschafer@iquest.net  </s>
<s> All the DTD's are built from the DOM specs as part of the build process.  </s>
<s> Running the "dom1-dtd" target will generate the dom1.dtd and copy the built  </s>
<s> file to the appropriate test directories.  </s>
<s> There are several "-validate-tests" targets that will validate tests against the appropriate  </s>
<s> DTD.  </s>
<s> comments inlined  </s>
<s> [dd] As Curt indicated, the DTD (and schema) are generated  </s>
<s> [dd] Most of the current tests are validated against the same DTD, since this is generated from the W3C specifications and Working Drafts.  </s>
<s> However, it's best to generate them using the specific target in the build process.  </s>
<s> [dd] I think the best way to go about is to take a test file (XML) and compare it to the code which is generated from it to understand how it  </s>
<s> works.  </s>
<s> There isn't a description of the markup language, mainly due to lack of time.  </s>
<s> What language and/or implementation are you wanting to test?  </s>
<s> The code generation templates are pretty numbingly complex XSLT.  </s>
<s> Probably the best process is to: generate the Java tests manually transliterate a few of them to your target language, binding and xUnit test framework Transliterate the framework functions Get the few tests running Create a test-to-whatever.xsl from test-to-java.xsl to produce something like your transliterated tests Iterate  </s>
<s> I know someone has already done the process for a C or C++ parser, would have to check the mailing list history for the details.  </s>
<s> If you can tackle the first couple of steps, we could probably help on the last couple.  </s>
<s> I am using an XML parser and DOM that I wrote myself that is based on COM.  </s>
<s> I have gotten it to completely pass the previously released level 1 tests using JsUnit.  </s>
<s> And I am now working on the level 2 support.  </s>
<s> However, I want to get away from JsUnit and JUnit is not acceptable either.  </s>
<s> They both introduce dependencies from the Java/DOM or JavaScript/DOM bindings that have nothing to do with my COM bindings.  </s>
<s> I have noticed the "numbing complexity".  </s>
<s> I want to avoid this all together.  </s>
<s> I'm taking the approach to read the XML definitions of the tests and then call the functions directly.  </s>
<s> No intermediate source code generation.  </s>
<s> The COM standard provides all I need and I don't have to deal with language specific binding issues either !!!!  </s>
<s> So I am far more concerned with changes to the DTD's used to validate the test definitions than I am with changes or additions to tests in the suite.  </s>
<s> In fact I have a task on my plate to programmatically generate tests to pass  </s>
<s> though this framework.  </s>
<s> So DTD stability is doubly important to me.  </s>
<s> Since the DTD's are generated, I guess the real question is how stable are  </s>
<s> the inputs and scripts used to generate the DTD's ????  </s>
<s> Or maybe as a longer term solution, Is there any place I can get recently  </s>
<s> generated copies of the test suite so I can avoid going though the whole build  </s>
<s> process just to get a few files ????  </s>
<s> It might not be a bad idea to include even  </s>
<s> the generated components in CVS !!!!!  </s>
<s> Joe Schafer jschafer@iquest.net  </s>
<s> Comments inlined:  </s>
<s> suite.  </s>
<s> pass  </s>
<s> are  </s>
<s> The most significant factor is the stability of the DOM level that is being addressed.  </s>
<s> The DTD's and Schemas for DOM Level 1 and DOM Level 2 are very stable.  </s>
<s> The schema for DOM Level 3 will change with new working drafts of the L3 modules.  </s>
<s> There are some constructs that are needed in L3 tests that can't effectively be validated using DTD's, so we don't anticipate producing an L3 DTD.  </s>
<s> The other source for changes in the introduction of new utility constructs.  </s>
<s> For example, writing events tests was made substantially easier by adding a EventMonitor type and associated methods.  </s>
<s> These additions are fairly rare and changes to existing constructs are unlikely.  </s>
<s> You could review the revision history of transforms/dom-to-schema.xsl if you want some metric of how frequently that occurs.  </s>
<s> Your COM runner would also want to use the domX-interfaces.xml  </s>
<s> file produced from the build process.  </s>
<s> This basically provides the expected "type library" for the DOM implementation.  </s>
<s> It is used by the current code generation to determine when cast operators are needed.  </s>
<s> recently  </s>
<s> build  </s>
<s> include even  </s>
<s> The DOM3 schemas I assume are out of date.  </s>
<s> Thanks for the clarification.  </s>
<s> However the link: does not seem to be active or there is some restrictive permissions on it.  </s>
<s> I can see http://www.w3.org/DOM/Test/Documents but the DOMTSML.html file is not accessible !!! Joe Schafer jschafer@iquest.net  </s>
<s> Thanks for the info, I'll look into this issue, otherwise just go with any links on the main (http://www.w3.org/DOM/Test) page, they are stable.  </s>
<s> /Dimitris  </s>
