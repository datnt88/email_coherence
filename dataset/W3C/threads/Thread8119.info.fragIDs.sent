<s> You saw this coming, didn't you?  </s>
<s> ;) The HTTP If-* header family, namely If-Match, If-None-Match, If-Modified-Since, If-Unmodified-Since and If-Range are described in rfc2616 as they apply to GET, HEAD and PUT.  </s>
<s> But what about the WebDAV methods?  </s>
<s> I think we need to clarify and put an advisory in an updated rfc2518.  </s>
<s> Easy things first: If-Range seems only to make sense with GET.  </s>
<s> So we could exclude it from discussions of other methods.  </s>
<s> The other four, IMO, should be honoured on DELETE, COPY, MOVE, LOCK and UNLOCK.  </s>
<s> But what about PROPFIND?  </s>
<s> For the If-* headers to make sense with PROPFIND, a client would rely on the assumption that DAV:getlastmodified and DAV:getetag change when properties are changed (either by PROPPATCH or as a side-effect on live properties from other methods.) Would the burden on the server (to update etag/lastmodified) justify the benefit?  </s>
<s> I rather doubt that, but would like to hear the opinion of the excellent audience on this list.  </s>
<s> //Stefan  </s>
<s> Whenever the topic has come up in the past, it has always become clear that there will always be some live properties that will change without updating the DAV:getlastmodified or DAV:getetag values, that some implementations will update these values when dead properties (and certain live properties) change, and that other implementations will never update these values for any property change.  </s>
<s> So there is little useful we can say about the relationship between property values and the If-* headers.  </s>
<s> Cheers, Geoff You saw this coming, didn't you?  </s>
<s> ;) The HTTP If-* header family, namely If-Match, If-None-Match, If-Modified-Since, If-Unmodified-Since and If-Range are described in rfc2616 as they apply to GET, HEAD and PUT.  </s>
<s> But what about the WebDAV methods?  </s>
<s> I think we need to clarify and put an advisory in an updated rfc2518.  </s>
<s> Easy things first: If-Range seems only to make sense with GET.  </s>
<s> So we could exclude it from discussions of other methods.  </s>
<s> The other four, IMO, should be honoured on DELETE, COPY, MOVE, LOCK and UNLOCK.  </s>
<s> But what about PROPFIND?  </s>
<s> For the If-* headers to make sense with PROPFIND, a client would rely on the assumption that DAV:getlastmodified and DAV:getetag change when properties are changed (either by PROPPATCH or as a side-effect on live properties from other methods.) Would the burden on the server (to update etag/lastmodified) justify the benefit?  </s>
<s> I rather doubt that, but would like to hear the opinion of the excellent audience on this list.  </s>
<s> //Stefan  </s>
<s> Am Freitag den, 26. April 2002, um 18:41, schrieb Clemm, Geoff:  </s>
<s> That is the current state of affairs, yes.  </s>
<s> Hmm. I think it would be useful to say that ETags should only change on content modifications.  </s>
<s> In my understanding HTTP caches are encouraged by HTTP/1.1 to validate on ETags.  </s>
<s> WebDAV enabled servers could improve caching if PROPPATCH and friends would not change ETags.  </s>
<s> So, a recommendation in a future version of 2518 makes sense, don't you think?  </s>
<s> //Stefan  </s>
<s> I agree with Stefan.  </s>
<s> ETags should only apply to the GET/HEAD response.  </s>
<s> We can invent something else if we want some ETAG-like support that applies to properties.  </s>
<s> Stefan did mention PUT.  </s>
<s> I wound't even necessarily mention that since more than just PUT can alter the GET response.  </s>
<s> Stefan, you've apparently just read the IF-* specifications.  </s>
<s> Does this sound acceptable in view of what you read?  </s>
<s> J.  </s>
<s> I also agree that the Etag should only apply to the content.  </s>
<s> Unfortunately, there are implementations (such as some by Microsoft) that store the dead properties as hidden parts of the file, and which use the file system to provide the modification dates and etags, and therefore a PROPPATCH will in fact change the modification date and etag.  </s>
<s> So if we want to avoid confusing clients that want to interoperate with those implementations, we probably can at most say that "PROPPATCH SHOULD NOT modify the etag or modification date".  </s>
<s> Cheers, Geoff I agree with Stefan.  </s>
<s> ETags should only apply to the GET/HEAD response.  </s>
<s> We can invent something else if we want some ETAG-like support that applies to properties.  </s>
<s> Stefan did mention PUT.  </s>
<s> I wound't even necessarily mention that since more than just PUT can alter the GET response.  </s>
<s> Stefan, you've apparently just read the IF-* specifications.  </s>
<s> Does this sound acceptable in view of what you read?  </s>
<s> J.  </s>
