I have had some problems with JTidy's (and I believe Tidy's in general) handling of forms inside of table: For example the html snippet of: Form testing tr td form Input 1 Form 1: input name='v'/ /td td Input 2 Form 1: input name='w'/ /form form action='pageB' Input 1 Form 2: input name='x' /td /tr tr td Input 2 Form 2: input name='y' /td /tr /table Input 3 Form 2: will be turned into Form testing Input 3 Form 2: input name='z' / Hello World Notice that input w, y, z are now input without a form. 
I have tried using another HTML cleaner, TagSoup (unfortunately, still a lot of errors) which returns: form enctype = "application/x-www-form-urlencoded" method = "get" action = "pageA" form enctype = "application/x-www-form-urlencoded" method = "get" Input 1 Form 1: input type = "text" name = "v" /input /form /td td colspan = "1" rowspan = "1" Input 2 Form 1: input type = "text" name = "w" /input /td /tr /tbody form enctype = "application/x-www-form-urlencoded" method = "get" action = "pageB" Input 1 Form 2: input type = "text" name = "x" /input table tbody tr td colspan = "1" rowspan = "1" Input 2 Form 2: Input 3 Form 2: input type = "text" name = "z" /input In here, all inputs are inside a form. 
although the input v is inside a form which is inside a form. 
The way I see it, tidy usually deletes erroneous tags. 
Therefore form tr td ... /form ... will be changed to table tr td ... /form ... because a form cannot be inside a table. 
It is then corrected to table tr td ... While in tagsoup form tr td ... /form ... is changed into form tr td ... /form ... and then form table tr td ... /form ... in most cases I think the tag soup version is much more preferable than the tidy version. 
Anybody know how to do this with jtidy? 
Relevantly, one of the task I am doing currently is cleaning up HTML code from popular websites. 
Yahoo, Lycos all have trouble with their form in the form of form tags located under table tags ( table form tr td ...) So I am currently having a lot of trouble with this... Reza Ferrydiansyah Recently, there is a need to use JTidy for some project and I sort of updated (or I should say sync) the Java version with HTML version. 
The output of tr td form Input 1 Form 1: input name='v'/ /td td Input 2 Form 1: /table Input 3 Form 2: will turn out to be New Document Input 1 Form 1: input name='v' / Input 2 Form 1: input name='w' / Input 1 Form 2: input name='x' / Input 2 Form 2: input name='y' / Input 3 Form 2: input name='z' / If that is what you need, drop me a line and I can send you my latest jar file. 
Feng-Shuo Yu, Ph.D. University of Iowa Hygienic Lab 102 Oakdale Campus Iowa City, IA 52242-5002 319/335-4852 Thanks for your reply. 
I still see some problem with your solution though, namely, there is a form in another form and that the second form doesn't correctly encompass the input x, y, and z. 
That being said, I'd still like to get your jar file, can you send it to my email? 
Thanks --- Begin Orginal Message --- From: "feng-shuo yu" fyu@uhl.uiowa.edu 
Date: 12/16/2003 9:27:15 AM Recently, there is a need to use JTidy for some project and I sort of updated (or I should say sync) the Java version with HTML version. 
The output of tr td form Input 1 Form 1: input name='v'/ /td td Input 2 Form 1: /table Input 3 Form 2: will turn out to be New Document Input 1 Form 1: input name='v' / Input 2 Form 1: input name='w' / Input 1 Form 2: input name='x' / Input 2 Form 2: input name='y' / Input 3 Form 2: input name='z' / If that is what you need, drop me a line and I can send you my latest jar file. 
Feng-Shuo Yu, Ph.D. University of Iowa Hygienic Lab 102 Oakdale Campus Iowa City, IA 52242-5002 319/335-4852 Reza Ferrydiansyah SHRS University of Pittsburgh ref11@pitt.edu 
