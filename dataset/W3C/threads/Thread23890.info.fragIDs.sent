<s> Hi! Help me, please, with your new injured engine...  </s>
<s> If you would be kind enought to explain what the problem is, I am sure that a solution is possible!  </s>
<s> Thanks CLement Onime  </s>
<s> Salyam! 1-Okt-2001 09:33 onime@ictp.trieste.it  </s>
<s> (Onime Clement) wrote to "Arkady V.Belousov" ark@mos.ru  </s>
<s> : OC If you would be kind enought to explain what the problem is, I am sure OC that a solution is possible!  </s>
<s> When I request html to text conversion with result inserted into message body (i.e.  </s>
<s> I use GET directive) then with new 3.0 engine I get broken text (it transliterated from cyrrilic to latin characters) sended as file-attachment (with name equal to part of full URL).  </s>
<s> PS: Also, limit for 5 request per message also very uncomfortable for me.  </s>
<s> PPS: Sorry for my bad English.  </s>
<s> Okay, this has been fixed on wm.ictp.trieste.it  </s>
<s> The other servers will be updated in a few days time!  </s>
<s> Please test and let me know, if it does not work!  </s>
<s> Thanks Clement  </s>
<s> Hi! 1-Okt-2001 10:32 onime@ictp.trieste.it  </s>
<s> (Onime Clement) wrote to "Arkady V.Belousov" ark@mos.ru  </s>
<s> : OC Okay, this has been fixed on wm.ictp.trieste.it  </s>
<s> OC The other servers will be updated in a few days time!  </s>
<s> OC Please test and let me know, if it does not work!  </s>
<s> This doesn't work yet.  </s>
<s> I try three URL.  </s>
<s> All three again attached (not inserted into body) and all three again transliterated.  </s>
<s> :( PS: Don't know why, but: first two pages commented as "Description: ASCII text", third commented as "Description: International language text".  </s>
<s> With previous engine version (2.x) two first URL I recieve in perfect form, third  </s>
<s> URL I get recoded, what requires from me some work to recode back - i.e.  </s>
<s> I should convert back from CP866 to KOI8-R, then from CP1251 (Windows) to CP866 (DOS CP, where I work).  </s>
<s> This may be caused by incorrect header: server  </s>
<s> PPS: In any case wrong CP is revertible, whereas transliterated text - not.  </s>
<s> Attaching text as files also is very-very uncomfortable, because requres much more work to access text.  </s>
<s> Not counting that this contradicts the  </s>
<s> documentation.  </s>
<s> Hi, I have not fixed, I hope this interesting problem!  </s>
<s> Apparently the remote Web Server, tells www4mail that the character set for the document is Windows-1521.  </s>
<s> www4mail tries to do a dump of the page into the character set Windows-1521 and sends the resulting page as an attachment due to the fact Windows-1521 is different from the user's character set koi-r The modification now is as follows text_dump will decide on which character set to use as follows 1. user defined using XCHARSET command 2. user defined using the Charset header from the mail message  </s>
<s> 3. user (inferred from the XLANGUAGE command), as long as www4mail supports the language.  </s>
<s> Ignored for us-ascii.  </s>
<s> 4. The Remote Web Server's word on the Character Set 5. The Local Administrator configured via the locallang directive!  </s>
<s> Thanks Clement Onime  </s>
<s> Hi! 2-Okt-2001 15:47 onime@ictp.trieste.it  </s>
<s> (Onime Clement) wrote to "Arkady V.Belousov" ark@mos.ru  </s>
<s> : OC I have not fixed, I hope this interesting problem!  </s>
<s> OC The modification now is as follows OC text_dump will decide on which character set to use as follows OC 1. user defined using XCHARSET command OC 2. user defined using the Charset header from the mail message OC 3. user (inferred from the XLANGUAGE command), as long as www4mail OC supports the language.  </s>
<s> Ignored for us-ascii.  </s>
<s> OC 4. The Remote Web Server's word on the Character Set  </s>
<s> OC 5. The Local Administrator configured via the locallang directive!  </s>
<s> Ops.  </s>
<s> Sorry, but I don't understand from this, what I should do to get results as previously?  </s>
<s> And this not explains for me why some pages income good, and other not.  </s>
<s> BTW, I forget to mention: I sometime get transliterated pages with 2.x engine also, but this happens rarely, not with each server.  </s>
<s> PS: About attachments.  </s>
<s> Trouble from 3.0 engine not in attachments, but in  </s>
<s> attachments type.  </s>
<s> My mailer not shows (of course) contents of _file_ attachments, but shows contents of _inline_ attachments.  </s>
<s> So, if you wish anyway make attachments as result of GET, then you at least should mark it  </s>
<s> as inline.  </s>
<s> And don't forget to reflect this in documentation.  </s>
<s> :)  </s>
<s> Sorry, I meant I have NOW Fixed.  </s>
<s> So, you can test on wm.ictp.trieste.it  </s>
<s> and let me know if it works okay!  </s>
<s> It should work fine now!  </s>
<s> Thanks Clement Onime  </s>
<s> d  </s>
<s> r  </s>
<s> Hi! 2-Okt-2001 16:15 onime@ictp.trieste.it  </s>
<s> (Onime Clement) wrote to "Arkady V.Belousov" ark@mos.ru  </s>
<s> : OC Sorry, I meant I have NOW Fixed.  </s>
<s> OC So, you can test on wm.ictp.trieste.it  </s>
<s> and let me know if it works okay!  </s>
<s> OC It should work fine now!  </s>
<s> Yes!  </s>
<s> It works!  </s>
<s> Thank you.  </s>
<s> :))))))) PS: May I ask about two changes: (1) increase request per message limit and (2) add sended page' codepage into header?  </s>
<s> What I mean: I test three URL.  </s>
<s> First is ok and for it sayed "Character Set of Document: koi8-r".  </s>
<s> For two other sayed "Character Set of Document: windows-1251" and both require back recoding.  </s>
<s> This happens because original header not contains "Content-Type: page.  </s>
<s> Adding this info into header should solve all probable troubles with multiple wrong recoding which may happen from server to user.  </s>
<s> PPS: Although I receive plain text, in statisrics I get next warning: WARNING: THE ATTACHED DOCUMENT CONTAINS HTML SCRIPT.  </s>
<s> YOU MAY NEED TO ENABLE or DISABLE JAVASCRIPT IN YOUR BROWSER TO SEE PAGE CONTENTS!  </s>
<s> To enable html form(s) processing resend request with the XFORMREPLY=text as th e first line I suggest, it should be removed.  </s>
<s> Hi! 2-Okt-2001 16:15 onime@ictp.trieste.it  </s>
<s> (Onime Clement) wrote to "Arkady V.Belousov" ark@mos.ru  </s>
<s> : OC Sorry, I meant I have NOW Fixed.  </s>
<s> OC So, you can test on wm.ictp.trieste.it  </s>
<s> and let me know if it works okay!  </s>
<s> OC It should work fine now!  </s>
<s> Yes, it was works, but three days ago it freezes and don't answer.  </s>
<s> Also, I see no other servers which bugfix their behavior.  </s>
