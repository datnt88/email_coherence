<s> I'm currently trying to implement a significant subset of DOM2 in Gdome, and have run across a number of questions.  </s>
<s> Here's my current set: General  </s>
<s> Is there a reasonable DOM2 implementation I can use as a reference?  </s>
<s> Ideally, it would contain all of DOM2 core plus events and css.  </s>
<s> EventTarget::removeEventListener  </s>
<s> What happens if there are two listeners A and B on a target, and A removes B? Is B guaranteed to be called?  </s>
<s> What if A and B are bubble listeners on an an ancestor of the target?  </s>
<s> What if A and B are bubble listeners on two different ancestors of the target (B ancestor of A)?  </s>
<s> Attr::value  </s>
<s> What is the difference between Attr::nodeValue and Attr::value?  </s>
<s> Node::normalize What events are appropriate?  </s>
<s> Deletion of additional Text nodes  </s>
<s> followed by mutation of the first Text node?  </s>
<s> (this is what I percieve to be the reverse of Text::splitText).  </s>
<s> Any help on these would be appreciated.  </s>
<s> Sorry if they're a FAQ.  </s>
<s> Raph  </s>
<s> A quick followup to my own mail:  </s>
<s> I RTFMLA after I sent the last message, so _now_ I see Xerces and David Bromwell's DOM implementation.  </s>
<s> I've linked these, and a few other things relevant to Gdome, on the Gdome web page: Sorry to post too quickly before.  </s>
<s> Raph  </s>
<s> Hi,  </s>
<s> yes.  </s>
<s> The chain of EventListeners is determined _before_ the initial dispatch.  </s>
<s> i.e: your EventListener list is "cloned" at the beginning of the dispatch process.  </s>
<s> same.  </s>
<s> The ancestor listener won't be called in bubbling phase.  </s>
<s> Notice that in capturing phase it's the child listener that won't be called.  </s>
<s> It's the same.  </s>
<s> The first method is a generic one from Node and the second one has a convenient syntax for the attributes.  </s>
<s> Don't know.  </s>
<s> Your solution sounds good.  </s>
<s> In our implementation, we call Node::removeChild then Node::appendChild.  </s>
<s> The events are the ones posted by those 2 methods but I don't know if it's the solution.  </s>
<s> Thierry.  </s>
<s> Thierry Kormann Koala/Dyade/Bull @ INRIA - Sophia Antipolis  </s>
<s> Adding or removing a listener during processing of an event takes effect after all existing listeners of the node dispatching that event have been processed.  </s>
<s> This is true for all phases of dispatch.  </s>
<s> In this case the change would be seen, because the node dispatching B has not yet started processing the event.  </s>
<s> Historical, for compatability with "DOM Level 0".  </s>
<s> No functional difference.  </s>
<s> There are a few other redundancies in the DOM, for the same reason.  </s>
<s> All events corresponding to the changes being made to the document.  </s>
<s> The exact sequence of events is unspecified, since the exact sequence of operations performed by the normalize operation is unspecified.  </s>
<s> Joe Kesselman / IBM Research  </s>
<s> My implementation has the low level mutation code trigger the events, so the normalize() code doesn't do anything special.  </s>
<s> (It's just a convenience method over lower level code.) Since the DOM spec doesn't specify the order for these events, you could use that order or several others.  </s>
<s> - Dave  </s>
