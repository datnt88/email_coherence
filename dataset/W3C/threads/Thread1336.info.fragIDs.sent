<s> Lisa asked for a use case that motivated requiring that version URL's not be re-used (she suggests having a client that cares just use the etag).  </s>
<s> I believe that Boris has provided a reasonable use case here ... do people agree?  </s>
<s> Note that Lisa's objection was not based on implementation difficulty, but rather lack of motivation for the requirement.  </s>
<s> Another objection was that this requirement would cause the version URL's to become longer and more obscure.  </s>
<s> I personally would be unlikely to "type in" a version URL, but instead would just be "clicking" on one (as in Boris' example below), so the length/obscurity of the version URL matters much less to me than its reliability.  </s>
<s> Minimally we will say that a version URL SHOULD be unique, but when I wear my client-writer's hat, I find SHOULD's relatively worthless, and only care about MUST's.  </s>
<s> What do other folks think?  </s>
<s> Cheers, Geoff deltav-10.5 from Yaron Goland, Act Two)  </s>
<s> I'd never recommend to any client to stop using ETags for this purpose!  </s>
<s> Sounds dangerous.  </s>
<s> The client always ought to rely on the ETag to see if things have changed.  </s>
<s> Require clients to use ETag for what it was designed, and further, require clients to be able to deal with re-use of version URLs.  </s>
<s> It's good medicine.  </s>
<s> Now, my second line of defense for this is usability.  </s>
<s> Assuming somebody will want to put version links as URLs in web pages, or in emails, then it would be more usable to at least be able to construct short, possibly meaningful version URLs.  </s>
<s> The use of a GUID will preclude this.  </s>
<s> FWIW, here's what a Xythos Version URL for a real file looks like:  </s>
<s> ion=1 To me, this looks like a good example where in practice, a URL is all you can send to me.  </s>
<s> It's just not practical to send me the ETag as well, because there is no easy way for me to check it.  </s>
<s> I think I would prefer clicking on a URL such as 1ab6a2c400141e860000c0a80cc2 or ion=1&amp;etag=1fe4-69-39e7056c over checking the ETag myself.  </s>
<s> With reusable version URLs, users would need to know about ETags.  </s>
<s> Example: If you accidentally deleted advanced-status-reporting.htm and then re-created it, a URL which just says ?version=1 would link to the latest version of that document instead of the first version.  </s>
<s> -Boris.  </s>
<s> To clarify my position... I now understand Boris' use-case, but it applies equally to regular URLs.  </s>
<s> I'd like to treat version-URLs much like existing URLs. - You get a URL somehow - You GET the content behind the URL from the server.  </s>
<s> - If you've seen it before, you might have the ETag and know if it's different.  </s>
<s> - If you haven't seen it before, you won't have the ETag and can't tell.  </s>
<s> - If the target content was deleted and re-created with the same URL, that's life.  </s>
<s> Why do version URLs have to be different from existing URLs?  </s>
<s> Why are versions special in that clients have to know if the content has changed -- in a different way than is already used for regular URLs (ETags)?  </s>
<s> Let's not solve this problem in a different way!  </s>
<s> Since Boris' use-case applies to regular URLs equally well as to version URLs, AND since you can even consider it a feature that one can replace the content behind a static URL with new content, then a general solution would seem to be the answer.  </s>
<s> And I think the general solution is in hand.  </s>
<s> As with regular URLs, if a user intends for something to be the _same_ document, they use the same URL.  </s>
<s> Nothing stops users from replacing the content behind a URL.  </s>
<s> URLs are static even though the content behind them is dynamic; so if a document creator reused the same URL, when they can so easily use a different one, clearly they intended to reuse the same URL.  </s>
<s> lisa  </s>
<s> I'd never recommend to any client to stop using ETags for this purpose!  </s>
<s> Sounds dangerous.  </s>
<s> The client always ought to rely on the ETag to see if things have changed.  </s>
<s> Require clients to use ETag for what it was designed, and further, require clients to be able to deal with re-use of version URLs.  </s>
<s> It's good medicine.  </s>
<s> Now, my second line of defense for this is usability.  </s>
<s> Assuming somebody will want to put version links as URLs in web pages, or in emails, then it would be more usable to at least be able to construct short, possibly meaningful version URLs.  </s>
<s> The use of a GUID will preclude this.  </s>
<s> FWIW, here's what a Xythos Version URL for a real file looks like:  </s>
<s> g.htm?vers ion=1 To me, this looks like a good example where in practice, a URL is all you can send to me.  </s>
<s> It's just not practical to send me the ETag as well, because there is no easy way for me to check it.  </s>
<s> I think I would prefer clicking on a URL such as 1ab6a2c400141e860000c0a80cc2 or ion=1&amp;etag=1fe4-69-39e7056c over checking the ETag myself.  </s>
<s> With reusable version URLs, users would need to know about ETags.  </s>
<s> Example: If you accidentally deleted advanced-status-reporting.htm and then re-created it, a URL which just says ?version=1 would link to the latest version of that document instead of the first version.  </s>
<s> -Boris.  </s>
<s> The key thing that differentiates a version from a generic resource is that its purpose is to capture a particular state of a generic resource, and therefore it is immutable (unless a server explicitly adds an IsMutable attribute).  </s>
<s> This means that when you use a version URL, you are saying that you want to see a particular state of a particular resource.  </s>
<s> In other words, a version is not like any other resource, and so a version URL should not be treated like any other resource URL, but rather should reflect the semantics and purpose of the version resource.  </s>
<s> In particular, version URL's are used in several properties in the versioning protocol.  </s>
<s> They appear as the DAV:predecessor-set and DAV:successor-set of a version, and the DAV:version-set of a baseline and the DAV:version-set of an activity.  </s>
<s> In each of these cases, having that URL get rebound to something that does not reliably capture the appropriate state would violate the semantics of these properties.  </s>
<s> Now we could have special case rules such as "if a version URL appears in any DAV:predecessor-set or DAV:successor-set or DAV:version-set of any resource, then that version URL MUST NOT refer to anything other than that version", or even worse, we could require that each of these properties contain both a URL and an etag for every version, and force every client to check the validity of the URL, but it certainly would be friendlier to a client to have the server do the work (especially since nobody has argued that this is hard for a server to do).  </s>
<s> Cheers, Geoff From: "Lisa Dusseault" lisa@xythos.com  </s>
<s> I now understand Boris' use-case, but it applies equally to regular URLs.  </s>
<s> I'd like to treat version-URLs much like existing URLs. - You get a URL somehow - You GET the content behind the URL from the server.  </s>
<s> - If you've seen it before, you might have the ETag and know if it's different.  </s>
<s> - If you haven't seen it before, you won't have the ETag and can't tell.  </s>
<s> - If the target content was deleted and re-created with the same URL, that's life.  </s>
<s> Why do version URLs have to be different from existing URLs?  </s>
<s> Why are versions special in that clients have to know if the content has changed -- in a different way than is already used for regular URLs (ETags)?  </s>
<s> Let's not solve this problem in a different way!  </s>
<s> Since Boris' use-case applies to regular URLs equally well as to version URLs, AND since you can even consider it a feature that one can replace the content behind a static URL with new content, then a general solution would seem to be the answer.  </s>
<s> And I think the general solution is in hand.  </s>
<s> As with regular URLs, if a user intends for something to be the _same_ document, they use the same URL.  </s>
<s> Nothing stops users from replacing the content behind a URL.  </s>
<s> URLs are static even though the content behind them is dynamic; so if a document creator reused the same URL, when they can so easily use a different one, clearly they intended to reuse the same URL.  </s>
<s> lisa  </s>
<s> I'd never recommend to any client to stop using ETags for this purpose!  </s>
<s> Sounds dangerous.  </s>
<s> The client always ought to rely on the ETag to see if things have changed.  </s>
<s> Require clients to use ETag for what it was designed, and further, require clients to be able to deal with re-use of version URLs.  </s>
<s> It's good medicine.  </s>
<s> Now, my second line of defense for this is usability.  </s>
<s> Assuming somebody will want to put version links as URLs in web pages, or in emails, then it would be more usable to at least be able to construct short, possibly meaningful version URLs.  </s>
<s> The use of a GUID will preclude this.  </s>
<s> FWIW, here's what a Xythos Version URL for a real file looks like:  </s>
<s> g.htm?vers ion=1 To me, this looks like a good example where in practice, a URL is all you can send to me.  </s>
<s> It's just not practical to send me the ETag as well, because there is no easy way for me to check it.  </s>
<s> I think I would prefer clicking on a URL such as 1ab6a2c400141e860000c0a80cc2 or ion=1&amp;etag=1fe4-69-39e7056c over checking the ETag myself.  </s>
<s> With reusable version URLs, users would need to know about ETags.  </s>
<s> Example: If you accidentally deleted advanced-status-reporting.htm and then re-created it, a URL which just says ?version=1 would link to the latest version of that document instead of the first version.  </s>
<s> -Boris.  </s>
<s> Boris's use case is pretty convincing to me.  </s>
<s> [mailto:ietf-dav-versioning-request@w3.org]On  </s>
<s> Behalf Of Clemm, Geoff deltav-10.5 from Yaron Goland, Act Two) Lisa asked for a use case that motivated requiring that version URL's not be re-used (she suggests having a client that cares just use the etag).  </s>
<s> I believe that Boris has provided a reasonable use case here ... do people agree?  </s>
<s> Note that Lisa's objection was not based on implementation difficulty, but rather lack of motivation for the requirement.  </s>
<s> Another objection was that this requirement would cause the version URL's to become longer and more obscure.  </s>
<s> I personally would be unlikely to "type in" a version URL, but instead would just be "clicking" on one (as in Boris' example below), so the length/obscurity of the version URL matters much less to me than its reliability.  </s>
<s> Minimally we will say that a version URL SHOULD be unique, but when I wear my client-writer's hat, I find SHOULD's relatively worthless, and only care about MUST's.  </s>
<s> What do other folks think?  </s>
<s> Cheers, Geoff -----Original Message----- deltav-10.5 from Yaron Goland, Act Two)  </s>
<s> I'd never recommend to any client to stop using ETags for this purpose!  </s>
<s> Sounds dangerous.  </s>
<s> The client always ought to rely on the ETag to see if things have changed.  </s>
<s> Require clients to use ETag for what it was designed, and further, require clients to be able to deal with re-use of version URLs.  </s>
<s> It's good medicine.  </s>
<s> Now, my second line of defense for this is usability.  </s>
<s> Assuming somebody will want to put version links as URLs in web pages, or in emails, then it would be more usable to at least be able to construct short, possibly meaningful version URLs.  </s>
<s> The use of a GUID will preclude this.  </s>
<s> FWIW, here's what a Xythos Version URL for a real file looks like:  </s>
<s> ion=1 To me, this looks like a good example where in practice, a URL is all you can send to me.  </s>
<s> It's just not practical to send me the ETag as well, because there is no easy way for me to check it.  </s>
<s> I think I would prefer clicking on a URL such as 1ab6a2c400141e860000c0a80cc2 or ion=1&amp;etag=1fe4-69-39e7056c over checking the ETag myself.  </s>
<s> With reusable version URLs, users would need to know about ETags.  </s>
<s> Example: If you accidentally deleted advanced-status-reporting.htm and then re-created it, a URL which just says ?version=1 would link to the latest version of that document instead of the first version.  </s>
<s> -Boris.  </s>
