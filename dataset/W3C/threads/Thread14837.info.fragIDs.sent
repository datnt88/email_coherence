<s> Sorry Forgot the url last time: Section 2 Script Concepts - techniques and examples "Be aware that not all browsers support javascript, and some users may prefer to use their browser with javascript turned off.  </s>
<s> Many users will not be aware of the functionality that your use of javascript brings.  </s>
<s> " I think this needs to highlight more that even where javascript is nominally supported your exact functionality may not be, whilst a fully readable/accessible DOM is in theWAI User Agent conformance test, I don't think it's reasonable or practical to always believe there's one going to be available - Opera for example seem reluctant to provide one at this time, yet are very active in accessibility in other areas.  </s>
<s> 2.2 Keyboard &amp; mouse  </s>
<s> I'm concerned with the confusion and incompatibility this could bring, in the WAI User Agent guidelines, the onmouseover etc. events must be made available to keyboard users, therefore, if you duplicate focus and mouseover - you have the situation where users will see two actions, which could confuse, or equally cause scripting problems.  </s>
<s> I'm not sure of the result, but since it must have accessbile content where script is disabled see less of a problem with just choosing one of the event handlers.  </s>
<s> (there are also scripting quality issues with the example, this I'll address directly to the author.) 3.1 "Hiding whilst loading" I see no problems with the solution, whereby  </s>
<s> You have your normal site, stylesheets and everything, then using script you import another stylesheet/add a rule saying body { visibility:hidden; } then onload swap it.  </s>
<s> It only fails in the currently unknown, (and not very conceivable) situation where you can disable javascript between the page beginning to render and the onload event firing or where the body element is not available to script, yet you can import stylesheets.  </s>
<s> 7.1 - I don't see the censure over using document.write  </s>
<s> (which presumably excludes other dynamic content.) IE5.5 and JAWS AIUI certainly reads the content although this is more with created rather than updated - although updated content doesn't use document.write.  </s>
<s> Certainly document.write  </s>
<s> content is hidden from script disabled browsers, but that's often an advantage as it means you can hide the script enhancement easier from the browser than many other techniques.  </s>
<s> I think censure is over the top, "Do not use" is too explicit, even on something like the javascript: pseudo-protocol which is definately very often misused by a great many scripters and harms accessibility does concievably have uses without accessibility suffering.  </s>
<s> Well it's time for a run, so that's the end of Part 2...  </s>
<s> Jim.  </s>
<s> 3.1 You have your normal site, stylesheets and everything, then using script you import another stylesheet/add a rule saying body { visibility:hidden; } then onload swap it.  </s>
<s> Could you please point me to a working example with plenty of script and images?  </s>
<s> I've tried my best here: http://www.peepo.com/crap/argo2/  </s>
<s> and one always sees the 'normal site' before the javascript kicks in the code may well be less than optimal.  </s>
<s> jonathan chetwynd IT teacher (LDD) j.chetwynd@btinternet.com  </s>
<s> on the web"  </s>
<s> 1 Accessibility may not be This: Be aware that not all browsers support javascript, and some users may prefer to use their browser with javascript turned off.  </s>
<s> Many users will not be aware of the functionality that your use of javascript brings.  </s>
<s> as been changed to: Be aware that: -Not all browsers support javascript -Some users may prefer to use their browser with javascript turned off -Many users will not be aware of the functionality that your use of javascript brings -Not all javascript enabled browsers implement the complete ecma262script and w3c standards.  </s>
<s> This can mean that your functionality is browser dependent.  </s>
<s> jonathan chetwynd IT teacher (LDD) j.chetwynd@btinternet.com  </s>
<s> on the web"  </s>
<s> Minor note - Javascript isn't a W3C thing, and it could seem from this that  </s>
<s> it is.  </s>
<s> I gu  </s>
<s> 1 Accessibility may not be This: Be aware that not all browsers support javascript, and some users may prefer to use their browser with javascript turned off.  </s>
<s> Many users will not be aware of the functionality that your use of javascript brings.  </s>
<s> as been changed to: Be aware that: -Not all browsers support javascript -Some users may prefer to use their browser with javascript turned off -Many users will not be aware of the functionality that your use of javascript brings -Not all javascript enabled browsers implement the complete ecma262script and w3c standards.  </s>
<s> This can mean that your functionality is browser dependent.  </s>
<s> jonathan chetwynd IT teacher (LDD) j.chetwynd@btinternet.com  </s>
<s> on the web"  </s>
<s> Location: 21 Mitchell street FOOTSCRAY Vic 3011, Australia (or W3C INRIA, Route des Lucioles, BP 93, 06902 Sophia Antipolis Cedex, France)  </s>
<s> that  </s>
<s> I gu? Indeed script is not a javascript thing, however ECMAScript bindings to the DOM are, and the DOM is, the document is more refering to issues of using the DOM (which is not an ECMAScript thing, and wholly the remit of the W3C) If you're suggesting that the examples should contain the ever popular TCL script, then I think that would be nothing but an irrelevance which would do a strong disservice to the aims of accessibilty, by making the document inaccessible to the majority of web developers.  </s>
<s> Jim.  </s>
<s> Pressed the send key early I gu ...ess.  </s>
<s> Javascript/ECMAscript aren't at all defined by W3C, but ass you point out DOM is.  </s>
<s> I was going to make the fairly nitpicky suggestion that this could be clarified a bit - I am happy to propose something in a while when I do a real review.  </s>
<s> Charles  </s>
<s> that  </s>
<s> I gu? Indeed script is not a javascript thing, however ECMAScript bindings to the DOM are, and the DOM is, the document is more refering to issues of using the DOM (which is not an ECMAScript thing, and wholly the remit of the W3C) If you're suggesting that the examples should contain the ever popular TCL script, then I think that would be nothing but an irrelevance which would do a strong disservice to the aims of accessibilty, by making the document inaccessible to the majority of web developers.  </s>
<s> Jim.  </s>
<s> Location: 21 Mitchell street FOOTSCRAY Vic 3011, Australia (or W3C INRIA, Route des Lucioles, BP 93, 06902 Sophia Antipolis Cedex, France)  </s>
<s> Should authors use scripts to capture events and create device independent code, or will this interfere and duplicate UA guidelines?  </s>
<s> Is there a problem  </s>
<s> here?  </s>
<s> replies will be used in the following document: Script Techniques for Web Content Accessibility Guidelines 2.0  </s>
<s> this is currently a non-wcag draft  </s>
<s> Jim lye wrote to GL:  </s>
<s> ....I'm concerned with the confusion and incompatibility this could bring, in the WAI User Agent guidelines, the onmouseover etc. events must be made available to keyboard users, therefore, if you duplicate focus and mouseover - you have the situation where users will see two actions, which could confuse, or equally cause scripting problems.  </s>
<s> Please excuse cross posting I've not had a response yet from GL. and thanks.  </s>
<s> jonathan chetwynd IT teacher (LDD) j.chetwynd@btinternet.com  </s>
<s> on the web"  </s>
<s> I don't believe there's a conflict here, but I will have to think  </s>
<s> about it more.  </s>
<s> In the "default" mode, focus and mouse events are conventionally independent, so the author's redundancy shouldn't pose a problem.  </s>
<s> In the enhanced mode required by the UAAG 1.0 -- keyboard access even to mouse handlers -- nothing suggests that an implementation would necessarily trigger a handler twice unless on explicit user request.  </s>
<s> - Ian  </s>
<s> Ian Jacobs (ij@w3.org)  </s>
<s> http://www.w3.org/People/Jacobs  </s>
<s> There is a problem, if it is done in the obvious way.  </s>
<s> Having the author set an onClick and an onFocus that lead to the same script, if it shows up as two entries in the context-adapted "what can I do?" menu, is a real performance degrader.  </s>
<s> Compare with the sequence of an icon and a text link that do exactly the same  </s>
<s> thing.  </s>
<s> The narrowband display [including speech] user really needs these examples to be one item, not multiple.  </s>
<s> All this means is that we need a coordinated suite of techniques, end to end.  </s>
<s> Not that either approach is wrong or absent.  </s>
<s> We do need redundancy in the content and we do need it recognizable per the format so that the UA can handle it appropriately, as for example folding two screen regions into one active entity in the model before rendering it in speech.  </s>
<s> Al  </s>
<s> problem  </s>
<s> http://www.learningdifficulty.org/develop/w3c-scripts.html#onfocus http://w ww.learningdifficulty.org/develop/w3c-scripts.html#onfocus  </s>
<s> the best picture directory  </s>
<s> http://www.w3.org/People/Jacobs http://www.w3.org/People/Jacobs  </s>
<s> As I originally thought, but obviously didn't explain well.  </s>
<s> onMouseOver and an onFocus are more likely, click isn't defined only for a pointing device is it?  </s>
<s> If they are identical scripts handlers for the two events point to the same function, then a UA could collapse them to one, the same as  </s>
<s> collapsing icon and text links could be done, so the approach is possible,  </s>
<s> it needs to be mentioned in the specifications.  </s>
<s> Jim.  </s>
<s> Right.  </s>
<s> I wuld expect onfocus and onmouseover to be used analagously, and it is true that a user agent can quite easily collapse the two as required.  </s>
<s> onclick is only triggered with a mouse (big bug in my opinion) although there  </s>
<s> is an onactivate in DOM 2 and in SVG and SMIL 2 which is designed to be  </s>
<s> triggered by click, double-click, keyboard activation, or whatever is appropriate for the user interface in question.  </s>
<s> Cheers Charles  </s>
<s> As I originally thought, but obviously didn't explain well.  </s>
<s> onMouseOver and an onFocus are more likely, click isn't defined only for a pointing device is it?  </s>
<s> If they are identical scripts handlers for the two events point to the same function, then a UA could collapse them to one, the same as  </s>
<s> collapsing icon and text links could be done, so the approach is possible,  </s>
<s> it needs to be mentioned in the specifications.  </s>
<s> Jim.  </s>
<s> Location: 21 Mitchell street FOOTSCRAY Vic 3011, Australia (or W3C INRIA, Route des Lucioles, BP 93, 06902 Sophia Antipolis Cedex, France)  </s>
<s> An example that may be worth considering is:  </s>
<s> example of an accessible menu.  </s>
<s> Using jaws 3.31 there is a very significant amount of repeated expressions.  </s>
<s> jonathan chetwynd IT teacher (LDD) j.chetwynd@btinternet.com on the web"  </s>
<s> Should one name should be enough for those cases where duplication is not  </s>
<s> desirable?  </s>
<s> It seems that if one wishes onmouseover and onfocus to point to the same  </s>
<s> function, and one wishes to find out the name of the object which has focus,  </s>
<s> (for a linked image) one needs a name in the 'a' tag for onfocus, and a separate name in the 'img' tag for onmouseover.  </s>
<s> Whilst one can see the reason for being able to name each object this does lead to confusion, and will make it hard to maintain code.  </s>
<s> Should one name be enough (for those cases where duplication is not desirable.)  </s>
<s> snippet to demonstrate issue: http://www.peepo.com/crap/argo2/query.html  </s>
<s> I've constructed a drag and drop via tabkey (and arrow keys), or mouse page, the results are here: Please accept my apologies if this seems a minor issue, it has caused me considerable trouble.  </s>
<s> tx jonathan chetwynd IT teacher (LDD) j.chetwynd@btinternet.com on the web"  </s>
<s> not  </s>
<s> One name is enough, it's all about how you script, I see no accessibility issues, and certainly don't see anything bad with your demonstration, In fact, I'm somewhat confused what you're asking, you don't mouseover the A element, you mouseover the IMG element, if you place the onfocus event in the IMG rather than the A (you'll need to add a tabindex in IE for this.) then you'll get tab and onmouseover to be the same element.  </s>
<s> This is not surprising.  </s>
<s> same  </s>
<s> focus,  </s>
<s> Not at all, you just use a more efficient script solution.  </s>
<s> It already is, This is a scripting problem and not a standards/accessibility problem, IMG and A are different elements, events firing on those elements must be able to differentiate between the two.  </s>
<s> Jim.  </s>
<s> possible  </s>
<s> As an example of scripting it fails badly, it's not "accessible" to numerous browsers, due it's poor method of "browser detection", I can't see how you could possibly use it as an example of a script, however accessible it is.  </s>
<s> Jim.  </s>
<s> there  </s>
<s> However, both Mozilla and IE have implemented it firing with a keyboard enter on the focused element, Opera 5 doesn't, it should be encouraged to, as you say a big bug, there's no DOM2 way of detecting a navigate on a click for example - other than specifically intercepting keyboard and click links.  </s>
<s> I've not looked at other browsers, but I believe Konquerer is the only other relevant browser to implement much in DOM2 and ISTR that does, but don't have it to hand to check.  </s>
<s> OnActivate is also, where implemented, not implemented as a substitute for onfocus in any case.  </s>
<s> Jim.  </s>
<s> Could 'event syntax' be standardised?  </s>
<s> Not only what is, but what might be.  </s>
<s> A tabindex requirement, effectively involves naming again, and is non-standard.  </s>
<s> event.srcElement.firstChild is much nicer(txJL), but still retains a touch  </s>
<s> of the lamp.  </s>
<s> If no 'a' name is given, then could the 'img' name apply automatically.  </s>
<s> More properly does it seem rational that each event should be treated in a  </s>
<s> similar way?  </s>
<s> ie document.onfocus?  </s>
<s> thanks again Jim,  </s>
<s> sorry if I seem to be thrashing around.  </s>
<s> jonathan chetwynd IT teacher (LDD) j.chetwynd@btinternet.com on the web"  </s>
<s> offline, as a  </s>
<s> AG:: not surprising.  </s>
<s> I never read the script.  </s>
<s> What I liked about this example is the fact that the information that is presented in the flyout submenus that depend on running the scripts is still available in the destination pages if you turn scripting off and just follow hyperlinks.  </s>
<s> That is the characteristic of this page that I found meritorious.  </s>
<s> If there is a better way to script it, do let's find an example of it done the better way.  </s>
<s> Al  </s>
<s> touch  </s>
<s> IMG shouldn't have a name attribute IMO, the decision of the W3 to include it, pretty much destroyed a lot of respect I had for the organisations ability to deliver rational recommendations in the HTML/DOM area.  </s>
<s> It was added (in 4.01) purely to make existing scripts validate and work in Netscape 4 - there is no other reason, and purely introduces complexity and confusion of the nature you're having.  </s>
<s> There's no reason to use name, ID is a much more appropriate attribute to use, but that doesn't directly solve your problem.  </s>
<s> an A, and it's child elements must be distinguishable.  </s>
<s> Your endeavouring to provide the same result after a keyboard focus and a mouseover, I can understand why you see this as valuable, but it's not necessarily the only option - and attempting to solve your problem in the user agent is not warranted, you say the firstChild solution is a "touch of the lamp" but it's safe.  </s>
<s> in a  </s>
<s> These aren't DOM recommendations in any case are they?  </s>
<s> In any case focus  </s>
<s> doesn't bubble, rightly so, since whilst you can mouseover more than one element, only one element can have focus at any one time.  </s>
<s> Jim.  </s>
<s> AG:: Charles is the point of accumulation on the DOM recommendations.  </s>
<s> But there is room for reform in the general area of a 'views' model.  </s>
<s> Compare with Agenda formulation input Re: **ACE-grid** Reminder http://www-unix.gridforum.org/mail_archive/ace-grid/msg00026.html http:// www-unix.gridforum.org/mail_archive/ace-grid/msg00026.html  </s>
<s> Al  </s>
