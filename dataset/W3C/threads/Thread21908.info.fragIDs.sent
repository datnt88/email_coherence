<s> Would it be a good idea to combine multiple tests into one class, instead of  </s>
<s> using a separate class for each test?  </s>
<s> This would reduce the huge number of  </s>
<s> classes that are generated at the moment, making the test suite more manageable and improving performance as well.  </s>
<s> The original NIST test suite  </s>
<s> has 15 classes (one for each interface), which is a lot easier than the 250+  </s>
<s> classes we have now.  </s>
<s> In tests characterdataappenddatanomodificationallowederr.xml,  </s>
<s> characterdatadeletedatanomodificationallowederr.xml, characterdatainsertdatanomodificationallowederr.xml, and characterdatareplacedatanomodificationallowederr.xml the tagname in the  </s>
<s> following statement should probably be "gender": getElementsByTagName interface="Document" obj="doc"  </s>
<s> For tests characterdataappenddatanomodificationallowederr.xml, characterdatadeletedatanomodificationallowederr.xml, characterdatainsertdatanomodificationallowederr.xml, characterdatareplacedatanomodificationallowederr.xml, and characterdatasetdatanomodificationallowederr.xml the comment tells that the  </s>
<s> third gender element should contain an entity reference, but this is not the case in the older version of the staff.xml  </s>
<s> document.  </s>
<s> In documentcreateentityreferenceknown.xml, the type of newEntRefNode should  </s>
<s> probably be EntityReference (instead of Element):  </s>
<s> Several tests seem to test equivalence of two lists where one list contains  </s>
<s> a String and the other contains an Integer.  </s>
<s> Some tests also try to assert null values of nodes with a String value of "null" in a list, maybe it's better to use assertNull.  </s>
<s> Since I don't have access to the cvs server (but who has ;-), could somebody fix these issues?  </s>
<s> - Test characterdatadeletedatagetlengthanddata.xml (fixed String/Integer, removed lists): getElementsByTagName interface="Document" obj="doc" assertEquals actual="childData" expected="1230 North Ave.  </s>
<s> Dallas, ignoreCase="false"/ assertEquals actual="childLength" expected="30" - Test documentcreateattribute.xml (fixed String/Integer, removed lists): ignoreCase="false"/ assertEquals actual="attrName" expected="district" - Test documentcreatecomment.xml  </s>
<s> (fixed String/Integer, removed lists): createComment obj="doc" var="newCommentNode" data="This is a new Comment node"/ assertEquals actual="newCommentValue" expected="This is a new Comment assertEquals actual="newCommentName" expected="#comment" - Test documentcreatedocumentfragment (fixed String/Integer, assertNull for nodeValue, removed lists): assertEquals actual="newDocFragmentName" - Test documentcreateelement (fixed String/Integer, assertNull for nodeValue, removed lists): assertEquals actual="newElementName" expected="address" - Test documentcreateentityreference (fixed String/Integer, assertNull for nodeValue, removed lists): createEntityReference obj="doc" var="newEntRefNode" ignoreCase="false"/ - Test documentcreateprocessinginstruction (fixed String/Integer, removed lists): createProcessingInstruction obj="doc" var="newPINode" target="XML" data="This is a new PI node"/ assertEquals actual="piValue" expected="This is a new PI node" ignoreCase="false"/ - Test documentcreatetextnode (fixed String/Integer, removed lists): createTextNode obj="doc" var="newTextNode" data="This is a new Text node"/ assertEquals actual="newTextValue" expected="This is a new Text assertEquals actual="newTextName" expected="#text" Freek  </s>
<s> of using a  </s>
<s> that are  </s>
<s> generated at the moment, making the test suite more manageable and  </s>
<s> improving  </s>
<s> have now.  </s>
<s> I think that we want to maintain the definition of one test == one XML document since that gives us a revision history of each test instead of a revision history of all tests for a particular interface.  </s>
<s> In addition, hopefully we will have tests from different sources and trying to have different authors working in the same file is just not a pleasant thing.  </s>
<s> The one test == one Java file/class flows out of that since it is most natural to do a case by case conversion using XSLT.  </s>
<s> If it class bloat is  </s>
<s> really a significant issue, we could address it.  </s>
<s> But I can't see performance being a crucial factor in running the suite as long as a run is less than a few seconds.  </s>
<s> following statement  should probably be "gender": Did a global change of "geneder" to "gender"  </s>
<s> third gender  element should contain an entity reference, but this is not the case in the older version of the  staff.xml  </s>
<s> document.  </s>
<s> I held off on this one till we can get a clarification about the resource files from NIST.  </s>
<s> probably be  EntityReference (instead of Element): Changed  </s>
<s> a String and the other  contains an Integer.  </s>
<s> Some tests also try to assert null values of nodes with a String value of  "null" in a list, maybe it's better to use assertNull.  </s>
<s> Since I don't have access to the cvs server  </s>
<s> (but who has ;-), could somebody fix these issues?  </s>
<s> Changed those you mentioned plus one more (nodeclonenodefalse).  </s>
<s> I did take some editoral liberty with documentcreateprocessinginstruction.  </s>
<s> There was a discussion on the www-dom-ts mailing list much earlier inappropriateness of testing createProcessingInstruction with a target ("XML") that is an illegal value per the XML spec.  </s>
<s> I have changed the target to an innocuous value "TESTPI".  </s>
<s> Most DOM implementations will create a PI with an "XML" target, but MSXML will reasonably raise an exception.  </s>
<s> Joe Kesselman's suggestion (http://lists.w3.org/Archives/Public/www-dom-ts/2001Apr/0020.html ) was to change the target and but not to add a negative test for an "XML" target until the Level 3 effort where the appropriate behavior will be prescribed.  </s>
<s> Many-to-one isn't all that much harder, using XSLT's document() function.  </s>
<s> You'd want a top-level document which said which tests were to be built  </s>
<s> into each class, but that's easy enough.  </s>
<s> I have no opinion right now re which approach is better.  </s>
<s> This may depend on what the surrounding test framework looks like, and what your plans are for releasing deltas as the tests improve.  </s>
<s> Some compilers, in some languages, have trouble with long symbol names, even when the language permits them.  </s>
<s> I've seen some which simply ignore any  </s>
<s> characters beyond the first (or last) 32.  </s>
<s> We may want to consider adopting a set of standard abbreviations to avoid that risk.  </s>
<s> " chardataappendnomoderr" would cut the length by about 50%, though I grant that it's less readable for a novice.  </s>
<s> (Of course, readability of those names is rather marginal anyway.  </s>
<s> I presume  </s>
<s> people have already considered camelCasedNames...?)  </s>
<s> Joe Kesselman / IBM Research  </s>
<s> But I've definitely followed the path of least resistance.  </s>
<s> Obviously, I would avoid lots of tiny classes in an generic Java application, but I like the current one test- one class approach from an production and organizational perspective.  </s>
<s> Currently, in the ECMAScript transform, I'm creating one .js  </s>
<s> file per test.  </s>
<s> I know that that would not be tolerable for deployment, so will look at some means to combine them all at the end.  </s>
<s> It's not that it couldn't be done, but I'm not convinced that it would be beneficial in the long term and it is not beneficial in the very short term.  </s>
<s> any  </s>
<s> presume  </s>
<s> Unfortunately, I had to lose the camel case names that were in the test  </s>
<s> definitions since the .ZIP  </s>
<s> file names were all lower case.  </s>
<s> I've only had  </s>
<s> nightmares trying the change the capitalization of filenames once they were  </s>
<s> in CVS (note the screwy capitalization in the source for domunit).  </s>
<s> I don't think it is essential that we try to summarize the case in the file name, we should have enough test matrixes and other navigational tools that  </s>
<s> test names can be more generic, like "characterdataappendnode3".  </s>
<s> So for future tests, I'd try to avoid the huge names.  </s>
<s> I definitely got tired typing "textsplittextnomodificationallowederr.xml" from the command line, though I have now committed it to muscle memory.  </s>
<s> On another style point, the id's on asserts within a test could also be shorter.  </s>
<s> It is only necessary that they uniquely identify the assert within the test, so that if a test fails, you know which assert failed and so that we can associate metadata with an arbitrary assert.  </s>
<s> I would recommend something short, for example, "value", "type" or "throw".  </s>
<s> Adding a optional shortName atttibute on the test element would allow us  </s>
<s> to specify a shorter name if the monster names cause problems in code production.  </s>
<s> were  </s>
<s> Actually wouldn't we prefer UpperCasedNames instead of camelCasesNames?  </s>
<s> If a CVS god can repair the file names (I can produce a list of the original intended names from the NIST zip file), I could readily get the content back in synch with the new file names.  </s>
<s> However, from my limited experience with CVS, trying to work with files that only differ in case is prone to catastrophy.  </s>
<s> I think the only approach that would work is renaming  </s>
<s> the repository files.  </s>
<s> I would recommend that Mary try to preserve the capitalization on their DOM  </s>
<s> L2 submission or we can fix it up before committing it to the CVS.  </s>
<s> I only realized the problem once I got to the java compile process which occurred after the files were in the CVS and a substantial amount of changes to the test sources had occurred.  </s>
<s> Agreed.  </s>
<s> The XSLT test suite we're using in Xalan uses names like "namespace05", and trusts that people will look at the testcase and/or other documentation to find out what it actually tests...  </s>
<s> Interesting approach.  </s>
<s> name Joe Kesselman / IBM Research  </s>
<s> Yes, I think this may be a result of running samba in a unix-w2000 environment where file systems are shared.  </s>
<s> I think the default may be lowercase when going between systems... --Mary  </s>
<s> had  </s>
<s> renaming  </s>
<s> DOM  </s>
