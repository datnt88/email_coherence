<s> Hi Folks, I'm running into something that I could use some help with.  </s>
<s> I'm trying to rename a collection and am receiving a 502 Bad Gateway.  </s>
<s> It appears that if I use the hostname in the Destination header, ie, webfolders.mydocsonline.com:80, then all goes well.  </s>
<s> However, if I resolve it to its IP address and use that instead, 38.144.45.187:80, then the command fails.  </s>
<s> Oh, the collection is empty in case that matters.  </s>
<s> Should the hostname and IP address be interchangable, or am I required to always use the hostname as part of the Destination header.  </s>
<s> Below are copies of the working and non-working MOVE request.  </s>
<s> Thanks in advance!  </s>
<s> Michael This fails: Using an IP address as the 'Destination:' Renaming "/New Folder" to "/asdf" Connecting to Host: 38.144.45.187 on Port 80 ==================== HTTP 'MOVE' REQUEST =============== MOVE /New%20Folder HTTP/1.1 Host: 38.144.45.187 User-Agent: SRT.WebIFS.Engine/1.0  </s>
<s> Authorization: Basic abcdefghijklmnop= Accept-Language: en-us Overwrite: F Destination: http://38.144.45.187:80/asdf Content-Length: 0 =============== HTTP 'MOVE' REQUEST =============== =============== HTTP Response Header =============== HTTP/1.1 502 Bad Gateway Date: Mon, 25 Jun 2001 15:09:11 GMT Server: Apache/1.3.12 (Win32) DAV/0.9-MyDocs GMT Transfer-Encoding: chunked Content-Type: text/html =============== HTTP Response Header =============== This works: using the URL as the 'Destionation:' Renaming "/New Folder" to "/asdf" Connecting to Host: 38.144.45.187 on Port 80 ==================== HTTP 'MOVE' REQUEST =============== MOVE /New%20Folder HTTP/1.1 Host: webfolders.mydocsonline.com  </s>
<s> User-Agent: SRT.WebIFS.Engine/1.0  </s>
<s> Authorization: Basic abcdefghijklmnop= Accept-Language: en-us Overwrite: F Destination: http://webfolders.mydocsonline.com:80/asdf  </s>
<s> Content-Length: 0 =============== HTTP 'MOVE' REQUEST =============== =============== HTTP Response Header =============== HTTP/1.1 201 Created Date: Mon, 25 Jun 2001 15:17:41 GMT Server: Apache/1.3.12 (Win32) DAV/0.9-MyDocs GMT Transfer-Encoding: chunked Content-Type: text/html =============== HTTP Response Header ===============  </s>
<s> The host name and the IP address are not guaranteed to be interchangeable.  </s>
<s> As Keith implied, in the Xythos implementation we only treat the host name and IP address as identical if the administrator sets them up this way.  </s>
<s> lisa  </s>
<s> Hi,  </s>
<s> You should be using the hostname if you know it.  </s>
<s> If your client is given a hostname, then resolves it to the IP address, and uses that IP address the Host header, that defeats the whole point of having the Host header in the first place: name-based virtual hosting.  </s>
<s> Consider that a serious client bug.  </s>
<s> :) If your client is only told the IP address by the user, then I think you're stuck, unless you do a reverse DNS lookup, which might not be a good idea anyway.  </s>
<s> Apache/mod_dav won't like an IP address in the Destination header in the default configuration[*], and MOVE/COPY will return 502.  </s>
<s> Regards, joe [*] though it can be configured to know the IP address with the ServerAlias directive  </s>
