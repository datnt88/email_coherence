As far as I can remember the ERB has initially decided to change the syntax for comments to --* ..... *-- (posted to the XML-WG : Wed, 15 Jan) But the torture.xml 
file of cmsmcq uses !--* .. *-- also during the discussion about the appropriate regexp people used both alternatives. 
What is the current state of things ? 
I share Norbert's concern about uncertainties in the XML draft and feel that 
a number of us are 'stalled' at present due to one or more uncertainties in the spec. 
(It may be that these are simple misconceptions, but they need tidying up.). 
We agree that the mythical grad student can hack a parser in the 
mythical two weeks, but only if they have a clear spec to write to. 
[My own position is that I want to extend JUMBO to read any WF XML file and intend to do this on top of another parser, and I'd like to do this before WWW6 - otherwise it can't be said to be an 'XML browser/editor'.] 
My understanding is that the productions (1-77) are consistent and can be used as the basis of a yacc-like approach (as NXP does, using JACC). 
So the first question is [see Norbert's query]: (a) are we agreed that (1-77) in WD-xml-961114 are the current version and that none are under revision at present? 
(Until Norbert's question I had assumed that [21] (Comments) was correct). 
(b) some parsing operations (e.g. entity replacement) are not described in the BNF and are sufficiently complex or insufficiently documented to give serious problems in implementation. 
It would be valuable for these to be listed and the operations clearly defined (e.g. are comments processed before entity replacement? 
are nested entities allowed? 
etc.) 
(c) some ancillary constructs (e.g. CATALOG) are widely held to be part of XML (or likely to be part of XML). 
They are probably not too difficult to implement if certain processes (e.g. resolution of FPIs) are not exhaustively defined. 
IMO it is more important to resolve this asap, than other aspects of developing a parser. 
The worst possible thing to happen at this stage is that developers have sufficient uncertainty in the spec that there are different interpretations Against normal practice I have crossposted this to xml-dev. 
If the ERB feel this is mainly a matter of clarification, then a reply to xmp-dev would be adequate, but if (as I fear) some aspects of entity replacement are not universally agreed, then I think they need to be resolved here. 
P Peter Murray-Rust, domestic net connection Virtual School of Molecular Sciences 
For the record: us too. 
Our feeling is that, as Norbert suggests, once WWW6 hits, XML is de facto frozen because there will be more than just our little family doing implementations. 
As a result, Michael S-McQ and I, and the ERB, are plowing through all the issues like mad; Michael and I spent a half-day together Friday plowing through all the little syntax errors and style problems that people sent in; 
Murata Makoto is the best proof-reader of all, by the way. 
The right thing to do is pretty clear in almost all cases (except bloody horrible parameter entities) and right or wrong, we *must* have a solid spec 
by March 31... the decisions are almost certainly going to disappoint some of you, but at least we'll have the virtue of the thing being solid. 
- Tim 
On Fri, 21 Mar 1997 18:06:23 -0500 Peter Murray-Rust said: 
As far as I can remember the ERB has initially decided to change the syntax for comments to --* ..... *-- (posted to the XML-WG : Wed, 15 Jan) But the torture.xml 
file of cmsmcq uses !--* .. *-- 
The original posting of the decision did have the form --* ... *-- but it was a typo, corrected shortly thereafter. 
What is the current state of things ? 
Tim Bray and I are at work on a revised version of the draft spec which will include fixes for the reported errors and the changes so far agreed to, for the comment syntax (adding the asterisks) and white-space handling. 
grad student can hack a parser in the mythical two weeks, but only if they have a clear spec to write to. 
[My own position is that I want to 
Right now, the standard disclaimers pasted on all W3C working drafts remain appropriate: the draft is subject to change. 
If a given version of the draft is clear and consistent with itself, I think we're doing OK. 
If implementors want currency more than consistency and clarity, the decisions we've made have all been announced, and the logs of the WG are the place to find the decisions. 
They are the current version; the current version is always subject to revision. 
In fact, the only changes being made to the productions are: - correction of reported errors (missing *, missing S, etc.) - implementation of the comment-syntax decision, to prepare XML for use of comment open- and close-delimiters when SGML gets them - incorporation of more of the constraints on entity replacement 
into the grammar (in particular parameter entities) 
- simplification of some productions using regular-expression subtraction. 
(This is a notation Tim found in some orthodox CS treatment of regular expressions, so it's not just ad hockery: (A - B) defines the language which contains all the members of A except those which are also members of B. Comments can be defined as ' !--*' (Char* - (Char* '*-- ' Char*)) '*-- which is, in a slightly more formal way, almost exactly what Lee suggested long ago: anything can appear in a comment, but not the string '*-- '. 
Translation from this notation into that of a specific regular expression engine may require close attention to detail ... 
Since we'll add some things to the grammar to allow us to talk more directly about parameter entities and how they are expanded and where they are going to occur, I think we'll be able to say very explicitly when general entities are / may be / must be expanded. 
I don't think we should constrain the order of comment handling beyond what is logically implied by the constraints given in the section on logical and physical structure. 
Catalogs are not now part of XML. 
Whether they are likely to become part of XML is something every implementor must judge individually. 
I hope this helps. 
I see Tim has already replied, but I will send 
this anyway in case having the same message in a second formulation proves helpful. 
-C. 
M. Sperberg-McQueen 
[Thanks in advance to Tim and Mike for diggin in] 
Just the bloody horrible ones, or all of them? 
I have several outstanding questions on these, so it's rapidly becoming a FAQ (are they permitted in the identical manner to SGML or not). 
Anyone care to draft a para? 
///Peter 
This is extremely helpful and, taken in conjunction with Tim's earlier posting has covered everything that I raised, both in spirit and detail. 
We appreciate the very large amount of work that the ERB does 'under the waterline'. 
The speed of progress has been impressive. 
Peter Murray-Rust, domestic net connection Virtual School of Molecular Sciences 
