<s> As far as I can remember the ERB has initially decided to change the syntax for comments to --* ..... *-- (posted to the XML-WG : Wed, 15 Jan) But the torture.xml  </s>
<s> file of cmsmcq uses !--* .. *-- also during the discussion about the appropriate regexp people used both alternatives.  </s>
<s> What is the current state of things ?  </s>
<s> I share Norbert's concern about uncertainties in the XML draft and feel that  </s>
<s> a number of us are 'stalled' at present due to one or more uncertainties in the spec.  </s>
<s> (It may be that these are simple misconceptions, but they need tidying up.).  </s>
<s> We agree that the mythical grad student can hack a parser in the  </s>
<s> mythical two weeks, but only if they have a clear spec to write to.  </s>
<s> [My own position is that I want to extend JUMBO to read any WF XML file and intend to do this on top of another parser, and I'd like to do this before WWW6 - otherwise it can't be said to be an 'XML browser/editor'.]  </s>
<s> My understanding is that the productions (1-77) are consistent and can be used as the basis of a yacc-like approach (as NXP does, using JACC).  </s>
<s> So the first question is [see Norbert's query]: (a) are we agreed that (1-77) in WD-xml-961114 are the current version and that none are under revision at present?  </s>
<s> (Until Norbert's question I had assumed that [21] (Comments) was correct).  </s>
<s> (b) some parsing operations (e.g. entity replacement) are not described in the BNF and are sufficiently complex or insufficiently documented to give serious problems in implementation.  </s>
<s> It would be valuable for these to be listed and the operations clearly defined (e.g. are comments processed before entity replacement?  </s>
<s> are nested entities allowed?  </s>
<s> etc.)  </s>
<s> (c) some ancillary constructs (e.g. CATALOG) are widely held to be part of XML (or likely to be part of XML).  </s>
<s> They are probably not too difficult to implement if certain processes (e.g. resolution of FPIs) are not exhaustively defined.  </s>
<s> IMO it is more important to resolve this asap, than other aspects of developing a parser.  </s>
<s> The worst possible thing to happen at this stage is that developers have sufficient uncertainty in the spec that there are different interpretations Against normal practice I have crossposted this to xml-dev.  </s>
<s> If the ERB feel this is mainly a matter of clarification, then a reply to xmp-dev would be adequate, but if (as I fear) some aspects of entity replacement are not universally agreed, then I think they need to be resolved here.  </s>
<s> P Peter Murray-Rust, domestic net connection Virtual School of Molecular Sciences  </s>
<s> For the record: us too.  </s>
<s> Our feeling is that, as Norbert suggests, once WWW6 hits, XML is de facto frozen because there will be more than just our little family doing implementations.  </s>
<s> As a result, Michael S-McQ and I, and the ERB, are plowing through all the issues like mad; Michael and I spent a half-day together Friday plowing through all the little syntax errors and style problems that people sent in;  </s>
<s> Murata Makoto is the best proof-reader of all, by the way.  </s>
<s> The right thing to do is pretty clear in almost all cases (except bloody horrible parameter entities) and right or wrong, we *must* have a solid spec  </s>
<s> by March 31... the decisions are almost certainly going to disappoint some of you, but at least we'll have the virtue of the thing being solid.  </s>
<s> - Tim  </s>
<s> On Fri, 21 Mar 1997 18:06:23 -0500 Peter Murray-Rust said:  </s>
<s> As far as I can remember the ERB has initially decided to change the syntax for comments to --* ..... *-- (posted to the XML-WG : Wed, 15 Jan) But the torture.xml  </s>
<s> file of cmsmcq uses !--* .. *--  </s>
<s> The original posting of the decision did have the form --* ... *-- but it was a typo, corrected shortly thereafter.  </s>
<s> What is the current state of things ?  </s>
<s> Tim Bray and I are at work on a revised version of the draft spec which will include fixes for the reported errors and the changes so far agreed to, for the comment syntax (adding the asterisks) and white-space handling.  </s>
<s> grad student can hack a parser in the mythical two weeks, but only if they have a clear spec to write to.  </s>
<s> [My own position is that I want to  </s>
<s> Right now, the standard disclaimers pasted on all W3C working drafts remain appropriate: the draft is subject to change.  </s>
<s> If a given version of the draft is clear and consistent with itself, I think we're doing OK.  </s>
<s> If implementors want currency more than consistency and clarity, the decisions we've made have all been announced, and the logs of the WG are the place to find the decisions.  </s>
<s> They are the current version; the current version is always subject to revision.  </s>
<s> In fact, the only changes being made to the productions are: - correction of reported errors (missing *, missing S, etc.) - implementation of the comment-syntax decision, to prepare XML for use of comment open- and close-delimiters when SGML gets them - incorporation of more of the constraints on entity replacement  </s>
<s> into the grammar (in particular parameter entities)  </s>
<s> - simplification of some productions using regular-expression subtraction.  </s>
<s> (This is a notation Tim found in some orthodox CS treatment of regular expressions, so it's not just ad hockery: (A - B) defines the language which contains all the members of A except those which are also members of B. Comments can be defined as ' !--*' (Char* - (Char* '*-- ' Char*)) '*-- which is, in a slightly more formal way, almost exactly what Lee suggested long ago: anything can appear in a comment, but not the string '*-- '.  </s>
<s> Translation from this notation into that of a specific regular expression engine may require close attention to detail ...  </s>
<s> Since we'll add some things to the grammar to allow us to talk more directly about parameter entities and how they are expanded and where they are going to occur, I think we'll be able to say very explicitly when general entities are / may be / must be expanded.  </s>
<s> I don't think we should constrain the order of comment handling beyond what is logically implied by the constraints given in the section on logical and physical structure.  </s>
<s> Catalogs are not now part of XML.  </s>
<s> Whether they are likely to become part of XML is something every implementor must judge individually.  </s>
<s> I hope this helps.  </s>
<s> I see Tim has already replied, but I will send  </s>
<s> this anyway in case having the same message in a second formulation proves helpful.  </s>
<s> -C.  </s>
<s> M. Sperberg-McQueen  </s>
<s> [Thanks in advance to Tim and Mike for diggin in]  </s>
<s> Just the bloody horrible ones, or all of them?  </s>
<s> I have several outstanding questions on these, so it's rapidly becoming a FAQ (are they permitted in the identical manner to SGML or not).  </s>
<s> Anyone care to draft a para?  </s>
<s> ///Peter  </s>
<s> This is extremely helpful and, taken in conjunction with Tim's earlier posting has covered everything that I raised, both in spirit and detail.  </s>
<s> We appreciate the very large amount of work that the ERB does 'under the waterline'.  </s>
<s> The speed of progress has been impressive.  </s>
<s> Peter Murray-Rust, domestic net connection Virtual School of Molecular Sciences  </s>
