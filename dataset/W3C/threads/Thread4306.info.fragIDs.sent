<s> I think there is a need for "human-readable" serialization, which does not necessarily have to be reversible.  </s>
<s> I agree that products will want to produce such output, but does it have to  </s>
<s> be standardized?  </s>
<s> If it's only for humans to read, and not for software to read, why do we need to specify its format?  </s>
<s> And if it's for humans to read, wouldn't one want to produce something  </s>
<s> richer than a string of ASCII characters?  </s>
<s> Michael Kay Consider  </s>
<s> exploratory entering query expressions to a processor, and getting a serialized result back.  </s>
<s> If I type: 1 to 5 I might expect: 1 2 3 4 5 or: 1 2 3 4 5 but I would not want or expect: res:atomic type="xs:integer" value="1"/ res:atomic type="xs:integer" value="2"/ res:atomic type="xs:integer" value="3"/ res:atomic type="xs:integer" value="4"/ res:atomic type="xs:integer" value="5"/ I might want type annotations: 1 : xs:integer 2 : xs:integer 3 : xs:integer 4 : xs:integer 5 : xs:integer or: (1, 2, 3, 4, 5) : xs:integer* but only if it is optional.  </s>
<s> Similarly, emitting an xs:string with quotes makes it easier to see what is going on and to read it back in again.  </s>
<s> However, emitting it without quotes allows the programming to construct arbitrary formatted output.  </s>
<s> For example: "The sum is: ", sum($vals), ".&amp;nl;" (Aside: a "new-line" predefined entity would be very useful.) There is also a need for an "interoperable" serialization, which might give the result using special elements as Michael Kay suggests.  </s>
<s> But that is a separate goal.  </s>
<s> The Lisp world has long distinguished "readable" output, where (for example) string and symbols are emitted with quotes, so the output is a valid "S-expression" that can be read back in again, vs "display" or "non-readable" output which is used for output meant to be read by a human, and if you want quotes you have to write them explicitly.  </s>
<s> --Per Bothner per@bothner.com  </s>
<s> http://per.bothner.com/  </s>
<s> I think there is a need for "human-readable" serialization, which does not necessarily have to be reversible.  </s>
<s> Because someone might want to (say) generate a report or a file  </s>
<s> as a text (non-html) file, and it is useful to have a standard for this.  </s>
<s> E.g. given some numbers, I might want to produce a "report" like:  </s>
<s> The max is 99 and the min is 5.  </s>
<s> A user expect to be able to write: "The max is ",max($vals)," and the min is ",min($vals),"."  </s>
<s> or: concat("The max is ",max($vals)," and the min is ",min($vals),".")  </s>
<s> depending on what the standard specifies wrt to whitespace.  </s>
<s> But it is useful for the standard to specify a specific result so I know what output to expect for a given program.  </s>
<s> True most of the time.  </s>
<s> But sometimes one wants to be able to generate simple non-HTML output.  </s>
<s> I think this is a useful feature, and I think people will expect portable results.  </s>
<s> Perhaps the "text output model" sufficies for these applications - but unfortunately there appears to be no standard way to set serialization parameters in an XQuery program, like you can for XSLT.  </s>
<s> Also, it seems  </s>
<s> less intuitive to have to write: only to want the result /result to disappear.  </s>
<s> --Per Bothner per@bothner.com  </s>
<s> http://per.bothner.com/  </s>
<s> I think there is a need for "human-readable" serialization,  </s>
<s> But you can do this (as you do in XSLT) by producing a single document node as the result of your query, and serializing it using the text output method.  </s>
<s> Your second example produced a string as the result of a query, and I think it's likely that most products would provide a way of serializing a string without us needing to write a spec for it.  </s>
<s> Michael Kay  </s>
<s> From an XQuery point of view, I agree with Per.  </s>
<s> There is also the question of closure for many systems.  </s>
<s> If the XML Data model producer recognizes a text node as input and is a normal XML fragment parser, I find it not acceptable to standardize the more complex requirement that your data model producer needs to be able to understand specialized markup.  </s>
<s> Best regards Michael  </s>
<s> From: public-qt-comments-request@w3.org [mailto:public-qt-comments- request@w3.org]  </s>
<s> On Behalf Of Per Bothner Sent: Wednesday, December 03, 2003 12:05 AM Subject: Re: [XQuery] SAG-XQ-005 Serializing Arbitrary Sequences  </s>
<s> I think there is a need for "human-readable" serialization, which does not necessarily have to be reversible.  </s>
<s> have  </s>
<s> this.  </s>
<s> something  </s>
<s> seems  </s>
<s> {min($vals)}.  </s>
<s> /result  </s>
