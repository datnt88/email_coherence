From: Julian Reschke [mailto:julian.reschke@greenbytes.de] ... the binding draft borrows it's error handling from RFC3253, but it's Overwrite header handling from RFC2518 -- but a server can't do both. 
An RFC2518 compliant server would return a 412 (Precondition failed), an RFC3253 compliant server would return 403/409 with DAV:error/DAV:can-overwrite. 
This isn't a severe problem, but it's annyoing. 
I think a possible way out of this dilemma is to extend the RFC3253 rules by saying that the DAV:error response may also be used for HTTP status 412 (por possibly more or all error codes). 
We could then have the BIND-enhanced server return HTTP/1.1 412 Precondition Failed Content-Length: xxxx At least for our client this would make it much easier to continue to have a *generic* method of mapping responses to Java exceptions. 
[1] http://greenbytes.de/tech/webdav/rfc2518.html#HEADER_Overwrite [2] http://greenbytes.de/tech/webdav/rfc3253.html#rfc.section.1.6 I'd be happy to allow error codes for 412, or to use a DAV:overwrite tag in the BIND request body, instead of the Overwrite header. 
I'm slightly more inclined to do the latter, since bundling all the parameters into the request body seems like a more meaningful "unification" than re-using the Overwrite header, but either way is fine with me. 
Cheers, Geoff 1) What is the expected response for the case where the request URI is not mapped? 
1a) 404 NOT FOUND? 
1b) 409 Conflict with DAV:error/DAV:bind-into-collection? 2) What is the expected response code for the case where the resource to be bound does not exist (DAV:href in the request is unmapped)? 
2a) 404 NOT FOUND? 
1b) 409 Conflict with DAV:error/DAV:??? Obviously, I'd prefer not to have 1a) and 2a). 
Julian Good catch. 
We are missing a DAV:bound-resource-exists condition (I'll add one). 
The 404 refers to the request-URL not existing, so that clearly does not apply to this case. 
As for case (1), 404 seems to be the most meaningful status to return. 
Cheers, Geoff 1) What is the expected response for the case where the request URI is not mapped? 
1a) 404 NOT FOUND? 
1b) 409 Conflict with DAV:error/DAV:bind-into-collection? 2) What is the expected response code for the case where the resource to be bound does not exist (DAV:href in the request is unmapped)? 
2a) 404 NOT FOUND? 
1b) 409 Conflict with DAV:error/DAV:??? Obviously, I'd prefer not to have 1a) and 2a). 
Julian Perfect. 
I think I prefer the former -- obviously we have to choose between - making it as simple as possible for BIND - making it as consistent as possible for RFC2518 Moving the overwrite flag into the request body solves just one problem -- allowing the DAV:error element (or actually *specifying* it) for response codes != 403/409 simplifies the error mapping in other cases as well. 
So my vote would be to leave the BIND spec as it is, and to add an entry to the RFC2518 issues list saying that 4xx/5xx response bodies MAY use the DAV:error format defined in RFC3253. 
We could then start a separate activity to specify precondition names for common RFC2518 error conditions (such as parent collection must exist). 
Julian Sounds good to me as well. 
- Jim From: w3c-dist-auth-request@w3.org [mailto:w3c-dist-auth-request@w3.org]On 
Behalf Of Julian Reschke Sent: Monday, October 14, 2002 7:32 AM Subject: RE: BIND draft -- error conditions From: w3c-dist-auth-request@w3.org [mailto:w3c-dist-auth-request@w3.org]On 
That works for me. 
Jason: Can you add this to the 2518 issues list? 
Cheers, Geoff So my vote would be to leave the BIND spec as it is, and to add an entry to the RFC2518 issues list saying that 4xx/5xx response bodies MAY use the DAV:error format defined in RFC3253. 
We could then start a separate activity to specify precondition names for common RFC2518 error conditions (such as parent collection must exist). 
Done 
