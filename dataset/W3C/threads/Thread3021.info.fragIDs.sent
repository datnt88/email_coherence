<s> Looking for feedback on the short SWAP/XML example, particularly from the XML/EDI folks.  </s>
<s> Greg EXCERPT: All parameters are put into an XML encoding including scoping and namespaces to be sent with the appropriate calls.  </s>
<s> In the example of Figure 1, the root node has a list of attributes including interfaces,  </s>
<s> process instance key, valid states, actual state, and data.  </s>
<s> From this  </s>
<s> XML snippet, we can determine the values and state of that process instance as well as the others possible.  </s>
<s> This example shows a potential purchase order made by the SWAP working group chair using the configuration information provided by an online PC manufacturer.  </s>
<s> The SWAP protocol creates a trackable process instance upon the request, but doesn't begin the execution of the process.  </s>
<s> The method call returns a value of "207" Multi-Status indicating several different values are appropriate.  </s>
<s> It turns out that the size of the memory conflicts with the order configuration.  </s>
<s> The customer can then choose to TERMINATE the purchase order or amend it using the appropriate PROPFIND and PROPPATCH methods for assigning particular values.  </s>
<s> Request  </s>
<s> CREATEPROCESSINSTANCE /submit/order?proc=10 HTTP/1.1 Host: www.widget-makers.com  </s>
<s> Content-Type: text/xml Content-Length: xxxx realm="skreddy@oracle.com",  </s>
<s> ...  </s>
<s> ?xml:namespace ns="http://conf.pcmanufact.com/"  </s>
<s> prefix="z"  </s>
<s> ?  </s>
<s> d:startImmediately no /d:startImmediately !-- "available?"  </s>
<s> --  </s>
<s> Response  </s>
<s> HTTP/1.1 207 Multi-Status Content-Type: text/xml Content-Length: xxxxx ?xml:namespace  </s>
<s> ns="http://conf.pcmanufact.com/"  </s>
<s> prefix="z" ?  </s>
<s> d:href http://www.widget-makers.com/status?proc=10.1  </s>
<s> Question:  </s>
<s> doesn't this need a METHOD name after the d:observer tag?  </s>
<s> something like: Actually - I thought it would look more like this (sorry - no namespaces :( ): INTERFACE PROCESSINSTANCE /INTERFACE -- PROCESSINSTANCE is a value - not a tag????? METHOD PROPFIND /METHOD -- the PROCESSINSTANCE method as a METHOD tag value KEY http://rheim.jcals.csc.com /KEY --- the URL goes in the key field Otherwise - how do we know which method is being requested?  </s>
<s> thanks, rich  </s>
<s> Request  </s>
<s> Response  </s>
<s> The method is specified as part of the HTTP protocol.  </s>
<s> It is actually the first characters of the first line of the header of the request.  </s>
<s> Most requests to a web server use the GET method, so the browser will send as the first line to the server something like: GET /pub/doc/index.html  </s>
<s> HTTP/1.1  </s>
<s> For this reason the method does not need to be part of the XML body of the message.  </s>
<s> We were fairly well persuaded by ietf members who worked on WebDAV that this was the right way to extend the HTTP protocol for use in things like SWAP.  </s>
<s> By the way, the WebDAV spec goes into detail about the PROPFIND method you used as an example.  </s>
<s> -Keith  </s>
<s> Request  </s>
<s> ? d:swap  </s>
<s> -- /d:swap  </s>
<s> Response  </s>
<s> /d:processInstance d:propstat d:prop z:size/ /d:prop d:status HTTP/1.1 409  </s>
<s> Conflict /d:status  </s>
<s> d:comment part unavailable /d:comment /d:propstat d: propstat ?--  </s>
<s> "other resource properties" -- /d:propstat /d:response /d:multistatus  </s>
<s> I don't think it is appropriate to extend HTTP for SWAP in the same way that HTTP was extended for WebDAV.  </s>
<s> WebDAV is a set of extensions to HTTP for Web distributed authoring and versioning, and the extensions being supported are appropriate for things which might otherwise be accessed via web protocols.  </s>
<s> I think SWAP's situation is much more like IPP's, where the services are being accessed over the Internet are not otherwise Web resources that one would access using a web browser, and that using a single generic POST method (going POSTal), and putting the actual operation in the body, makes more sense.  </s>
<s> This design choice is somewhat of a religious debate, unfortunately: it's clear that the first-order functionality of a protocol can be expressed either way, and that the design considerations are second-order, yet the design choice has a major effect in the description of (although not the implementation of) the protocol.  </s>
<s> Larry  </s>
<s> Looks good to me, except you didn't use the current namespace syntax.  </s>
<s> Now the namespace is declared the first time it is used.  </s>
<s> Also don't forget to close your xml tag.  </s>
<s> Here is the first example fixed up: z:processor xmlns:Z="http://conf.pcmanufact.com/"  </s>
<s> pentiumII /z:processor  </s>
<s> Lisa  </s>
<s> Looking for feedback on the short SWAP/XML example, particularly from the XML/EDI folks.  </s>
<s> Greg EXCERPT: All parameters are put into an XML encoding including scoping and namespaces to be sent with the appropriate calls.  </s>
<s> In the example of Figure 1, the root node has a list of attributes including interfaces, process instance key, valid states, actual state, and data.  </s>
<s> From this XML snippet, we can determine the values and state of that process instance as well as the others possible.  </s>
<s> This example shows a potential purchase order made by the SWAP working group chair using the configuration information provided by an online PC manufacturer.  </s>
<s> The SWAP protocol creates a trackable process instance upon the request, but doesn't begin the execution of the process.  </s>
<s> The  </s>
<s> method call returns a value of "207" Multi-Status indicating several different values are appropriate.  </s>
<s> It turns out that the size of the memory conflicts with the order configuration.  </s>
<s> The customer can then choose to TERMINATE the purchase order or amend it using the appropriate PROPFIND and PROPPATCH methods for assigning particular values.  </s>
<s> Request  </s>
<s> CREATEPROCESSINSTANCE /submit/order?proc=10 HTTP/1.1 Host: www.widget-makers.com  </s>
<s> Content-Type: text/xml Content-Length: xxxx realm="skreddy@oracle.com",  </s>
<s> ... ?xml:namespace  </s>
<s> ns="http://conf.pcmanufact.com/"  </s>
<s> prefix="z" ?  </s>
<s> d:startImmediately no /d:startImmediately !-- "available?" --  </s>
<s> Response  </s>
<s> HTTP/1.1 207 Multi-Status Content-Type: text/xml Content-Length: xxxxx ?xml:namespace  </s>
<s> ns="http://conf.pcmanufact.com/"  </s>
<s> prefix="z" ?  </s>
<s> d:href http://www.widget-makers.com/status?proc=10.1  </s>
<s> Thanks everyone!  </s>
<s> I'll put it down as a possible example and describe the format as an item of debate.  </s>
<s> I tend to agree that HTTP methods should be added very sparingly, although it made the example easier and from a programming standpoint, would be easier to implement in some ways.  </s>
<s> Greg  </s>
<s> Just a note: When I run this example through IE 5.0 (which has XML support), I get the following error: Reference to undeclared namespace prefix: 'd'.  </s>
<s> Line 2, Position 25 thanks, rich heim  </s>
<s> 1. what does one do when one wishes to support both protocols.  </s>
<s> wouldn't that argue for uniform implementation?  </s>
<s> 2. does the WebDAV argument re authorization carry no significance here?  </s>
<s> According to an email from Lisa:  </s>
<s> Let me know if this fixes it.  </s>
<s> (I don't have a copy of IE 5.0).  </s>
<s> You're absolutely right.  </s>
<s> This is due to my silly error in changing the case of the namespace prefix to capital "D:".  </s>
<s> Also, I was wrong about closing the /xml tag.  </s>
<s> And, I found a 3rd error: namespaces are scoped to the current element and contained elements, so the "z:" namespace in the example has to be either redeclared for every z: element, or must be declared in some element which contains all the z: elements.  </s>
<s> This revised XML works: z:processor xmlns:z="http://conf.pcmanufact.com/"  </s>
<s> pentiumII /z:processor It also works to declare the z: namespace on just the "swap" element, even though that's not part of the z: namespace.. Lisa Just a note: When I run this example through IE 5.0 (which has XML support), I get the following error: Reference to undeclared namespace prefix: 'd'.  </s>
<s> Line 2, Position 25 thanks, rich heim  </s>
<s> Not particularly.  </s>
<s> It's not clear that your implementation effort is reduced if you have to modify an existing implementation to add more functionality.  </s>
<s> Not that I can see.  </s>
<s> You likely should review draft-iesg-using-http-00.txt, as well; it's an initial draft about the policy on 'using HTTP for other protocols', which seems to be what some people desire for SWAP.  </s>
