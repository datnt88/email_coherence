<s> Amaya 4.3 (Linux) does not accept this: 1 html xmlns="http://www.w3.org/1999/xhtml" 2 body 3 pre samp 4black &amp;&amp; white  </s>
<s> 5 /samp /pre 6 /body 7 /html but does this: 1 html 2 body 3 pre samp 4black &amp;&amp; white 5 /samp /pre 6 /body 7 /html The parsing error reported is:  </s>
<s> *** Errors/warnings in /tilde/ivanovic/tmp/test.html temp file: /tilde/ivanovic/.amaya/1/test.html line 4, char 7: not well-formed The W3 HTML Validator reports no errors with the first form.  </s>
<s> Q1: Who is right, Amaya 4.3 (Linux) or the current (18 Oct 00) W3C HTML Validator?  </s>
<s> Q2: If it is a bug, how do I report it, both for Amaya and for the W3C HTML Validator.  </s>
<s> --- Vladimir P.S. Please CC me on all replies since I'm not the www-amaya mailing list.  </s>
<s> I could grep through the archives, but it's easier for me if I don't.  </s>
<s> Thanks.  </s>
<s> --- Vladimir Vladimir G. Ivanovic work: 650.812.4485  </s>
<s> Consultant, Xerox PARC cell: 650.678.8014  </s>
<s> Hello,  </s>
<s> The problem is that you should code the &amp; as &amp;amp;, otherwise it's being interpreted as an entity name.  </s>
<s> The XML parser is much stricter than the HTML one.  </s>
<s> This is exactly what the parsing error reports, but not in such a clear way:  </s>
<s> I think it's a validator bug.  </s>
<s> JK Hello,  </s>
<s> JK The problem is that you should code the &amp; as &amp;amp;, otherwise it's being JK interpreted as an entity name.  </s>
<s> The XML parser is much stricter than the JK HTML one.  </s>
<s> The definition of SAMP is "Designates sample output from program, scripts, etc." (http://www.w3.org/TR/html401/struct/text.html).  </s>
<s> Program code frequently contains `&amp;' characters.  </s>
<s> The definition in the book "XHTML 1.0" by Ian S. Graham, says "Samp marks a block of text as a sequence of literal or sample characters..." (p. 66).  </s>
<s> Both of these definitions imply to me that unescaped, literal `&amp;' characters are NOT to be interpreted, but rather output without change, i.e. literally.  </s>
<s> BTW, Netscape 4.76 (Linux), Opera 5.0b7 and Mozilla 0.8b1 all render my test case as  </s>
<s> black &amp;&amp; white although HTML Tidy does issue a warning and changes the `&amp;' into "&amp;amp;".  </s>
<s> The following  </s>
<s> ![CDATA[ black &amp;&amp; white ]]  </s>
<s> displays nothing in any browser (Netscape, Opera, Mozilla, Amaya), but passes both HTML Tidy and the HTML Validator.  </s>
<s> JK This is exactly what the parsing error reports, but not in such a JK clear way:  </s>
<s> JK I think it's a validator bug.  </s>
<s> I'm not so sure.  </s>
<s> I don't know if the browser folks decided not to implement the standard, didn't implement it correctly, or if your interpretation of the HTML standard is wrong.  </s>
<s> My inclination is to think it's bug in Amaya and HTML Tidy.  </s>
<s> --- Vladimir Vladimir G. Ivanovic work: 650.812.4485  </s>
<s> Consultant, Xerox PARC cell: 650.678.8014  </s>
<s> [DJW:] The only definition of SAMP that matters, from the HTML 4 specfication is: !ENTITY % phrase "EM | STRONG | DFN | CODE | SAMP | KBD | VAR | CITE | ABBR | ACRONYM" [DJW:] Note that the content model allows any inline markup (anchors, emphasis, etc.), not just entities.  </s>
<s> [DJW:] Only the formal DTD fragment matters.  </s>
<s> There used to be an XAMP element, but this was deprecated in HTML 2.0 as it is impossible to describe in SGML as only an exact match on the end tag is allowed wherease CDATA allows a match on /  </s>
<s> [DJW:] And this is one of the reasons why invalid HTML is so common.  </s>
<s> [DJW:] HTML imposes additional constraints over SGML; one of which is that marked sections are not permitted - or at least you cannot expect browsers to recognize them.  </s>
<s> [DJW:] Amaya is correct.  </s>
<s> It wouldn't surprise me if nsgmls (the core of the validator) is also right, but someone would have to buy me a copy of the ISO standard for SGML to allow me to look up whether &amp;&amp; is an allowed escape for &amp; in parsed text.  </s>
<s> It is not an allowed escape in HTML, but the validator only checks against the DTD, not any additional constraints.  </s>
<s> [DJW:] --------------------------- DISCLAIMER --------------------------------- Any views expressed in this message are those of the individual sender, except where the sender specifically states them to be the views of BTS.  </s>
