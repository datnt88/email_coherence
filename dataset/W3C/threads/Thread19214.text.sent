-----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 Hi, I've been trying to get amaya working with opengl on Mac OS X. It's been a pain, but it appears to be a font issue: This is a build using freetype2 supplied by fink. 
It's pretty obvious that this is missing fonts. 
This is a build using the X supplied freetype2. 
At first glance all is well, but there are (seemingly) random missing characters. 
The first issue is probably something to do with fink, but can anyone suggest what's up with the second? 
The most obvious problem is the 'W's are missing, but not always. 
Suggestions gratefully received :-) Damian -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.1 (Darwin) Comment: Processed by Mailcrypt 3.5.6 and Gnu Privacy Guard http://www.gnupg.org/ 
iD8DBQE+bdORAyLCB+mTtykRAkW8AJ4/qoWBqdA6CkWK4ARl9iZKlnuZlQCeOo6T dVZ1GwLuyoF+WlKZFgaH1AU= =Ypnu -----END PGP SIGNATURE----- Hi, As it looks like fonts are not correctly handled, I think it's more a font configuration file issue : You should make sure you have good fonts in your Amaya font config file : check : http://www.w3.org/Amaya/User/FAQ.html#Change%20Fonts If fonts paths are incorrect, Amaya will try to find fonts in your system (but with less success, I think) Prefered fonts are scalable fonts, like ttf (truetype) or OpenType fonts (TrueType variants) with Unicode Mapping. 
So try to make amaya finds out good fonts on your system. 
If fonts aren't scalable or unicode, it may cause several bugs... 
For the symbol fonts, don't use the symbol.ttf, 
try symbol.pfb 
(should be somewhere in fink...) -Paul -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 Aha. 
I didn't think that issue was amaya's fault. 
However the second problem (missing characters) occurs with every font I've tried - including Microsoft's arial (from the core fonts, which you might have). 
Seem to the same ones missing regardless of font, AFAICT. 
Thanks Paul, Damian -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.1 (Darwin) Comment: Processed by Mailcrypt 3.5.6 and Gnu Privacy Guard http://www.gnupg.org/ 
iD8DBQE+bgINAyLCB+mTtykRAnHRAJ9jVPBsG7c2BSd8beW118dZd21+3QCcDRsw jkwfKzu/LTjrRkTvZeDG+Ug= =W3S6 -----END PGP SIGNATURE----- The font code using opengl and freetype2 works on linux and windows without those bugs... so there must be somewhere something special in fink or mac osx about fonts or freetype 2... If you are a OS X developper (if you have Mac OSX (Project Builder)), could you try to load same font and characters using FTGL lib and demos and see what happens ? 
FTGL also use freetype 2 and opengl, but in a OS X native way, so we could get more infos about the problem, as it's nearly the same problem... 
You could also try to compile/test/use FTGL in the fink environment to test fonts in fink... -Paul -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1 I assume it works on non-x86 linux? 
Ok, I ran the demo (unix version under X). Everything fine, no missing characters. 
As I said, however, it isn't that particular characters are always missing. 
Thanks for the help with this mystery :-) Damian -----BEGIN PGP SIGNATURE----- Version: GnuPG v1.2.1 (Darwin) Comment: Processed by Mailcrypt 3.5.6 and Gnu Privacy Guard http://www.gnupg.org/ 
iD8DBQE+bhE0AyLCB+mTtykRAgyBAKDLWMPPfPWQAUvp0Th4gLVr64acmgCg4d9F bLkmitLv1pvbzzZoyGW0liU= =s2e7 -----END PGP SIGNATURE----- Endianness hell... 
Well, I think the incriminated code is in Amaya/thotlib/dialogue/openglfont.c the p2() macro/function If you could try with : int p2(int p) p -= 1; p |= p   16; p |= p   8; p |= p   4; p |= p   2; p |= p   1; return p + 1; otherwise, identical, formulical, but VERY VERY VERY slower and surely the one that works on non-x86... : int p2(int p) return 1   (int) ceilf(logf((float) p) / M_LN2); or finally the slower than snail one : int p2 (p) return p*p; - If you know an optimized version of p*p on non-x86, feel free to try there - -Paul 
