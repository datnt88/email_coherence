<s> [this didn't get posted last time] stdin: Doctype given is "-//W3C//DTD HTML 4.01//EN" stdin: Document content looks like HTML 3.2 Erm, does a file crammed with big5 Chinese qualify as "looks like HTML 3.2"?  </s>
<s> Firstly i would like to commend tidy on being such a critical piece of software [if something goes wrong then "my web pages are ruined" :-( ], OK, It seems two runs in a row are required until I've got a file tidyed till it can't be tidyed anymore.  </s>
<s> "This thing doesn't have a self adjusting spin cycle, so I had to run it again before I got the whitest whites" as Suzy Homemaker would say.  </s>
<s> you see, first I strip all the big5 chars out of a file to make an alternative english version... make english b5strip mapping.htm|sed  </s>
<s> '1,/content="zh-tw" /{/ META/,/content="zh-tw" /d;}' mapping_en.html  </s>
<s> tidy01nov01 -qm mapping_en.html  </s>
<s> mapping_en.html:59:10:  </s>
<s> Warning: trimming empty em mapping_en.html:176:7:  </s>
<s> Warning: trimming empty h3 mapping_en.html:330:6:  </s>
<s> Warning: trimming empty p make: [mapping_en.html]  </s>
<s> Error 1 (ignored) tidy01nov01 -q mapping_en.html|diff  </s>
<s> mapping_en.html - mapping_en.html:57:6: Warning: trimming empty p mapping_en.html:309:6: Warning: trimming empty p mapping_en.html:311:13: Warning: trimming empty small mapping_en.html:311:21:  </s>
<s> Warning: trimming empty p mapping_en.html:325:6: Warning: trimming empty p mapping_en.html:327:6: Warning: trimming empty p 57,58d56  </s>
<s>  </s>
<s> 308,311d305  </s>
<s>  </s>
<s>  </s>
<s> 324,327d317  </s>
<s>  </s>
<s>  </s>
<s> make: [mapping_en.html]  </s>
<s> Error 1 (ignored) tidy01nov01 -qm mapping_en.html  </s>
<s> mapping_en.html:57:6:  </s>
<s> Warning: trimming empty p mapping_en.html:309:6: Warning: trimming empty p mapping_en.html:311:13: Warning: trimming empty small mapping_en.html:311:21:  </s>
<s> Warning: trimming empty p mapping_en.html:325:6: Warning: trimming empty p mapping_en.html:327:6: Warning: trimming empty p make: [mapping_en.html]  </s>
<s> Error 1 (ignored) tidy01nov01 -q mapping_en.html|diff  </s>
<s> mapping_en.html - tidy01nov01 -qm mapping_en.html  </s>
<s> tidy01nov01 -q mapping_en.html|diff  </s>
<s> mapping_en.html -  </s>
<s> Gentlemen, are your sure that you always want to collapse two spaces at the end of a sentence into one?  </s>
<s> Perhaps you can let us "opt out" of it maybe?  </s>
<s> Let's see what Stallman says: File: emacs, Node: Sentences, Next: Paragraphs, Prev: Words, Up: Text Sentences The Emacs commands for manipulating sentences and paragraphs are mostly on Meta keys, so as to be like the word-handling commands.  </s>
<s> The sentence commands assume that you follow the American typist's convention of putting two spaces at the end of a sentence; they consider a sentence to end wherever there is a `.', `?' or `!' followed by the end of a line or two spaces, with any number of `)', `]', `'', or `"' characters allowed in between.  </s>
<s> A sentence also begins or ends wherever a paragraph begins or ends.  </s>
<s> If you want to use just one space between sentences, you should set `sentence-end' to this value: "[.?!][]\"')]*\\($\\|\t\\| \\)[ \t\n]*" You should also set the variable `sentence-end-double-space' to `nil' so that the fill commands expect and leave just one space at the end of a sentence.  </s>
<s> Note that this makes it impossible to distinguish between periods that end sentences and those that indicate abbreviations.  </s>
<s> [Dan says: can we please not force us to mess with emacs defaults due to tidy inflexibility?] [By the way, i'm still to worried about BGCOLOR="black" etc. to use newest tidy]  </s>
<s> That is good to know.  </s>
<s> Thanks.  </s>
<s> It makes a lot of sense in the modern, kerned and variable pitch font world.  </s>
<s> The double space thing is really a holdover from fixed-pitch fonts, going back, I'd wager, to the typewriter.  </s>
<s> It is important to remember that (1) In the modern kerned and variable pitch font world, there are actually two styles for sentence spacing: "French spacing": a space is a space is a space.  </s>
<s> "English spacing": inter-sentence spaces are a bit bigger than inter-word spaces.  </s>
<s> When justifying, spacing after punctuation (including inter-sentence spacing) has more "give" in it than normal inter-word spacing.  </s>
<s> (2) Fixed-pitch fonts arguably go back a lot further than the typewriter.  </s>
<s> Look at Chinese, at Hangul, at "square" Hebrew letters, at cuneiform.  </s>
<s> (3) Fixed-pitch fonts are still very widely used in computing, especially in the programmers' editors that many of the HTML-hip use to compose their HTML.  </s>
<s> Whatever spacing convention is used by a Web browser to *present* the document (and surely that should be controllable via CSS), that's irrelevant to the spacing convention used for *composing* the document in a plain text editor.  </s>
<s> In this mailing list, we're NOT talking about how the text ends up being presented.  </s>
<s> We're talking about how the HTML source form is tidied, and arguments from "modern" typography (really based on mediaeval scribes' desire to cram as many words as they could onto their extremely expensive writing medium) are entirely beside the point.  </s>
<s> Doesn't TeX do something more involved with end-of-sentence spacing?  </s>
<s> How much bloat would it add to Tidy to make it smarter about punctuation at the end of sentences, like TeX?  </s>
<s> For the record, I used to be a "two spaces or die" biggot, but I got over it.  </s>
<s> Still, it would be nice if Tidy allowed as much stylistic choice as possible in the internal layout... / Todd_Lewis@unc.edu  </s>
<s> http://www.unc.edu/~utoddl / /(919) 962-5273 Lord, give me patience... Now! /  </s>
<s> My undergraduate degree is in a foreign language, so I find this type of discussion extremely fascinating, although it is really off-topic.  </s>
<s> Earlier, Gerhard Scholz suggested that two spaces could be placed at the end of sentences by using "dot&amp;nbsp;space".  </s>
<s> This will work, and there should be nothing in tidy that will prevent or alter this usage.  </s>
<s> (If there is, please send me an example, and I will work at fixing it.) But should tidy have an option to fix this up where it is not present?  </s>
<s> More to the point, can tidy fix this up where it is not present?  </s>
<s> The problem is, what is a sentence?  </s>
<s> From a lexigraphic standpoint, my first reaction would be to define the end of a sentence as a non-whitepace, followed by a period, an exclamation mark, or a question mark, followed by whitespace.  </s>
<s> But what about abbreviations like Mr., Ms. or Dr., which should be followed by a single space?  </s>
<s> And what about sentences "where the punctuation is encapsulated in quotation marks?"  </s>
<s> And what would be the effect of phrase elements and font style elements (e.g. em or i )?  </s>
<s> And I seem to recall from my typing class that there should be two spaces after colons as well.  </s>
<s> Should be include rules for that too?  </s>
<s> I conclude that the problem is more appropriately discussed in forums on natural language processing or artificial intelligence.  </s>
<s> I think that tidy should do nothing to prevent "two space or die" bigots from creating html which reflects their bias, but I don't think that it can or should "fix" text in which it is not already present.  </s>
<s> Lee, I agree with everything you said.  </s>
<s> Here's the point: Tidy has a bunch of options each of which control one of two different things: (can you have an off-topic parenthetical after the second colon in a sentence?  </s>
<s> Or can you even have two colons in a sentence?  </s>
<s> And embedded questions, too?  </s>
<s> Oh well...) presentation of the rendered HTML, and layout of the raw source.  </s>
<s> I understood the original problem to be that when Tidy rewraps raw blocks of text, it doesn't do the two-space two step.  </s>
<s> I didn't think we were talking about how browsers render spaces, as that's covered elsewhere in the appropriate specs (and violated at will by the browsers).  </s>
<s> All the issues you brought up about how to determine the end of sentences (in various languages no less) have been worked out for years in TeX, and the code is free for the taking.  </s>
<s> If it were important enough to some coder to preserve his two spaces (or "correct" it in HTML from other authors/sources), then he could take the appropriate part of TeX's code and incorporate it into Tidy, therefore doubling it's size (or there abouts -- I'm guessing).  </s>
<s> I would like such a flag, but I don't care enough about it to bloat Tidy that much.  </s>
<s> Like I said, I've gotten used to one space being sufficient.  </s>
<s> But the hard work (dealing with the issues you raised) has been done.  </s>
<s> If somebody wants to affect presentation, then ".&amp;nbsp; " is probably the way to go, unless there's some magic to be had in style sheets that I'm not aware of.  </s>
<s> But not only do I not want to work that hard, I don't want my browser to work that hard either.  </s>
<s> :-) / Todd_Lewis@unc.edu  </s>
<s> http://www.unc.edu/~utoddl / /(919) 962-5273 Lord, give me patience... Now! /  </s>
